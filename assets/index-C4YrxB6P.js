(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function Yc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cf={exports:{}},Bl={},If={exports:{}},St={};var jm;function S0(){if(jm)return St;jm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function b(Q){return Q===null||typeof Q!="object"?null:(Q=M&&Q[M]||Q["@@iterator"],typeof Q=="function"?Q:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,re={};function Y(Q,ye,Ke){this.props=Q,this.context=ye,this.refs=re,this.updater=Ke||$}Y.prototype.isReactComponent={},Y.prototype.setState=function(Q,ye){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ye,"setState")},Y.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function me(){}me.prototype=Y.prototype;function pe(Q,ye,Ke){this.props=Q,this.context=ye,this.refs=re,this.updater=Ke||$}var xe=pe.prototype=new me;xe.constructor=pe,J(xe,Y.prototype),xe.isPureReactComponent=!0;var Ne=Array.isArray,qe=Object.prototype.hasOwnProperty,Fe={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function z(Q,ye,Ke){var je,Be={},De=null,dt=null;if(ye!=null)for(je in ye.ref!==void 0&&(dt=ye.ref),ye.key!==void 0&&(De=""+ye.key),ye)qe.call(ye,je)&&!H.hasOwnProperty(je)&&(Be[je]=ye[je]);var ht=arguments.length-2;if(ht===1)Be.children=Ke;else if(1<ht){for(var _t=Array(ht),qt=0;qt<ht;qt++)_t[qt]=arguments[qt+2];Be.children=_t}if(Q&&Q.defaultProps)for(je in ht=Q.defaultProps,ht)Be[je]===void 0&&(Be[je]=ht[je]);return{$$typeof:i,type:Q,key:De,ref:dt,props:Be,_owner:Fe.current}}function j(Q,ye){return{$$typeof:i,type:Q.type,key:ye,ref:Q.ref,props:Q.props,_owner:Q._owner}}function Z(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===i}function W(Q){var ye={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Ke){return ye[Ke]})}var K=/\/+/g;function U(Q,ye){return typeof Q=="object"&&Q!==null&&Q.key!=null?W(""+Q.key):ye.toString(36)}function vt(Q,ye,Ke,je,Be){var De=typeof Q;(De==="undefined"||De==="boolean")&&(Q=null);var dt=!1;if(Q===null)dt=!0;else switch(De){case"string":case"number":dt=!0;break;case"object":switch(Q.$$typeof){case i:case e:dt=!0}}if(dt)return dt=Q,Be=Be(dt),Q=je===""?"."+U(dt,0):je,Ne(Be)?(Ke="",Q!=null&&(Ke=Q.replace(K,"$&/")+"/"),vt(Be,ye,Ke,"",function(qt){return qt})):Be!=null&&(Z(Be)&&(Be=j(Be,Ke+(!Be.key||dt&&dt.key===Be.key?"":(""+Be.key).replace(K,"$&/")+"/")+Q)),ye.push(Be)),1;if(dt=0,je=je===""?".":je+":",Ne(Q))for(var ht=0;ht<Q.length;ht++){De=Q[ht];var _t=je+U(De,ht);dt+=vt(De,ye,Ke,_t,Be)}else if(_t=b(Q),typeof _t=="function")for(Q=_t.call(Q),ht=0;!(De=Q.next()).done;)De=De.value,_t=je+U(De,ht++),dt+=vt(De,ye,Ke,_t,Be);else if(De==="object")throw ye=String(Q),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return dt}function Xt(Q,ye,Ke){if(Q==null)return Q;var je=[],Be=0;return vt(Q,je,"","",function(De){return ye.call(Ke,De,Be++)}),je}function Lt(Q){if(Q._status===-1){var ye=Q._result;ye=ye(),ye.then(function(Ke){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Ke)},function(Ke){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Ke)}),Q._status===-1&&(Q._status=0,Q._result=ye)}if(Q._status===1)return Q._result.default;throw Q._result}var Mt={current:null},_e={transition:null},ze={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:_e,ReactCurrentOwner:Fe};function ve(){throw Error("act(...) is not supported in production builds of React.")}return St.Children={map:Xt,forEach:function(Q,ye,Ke){Xt(Q,function(){ye.apply(this,arguments)},Ke)},count:function(Q){var ye=0;return Xt(Q,function(){ye++}),ye},toArray:function(Q){return Xt(Q,function(ye){return ye})||[]},only:function(Q){if(!Z(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},St.Component=Y,St.Fragment=t,St.Profiler=l,St.PureComponent=pe,St.StrictMode=s,St.Suspense=T,St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ze,St.act=ve,St.cloneElement=function(Q,ye,Ke){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var je=J({},Q.props),Be=Q.key,De=Q.ref,dt=Q._owner;if(ye!=null){if(ye.ref!==void 0&&(De=ye.ref,dt=Fe.current),ye.key!==void 0&&(Be=""+ye.key),Q.type&&Q.type.defaultProps)var ht=Q.type.defaultProps;for(_t in ye)qe.call(ye,_t)&&!H.hasOwnProperty(_t)&&(je[_t]=ye[_t]===void 0&&ht!==void 0?ht[_t]:ye[_t])}var _t=arguments.length-2;if(_t===1)je.children=Ke;else if(1<_t){ht=Array(_t);for(var qt=0;qt<_t;qt++)ht[qt]=arguments[qt+2];je.children=ht}return{$$typeof:i,type:Q.type,key:Be,ref:De,props:je,_owner:dt}},St.createContext=function(Q){return Q={$$typeof:p,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:c,_context:Q},Q.Consumer=Q},St.createElement=z,St.createFactory=function(Q){var ye=z.bind(null,Q);return ye.type=Q,ye},St.createRef=function(){return{current:null}},St.forwardRef=function(Q){return{$$typeof:E,render:Q}},St.isValidElement=Z,St.lazy=function(Q){return{$$typeof:A,_payload:{_status:-1,_result:Q},_init:Lt}},St.memo=function(Q,ye){return{$$typeof:x,type:Q,compare:ye===void 0?null:ye}},St.startTransition=function(Q){var ye=_e.transition;_e.transition={};try{Q()}finally{_e.transition=ye}},St.unstable_act=ve,St.useCallback=function(Q,ye){return Mt.current.useCallback(Q,ye)},St.useContext=function(Q){return Mt.current.useContext(Q)},St.useDebugValue=function(){},St.useDeferredValue=function(Q){return Mt.current.useDeferredValue(Q)},St.useEffect=function(Q,ye){return Mt.current.useEffect(Q,ye)},St.useId=function(){return Mt.current.useId()},St.useImperativeHandle=function(Q,ye,Ke){return Mt.current.useImperativeHandle(Q,ye,Ke)},St.useInsertionEffect=function(Q,ye){return Mt.current.useInsertionEffect(Q,ye)},St.useLayoutEffect=function(Q,ye){return Mt.current.useLayoutEffect(Q,ye)},St.useMemo=function(Q,ye){return Mt.current.useMemo(Q,ye)},St.useReducer=function(Q,ye,Ke){return Mt.current.useReducer(Q,ye,Ke)},St.useRef=function(Q){return Mt.current.useRef(Q)},St.useState=function(Q){return Mt.current.useState(Q)},St.useSyncExternalStore=function(Q,ye,Ke){return Mt.current.useSyncExternalStore(Q,ye,Ke)},St.useTransition=function(){return Mt.current.useTransition()},St.version="18.3.1",St}var Hm;function su(){return Hm||(Hm=1,If.exports=S0()),If.exports}var Wm;function x0(){if(Wm)return Bl;Wm=1;var i=su(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(E,T,x){var A,M={},b=null,$=null;x!==void 0&&(b=""+x),T.key!==void 0&&(b=""+T.key),T.ref!==void 0&&($=T.ref);for(A in T)s.call(T,A)&&!c.hasOwnProperty(A)&&(M[A]=T[A]);if(E&&E.defaultProps)for(A in T=E.defaultProps,T)M[A]===void 0&&(M[A]=T[A]);return{$$typeof:e,type:E,key:b,ref:$,props:M,_owner:l.current}}return Bl.Fragment=t,Bl.jsx=p,Bl.jsxs=p,Bl}var qm;function P0(){return qm||(qm=1,Cf.exports=x0()),Cf.exports}var Ae=P0(),de=su();const Hi=Yc(de);var $m="popstate";function C0(i={}){function e(s,l){let{pathname:c,search:p,hash:E}=s.location;return qf("",{pathname:c,search:p,hash:E},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:Xl(l)}return k0(e,t,null,i)}function hn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Co(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I0(){return Math.random().toString(36).substring(2,10)}function Zm(i,e){return{usr:i.state,key:i.key,idx:e}}function qf(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||s||I0()}}function Xl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function sl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function k0(i,e,t,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,p=l.history,E="POP",T=null,x=A();x==null&&(x=0,p.replaceState({...p.state,idx:x},""));function A(){return(p.state||{idx:null}).idx}function M(){E="POP";let Y=A(),me=Y==null?null:Y-x;x=Y,T&&T({action:E,location:re.location,delta:me})}function b(Y,me){E="PUSH";let pe=qf(re.location,Y,me);x=A()+1;let xe=Zm(pe,x),Ne=re.createHref(pe);try{p.pushState(xe,"",Ne)}catch(qe){if(qe instanceof DOMException&&qe.name==="DataCloneError")throw qe;l.location.assign(Ne)}c&&T&&T({action:E,location:re.location,delta:1})}function $(Y,me){E="REPLACE";let pe=qf(re.location,Y,me);x=A();let xe=Zm(pe,x),Ne=re.createHref(pe);p.replaceState(xe,"",Ne),c&&T&&T({action:E,location:re.location,delta:0})}function J(Y){return A0(Y)}let re={get action(){return E},get location(){return i(l,p)},listen(Y){if(T)throw new Error("A history only accepts one active listener");return l.addEventListener($m,M),T=Y,()=>{l.removeEventListener($m,M),T=null}},createHref(Y){return e(l,Y)},createURL:J,encodeLocation(Y){let me=J(Y);return{pathname:me.pathname,search:me.search,hash:me.hash}},push:b,replace:$,go(Y){return p.go(Y)}};return re}function A0(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),hn(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Xl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function E_(i,e,t="/"){return R0(i,e,t,!1)}function R0(i,e,t,s){let l=typeof e=="string"?sl(e):e,c=os(l.pathname||"/",t);if(c==null)return null;let p=T_(i);L0(p);let E=null;for(let T=0;E==null&&T<p.length;++T){let x=j0(c);E=B0(p[T],x,s)}return E}function T_(i,e=[],t=[],s="",l=!1){let c=(p,E,T=l,x)=>{let A={relativePath:x===void 0?p.path||"":x,caseSensitive:p.caseSensitive===!0,childrenIndex:E,route:p};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&T)return;hn(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let M=rs([s,A.relativePath]),b=t.concat(A);p.children&&p.children.length>0&&(hn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${M}".`),T_(p.children,e,b,M,T)),!(p.path==null&&!p.index)&&e.push({path:M,score:F0(M,p.index),routesMeta:b})};return i.forEach((p,E)=>{if(p.path===""||!p.path?.includes("?"))c(p,E);else for(let T of S_(p.path))c(p,E,!0,T)}),e}function S_(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let p=S_(s.join("/")),E=[];return E.push(...p.map(T=>T===""?c:[c,T].join("/"))),l&&E.push(...p),E.map(T=>i.startsWith("/")&&T===""?"/":T)}function L0(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:z0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var M0=/^:[\w-]+$/,N0=3,D0=2,O0=1,V0=10,b0=-2,Gm=i=>i==="*";function F0(i,e){let t=i.split("/"),s=t.length;return t.some(Gm)&&(s+=b0),e&&(s+=D0),t.filter(l=>!Gm(l)).reduce((l,c)=>l+(M0.test(c)?N0:c===""?O0:V0),s)}function z0(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function B0(i,e,t=!1){let{routesMeta:s}=i,l={},c="/",p=[];for(let E=0;E<s.length;++E){let T=s[E],x=E===s.length-1,A=c==="/"?e:e.slice(c.length)||"/",M=Mc({path:T.relativePath,caseSensitive:T.caseSensitive,end:x},A),b=T.route;if(!M&&x&&t&&!s[s.length-1].route.index&&(M=Mc({path:T.relativePath,caseSensitive:T.caseSensitive,end:!1},A)),!M)return null;Object.assign(l,M.params),p.push({params:l,pathname:rs([c,M.pathname]),pathnameBase:Z0(rs([c,M.pathnameBase])),route:b}),M.pathnameBase!=="/"&&(c=rs([c,M.pathnameBase]))}return p}function Mc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=U0(i.path,i.caseSensitive,i.end),l=e.match(t);if(!l)return null;let c=l[0],p=c.replace(/(.)\/+$/,"$1"),E=l.slice(1);return{params:s.reduce((x,{paramName:A,isOptional:M},b)=>{if(A==="*"){let J=E[b]||"";p=c.slice(0,c.length-J.length).replace(/(.)\/+$/,"$1")}const $=E[b];return M&&!$?x[A]=void 0:x[A]=($||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:p,pattern:i}}function U0(i,e=!1,t=!0){Co(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,E,T)=>(s.push({paramName:E,isOptional:T!=null}),T?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function j0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Co(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function os(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=i=>H0.test(i);function q0(i,e="/"){let{pathname:t,search:s="",hash:l=""}=typeof i=="string"?sl(i):i,c;if(t)if(W0(t))c=t;else{if(t.includes("//")){let p=t;t=t.replace(/\/\/+/g,"/"),Co(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${t}`)}t.startsWith("/")?c=Km(t.substring(1),"/"):c=Km(t,e)}else c=e;return{pathname:c,search:G0(s),hash:K0(l)}}function Km(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function kf(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $0(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x_(i){let e=$0(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function P_(i,e,t,s=!1){let l;typeof i=="string"?l=sl(i):(l={...i},hn(!l.pathname||!l.pathname.includes("?"),kf("?","pathname","search",l)),hn(!l.pathname||!l.pathname.includes("#"),kf("#","pathname","hash",l)),hn(!l.search||!l.search.includes("#"),kf("#","search","hash",l)));let c=i===""||l.pathname==="",p=c?"/":l.pathname,E;if(p==null)E=t;else{let M=e.length-1;if(!s&&p.startsWith("..")){let b=p.split("/");for(;b[0]==="..";)b.shift(),M-=1;l.pathname=b.join("/")}E=M>=0?e[M]:"/"}let T=q0(l,E),x=p&&p!=="/"&&p.endsWith("/"),A=(c||p===".")&&t.endsWith("/");return!T.pathname.endsWith("/")&&(x||A)&&(T.pathname+="/"),T}var rs=i=>i.join("/").replace(/\/\/+/g,"/"),Z0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),G0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,K0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Q0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function X0(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C_=["POST","PUT","PATCH","DELETE"];new Set(C_);var Y0=["GET",...C_];new Set(Y0);var al=de.createContext(null);al.displayName="DataRouter";var Jc=de.createContext(null);Jc.displayName="DataRouterState";de.createContext(!1);var I_=de.createContext({isTransitioning:!1});I_.displayName="ViewTransition";var J0=de.createContext(new Map);J0.displayName="Fetchers";var ew=de.createContext(null);ew.displayName="Await";var ko=de.createContext(null);ko.displayName="Navigation";var au=de.createContext(null);au.displayName="Location";var us=de.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var yd=de.createContext(null);yd.displayName="RouteError";function tw(i,{relative:e}={}){hn(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=de.useContext(ko),{hash:l,pathname:c,search:p}=uu(i,{relative:e}),E=c;return t!=="/"&&(E=c==="/"?t:rs([t,c])),s.createHref({pathname:E,search:p,hash:l})}function lu(){return de.useContext(au)!=null}function ma(){return hn(lu(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(au).location}var k_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A_(i){de.useContext(ko).static||de.useLayoutEffect(i)}function R_(){let{isDataRoute:i}=de.useContext(us);return i?pw():nw()}function nw(){hn(lu(),"useNavigate() may be used only in the context of a <Router> component.");let i=de.useContext(al),{basename:e,navigator:t}=de.useContext(ko),{matches:s}=de.useContext(us),{pathname:l}=ma(),c=JSON.stringify(x_(s)),p=de.useRef(!1);return A_(()=>{p.current=!0}),de.useCallback((T,x={})=>{if(Co(p.current,k_),!p.current)return;if(typeof T=="number"){t.go(T);return}let A=P_(T,JSON.parse(c),l,x.relative==="path");i==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:rs([e,A.pathname])),(x.replace?t.replace:t.push)(A,x.state,x)},[e,t,c,l,i])}de.createContext(null);function uu(i,{relative:e}={}){let{matches:t}=de.useContext(us),{pathname:s}=ma(),l=JSON.stringify(x_(t));return de.useMemo(()=>P_(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function rw(i,e){return L_(i,e)}function L_(i,e,t,s,l){hn(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=de.useContext(ko),{matches:p}=de.useContext(us),E=p[p.length-1],T=E?E.params:{},x=E?E.pathname:"/",A=E?E.pathnameBase:"/",M=E&&E.route;{let pe=M&&M.path||"";M_(x,!M||pe.endsWith("*")||pe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${pe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${pe}"> to <Route path="${pe==="/"?"*":`${pe}/*`}">.`)}let b=ma(),$;if(e){let pe=typeof e=="string"?sl(e):e;hn(A==="/"||pe.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${pe.pathname}" was given in the \`location\` prop.`),$=pe}else $=b;let J=$.pathname||"/",re=J;if(A!=="/"){let pe=A.replace(/^\//,"").split("/");re="/"+J.replace(/^\//,"").split("/").slice(pe.length).join("/")}let Y=E_(i,{pathname:re});Co(M||Y!=null,`No routes matched location "${$.pathname}${$.search}${$.hash}" `),Co(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${$.pathname}${$.search}${$.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let me=lw(Y&&Y.map(pe=>Object.assign({},pe,{params:Object.assign({},T,pe.params),pathname:rs([A,c.encodeLocation?c.encodeLocation(pe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:pe.pathname]),pathnameBase:pe.pathnameBase==="/"?A:rs([A,c.encodeLocation?c.encodeLocation(pe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:pe.pathnameBase])})),p,t,s,l);return e&&me?de.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...$},navigationType:"POP"}},me):me}function iw(){let i=dw(),e=Q0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},p=null;return console.error("Error handled by React Router default ErrorBoundary:",i),p=de.createElement(de.Fragment,null,de.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:c},"ErrorBoundary")," or"," ",de.createElement("code",{style:c},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:l},t):null,p)}var ow=de.createElement(iw,null),sw=class extends de.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?de.createElement(us.Provider,{value:this.props.routeContext},de.createElement(yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aw({routeContext:i,match:e,children:t}){let s=de.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(us.Provider,{value:i},t)}function lw(i,e=[],t=null,s=null,l=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let c=i,p=t?.errors;if(p!=null){let A=c.findIndex(M=>M.route.id&&p?.[M.route.id]!==void 0);hn(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),c=c.slice(0,Math.min(c.length,A+1))}let E=!1,T=-1;if(t)for(let A=0;A<c.length;A++){let M=c[A];if((M.route.HydrateFallback||M.route.hydrateFallbackElement)&&(T=A),M.route.id){let{loaderData:b,errors:$}=t,J=M.route.loader&&!b.hasOwnProperty(M.route.id)&&(!$||$[M.route.id]===void 0);if(M.route.lazy||J){E=!0,T>=0?c=c.slice(0,T+1):c=[c[0]];break}}}let x=t&&s?(A,M)=>{s(A,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:X0(t.matches),errorInfo:M})}:void 0;return c.reduceRight((A,M,b)=>{let $,J=!1,re=null,Y=null;t&&($=p&&M.route.id?p[M.route.id]:void 0,re=M.route.errorElement||ow,E&&(T<0&&b===0?(M_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,Y=null):T===b&&(J=!0,Y=M.route.hydrateFallbackElement||null)));let me=e.concat(c.slice(0,b+1)),pe=()=>{let xe;return $?xe=re:J?xe=Y:M.route.Component?xe=de.createElement(M.route.Component,null):M.route.element?xe=M.route.element:xe=A,de.createElement(aw,{match:M,routeContext:{outlet:A,matches:me,isDataRoute:t!=null},children:xe})};return t&&(M.route.ErrorBoundary||M.route.errorElement||b===0)?de.createElement(sw,{location:t.location,revalidation:t.revalidation,component:re,error:$,children:pe(),routeContext:{outlet:null,matches:me,isDataRoute:!0},onError:x}):pe()},null)}function vd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uw(i){let e=de.useContext(al);return hn(e,vd(i)),e}function cw(i){let e=de.useContext(Jc);return hn(e,vd(i)),e}function hw(i){let e=de.useContext(us);return hn(e,vd(i)),e}function wd(i){let e=hw(i),t=e.matches[e.matches.length-1];return hn(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function fw(){return wd("useRouteId")}function dw(){let i=de.useContext(yd),e=cw("useRouteError"),t=wd("useRouteError");return i!==void 0?i:e.errors?.[t]}function pw(){let{router:i}=uw("useNavigate"),e=wd("useNavigate"),t=de.useRef(!1);return A_(()=>{t.current=!0}),de.useCallback(async(l,c={})=>{Co(t.current,k_),t.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var Qm={};function M_(i,e,t){!e&&!Qm[i]&&(Qm[i]=!0,Co(!1,t))}de.memo(mw);function mw({routes:i,future:e,state:t,unstable_onError:s}){return L_(i,void 0,t,s,e)}function Tc(i){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gw({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:l,static:c=!1,unstable_useTransitions:p}){hn(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let E=i.replace(/^\/*/,"/"),T=de.useMemo(()=>({basename:E,navigator:l,static:c,unstable_useTransitions:p,future:{}}),[E,l,c,p]);typeof t=="string"&&(t=sl(t));let{pathname:x="/",search:A="",hash:M="",state:b=null,key:$="default"}=t,J=de.useMemo(()=>{let re=os(x,E);return re==null?null:{location:{pathname:re,search:A,hash:M,state:b,key:$},navigationType:s}},[E,x,A,M,b,$,s]);return Co(J!=null,`<Router basename="${E}"> is not able to match the URL "${x}${A}${M}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:de.createElement(ko.Provider,{value:T},de.createElement(au.Provider,{children:e,value:J}))}function _w({children:i,location:e}){return rw($f(i),e)}function $f(i,e=[]){let t=[];return de.Children.forEach(i,(s,l)=>{if(!de.isValidElement(s))return;let c=[...e,l];if(s.type===de.Fragment){t.push.apply(t,$f(s.props.children,c));return}hn(s.type===Tc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let p={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=$f(s.props.children,c)),t.push(p)}),t}var Sc="get",xc="application/x-www-form-urlencoded";function eh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function yw(i){return eh(i)&&i.tagName.toLowerCase()==="button"}function vw(i){return eh(i)&&i.tagName.toLowerCase()==="form"}function ww(i){return eh(i)&&i.tagName.toLowerCase()==="input"}function Ew(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Tw(i,e){return i.button===0&&(!e||e==="_self")&&!Ew(i)}var fc=null;function Sw(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(i){return i!=null&&!xw.has(i)?(Co(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):i}function Pw(i,e){let t,s,l,c,p;if(vw(i)){let E=i.getAttribute("action");s=E?os(E,e):null,t=i.getAttribute("method")||Sc,l=Af(i.getAttribute("enctype"))||xc,c=new FormData(i)}else if(yw(i)||ww(i)&&(i.type==="submit"||i.type==="image")){let E=i.form;if(E==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let T=i.getAttribute("formaction")||E.getAttribute("action");if(s=T?os(T,e):null,t=i.getAttribute("formmethod")||E.getAttribute("method")||Sc,l=Af(i.getAttribute("formenctype"))||Af(E.getAttribute("enctype"))||xc,c=new FormData(E,i),!Sw()){let{name:x,type:A,value:M}=i;if(A==="image"){let b=x?`${x}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else x&&c.append(x,M)}}else{if(eh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sc,s=null,l=xc,p=i}return c&&l==="text/plain"&&(p=c,c=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:c,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ed(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Cw(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&os(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function Iw(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Aw(i,e,t){let s=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let p=await Iw(c,t);return p.links?p.links():[]}return[]}));return Nw(s.flat(1).filter(kw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Xm(i,e,t,s,l,c){let p=(T,x)=>t[x]?T.route.id!==t[x].route.id:!0,E=(T,x)=>t[x].pathname!==T.pathname||t[x].route.path?.endsWith("*")&&t[x].params["*"]!==T.params["*"];return c==="assets"?e.filter((T,x)=>p(T,x)||E(T,x)):c==="data"?e.filter((T,x)=>{let A=s.routes[T.route.id];if(!A||!A.hasLoader)return!1;if(p(T,x)||E(T,x))return!0;if(T.route.shouldRevalidate){let M=T.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:T.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function Rw(i,e,{includeHydrateFallback:t}={}){return Lw(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Lw(i){return[...new Set(i)]}function Mw(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function Nw(i,e){let t=new Set;return new Set(e),i.reduce((s,l)=>{let c=JSON.stringify(Mw(l));return t.has(c)||(t.add(c),s.push({key:c,link:l})),s},[])}function N_(){let i=de.useContext(al);return Ed(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Dw(){let i=de.useContext(Jc);return Ed(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Td=de.createContext(void 0);Td.displayName="FrameworkContext";function D_(){let i=de.useContext(Td);return Ed(i,"You must render this element inside a <HydratedRouter> element"),i}function Ow(i,e){let t=de.useContext(Td),[s,l]=de.useState(!1),[c,p]=de.useState(!1),{onFocus:E,onBlur:T,onMouseEnter:x,onMouseLeave:A,onTouchStart:M}=e,b=de.useRef(null);de.useEffect(()=>{if(i==="render"&&p(!0),i==="viewport"){let re=me=>{me.forEach(pe=>{p(pe.isIntersecting)})},Y=new IntersectionObserver(re,{threshold:.5});return b.current&&Y.observe(b.current),()=>{Y.disconnect()}}},[i]),de.useEffect(()=>{if(s){let re=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(re)}}},[s]);let $=()=>{l(!0)},J=()=>{l(!1),p(!1)};return t?i!=="intent"?[c,b,{}]:[c,b,{onFocus:Ul(E,$),onBlur:Ul(T,J),onMouseEnter:Ul(x,$),onMouseLeave:Ul(A,J),onTouchStart:Ul(M,$)}]:[!1,b,{}]}function Ul(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Vw({page:i,...e}){let{router:t}=N_(),s=de.useMemo(()=>E_(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?de.createElement(Fw,{page:i,matches:s,...e}):null}function bw(i){let{manifest:e,routeModules:t}=D_(),[s,l]=de.useState([]);return de.useEffect(()=>{let c=!1;return Aw(i,e,t).then(p=>{c||l(p)}),()=>{c=!0}},[i,e,t]),s}function Fw({page:i,matches:e,...t}){let s=ma(),{manifest:l,routeModules:c}=D_(),{basename:p}=N_(),{loaderData:E,matches:T}=Dw(),x=de.useMemo(()=>Xm(i,e,T,l,s,"data"),[i,e,T,l,s]),A=de.useMemo(()=>Xm(i,e,T,l,s,"assets"),[i,e,T,l,s]),M=de.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let J=new Set,re=!1;if(e.forEach(me=>{let pe=l.routes[me.route.id];!pe||!pe.hasLoader||(!x.some(xe=>xe.route.id===me.route.id)&&me.route.id in E&&c[me.route.id]?.shouldRevalidate||pe.hasClientLoader?re=!0:J.add(me.route.id))}),J.size===0)return[];let Y=Cw(i,p,"data");return re&&J.size>0&&Y.searchParams.set("_routes",e.filter(me=>J.has(me.route.id)).map(me=>me.route.id).join(",")),[Y.pathname+Y.search]},[p,E,s,l,x,e,i,c]),b=de.useMemo(()=>Rw(A,l),[A,l]),$=bw(A);return de.createElement(de.Fragment,null,M.map(J=>de.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...t})),b.map(J=>de.createElement("link",{key:J,rel:"modulepreload",href:J,...t})),$.map(({key:J,link:re})=>de.createElement("link",{key:J,nonce:t.nonce,...re})))}function zw(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var O_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O_&&(window.__reactRouterVersion="7.10.1")}catch{}function Bw({basename:i,children:e,unstable_useTransitions:t,window:s}){let l=de.useRef();l.current==null&&(l.current=C0({window:s,v5Compat:!0}));let c=l.current,[p,E]=de.useState({action:c.action,location:c.location}),T=de.useCallback(x=>{t===!1?E(x):de.startTransition(()=>E(x))},[t]);return de.useLayoutEffect(()=>c.listen(T),[c,T]),de.createElement(gw,{basename:i,children:e,location:p.location,navigationType:p.action,navigator:c,unstable_useTransitions:t===!0})}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sd=de.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:l,reloadDocument:c,replace:p,state:E,target:T,to:x,preventScrollReset:A,viewTransition:M,...b},$){let{basename:J,unstable_useTransitions:re}=de.useContext(ko),Y=typeof x=="string"&&V_.test(x),me,pe=!1;if(typeof x=="string"&&Y&&(me=x,O_))try{let Z=new URL(window.location.href),W=x.startsWith("//")?new URL(Z.protocol+x):new URL(x),K=os(W.pathname,J);W.origin===Z.origin&&K!=null?x=K+W.search+W.hash:pe=!0}catch{Co(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let xe=tw(x,{relative:l}),[Ne,qe,Fe]=Ow(s,b),H=Ww(x,{replace:p,state:E,target:T,preventScrollReset:A,relative:l,viewTransition:M,unstable_useTransitions:re});function z(Z){e&&e(Z),Z.defaultPrevented||H(Z)}let j=de.createElement("a",{...b,...Fe,href:me||xe,onClick:pe||c?e:z,ref:zw($,qe),target:T,"data-discover":!Y&&t==="render"?"true":void 0});return Ne&&!Y?de.createElement(de.Fragment,null,j,de.createElement(Vw,{page:xe})):j});Sd.displayName="Link";var Uw=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:l=!1,style:c,to:p,viewTransition:E,children:T,...x},A){let M=uu(p,{relative:x.relative}),b=ma(),$=de.useContext(Jc),{navigator:J,basename:re}=de.useContext(ko),Y=$!=null&&Kw(M)&&E===!0,me=J.encodeLocation?J.encodeLocation(M).pathname:M.pathname,pe=b.pathname,xe=$&&$.navigation&&$.navigation.location?$.navigation.location.pathname:null;t||(pe=pe.toLowerCase(),xe=xe?xe.toLowerCase():null,me=me.toLowerCase()),xe&&re&&(xe=os(xe,re)||xe);const Ne=me!=="/"&&me.endsWith("/")?me.length-1:me.length;let qe=pe===me||!l&&pe.startsWith(me)&&pe.charAt(Ne)==="/",Fe=xe!=null&&(xe===me||!l&&xe.startsWith(me)&&xe.charAt(me.length)==="/"),H={isActive:qe,isPending:Fe,isTransitioning:Y},z=qe?e:void 0,j;typeof s=="function"?j=s(H):j=[s,qe?"active":null,Fe?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(H):c;return de.createElement(Sd,{...x,"aria-current":z,className:j,ref:A,style:Z,to:p,viewTransition:E},typeof T=="function"?T(H):T)});Uw.displayName="NavLink";var jw=de.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:l,state:c,method:p=Sc,action:E,onSubmit:T,relative:x,preventScrollReset:A,viewTransition:M,...b},$)=>{let{unstable_useTransitions:J}=de.useContext(ko),re=Zw(),Y=Gw(E,{relative:x}),me=p.toLowerCase()==="get"?"get":"post",pe=typeof E=="string"&&V_.test(E),xe=Ne=>{if(T&&T(Ne),Ne.defaultPrevented)return;Ne.preventDefault();let qe=Ne.nativeEvent.submitter,Fe=qe?.getAttribute("formmethod")||p,H=()=>re(qe||Ne.currentTarget,{fetcherKey:e,method:Fe,navigate:t,replace:l,state:c,relative:x,preventScrollReset:A,viewTransition:M});J&&t!==!1?de.startTransition(()=>H()):H()};return de.createElement("form",{ref:$,method:me,action:Y,onSubmit:s?T:xe,...b,"data-discover":!pe&&i==="render"?"true":void 0})});jw.displayName="Form";function Hw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(i){let e=de.useContext(al);return hn(e,Hw(i)),e}function Ww(i,{target:e,replace:t,state:s,preventScrollReset:l,relative:c,viewTransition:p,unstable_useTransitions:E}={}){let T=R_(),x=ma(),A=uu(i,{relative:c});return de.useCallback(M=>{if(Tw(M,e)){M.preventDefault();let b=t!==void 0?t:Xl(x)===Xl(A),$=()=>T(i,{replace:b,state:s,preventScrollReset:l,relative:c,viewTransition:p});E?de.startTransition(()=>$()):$()}},[x,T,A,t,s,e,i,l,c,p,E])}var qw=0,$w=()=>`__${String(++qw)}__`;function Zw(){let{router:i}=b_("useSubmit"),{basename:e}=de.useContext(ko),t=fw(),s=i.fetch,l=i.navigate;return de.useCallback(async(c,p={})=>{let{action:E,method:T,encType:x,formData:A,body:M}=Pw(c,e);if(p.navigate===!1){let b=p.fetcherKey||$w();await s(b,t,p.action||E,{preventScrollReset:p.preventScrollReset,formData:A,body:M,formMethod:p.method||T,formEncType:p.encType||x,flushSync:p.flushSync})}else await l(p.action||E,{preventScrollReset:p.preventScrollReset,formData:A,body:M,formMethod:p.method||T,formEncType:p.encType||x,replace:p.replace,state:p.state,fromRouteId:t,flushSync:p.flushSync,viewTransition:p.viewTransition})},[s,l,e,t])}function Gw(i,{relative:e}={}){let{basename:t}=de.useContext(ko),s=de.useContext(us);hn(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...uu(i||".",{relative:e})},p=ma();if(i==null){c.search=p.search;let E=new URLSearchParams(c.search),T=E.getAll("index");if(T.some(A=>A==="")){E.delete("index"),T.filter(M=>M).forEach(M=>E.append("index",M));let A=E.toString();c.search=A?`?${A}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:rs([t,c.pathname])),Xl(c)}function Kw(i,{relative:e}={}){let t=de.useContext(I_);hn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=b_("useViewTransitionState"),l=uu(i,{relative:e});if(!t.isTransitioning)return!1;let c=os(t.currentLocation.pathname,s)||t.currentLocation.pathname,p=os(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Mc(l.pathname,p)!=null||Mc(l.pathname,c)!=null}var Rf={exports:{}},Pi={},Lf={exports:{}},Mf={};var Ym;function Qw(){return Ym||(Ym=1,(function(i){function e(_e,ze){var ve=_e.length;_e.push(ze);e:for(;0<ve;){var Q=ve-1>>>1,ye=_e[Q];if(0<l(ye,ze))_e[Q]=ze,_e[ve]=ye,ve=Q;else break e}}function t(_e){return _e.length===0?null:_e[0]}function s(_e){if(_e.length===0)return null;var ze=_e[0],ve=_e.pop();if(ve!==ze){_e[0]=ve;e:for(var Q=0,ye=_e.length,Ke=ye>>>1;Q<Ke;){var je=2*(Q+1)-1,Be=_e[je],De=je+1,dt=_e[De];if(0>l(Be,ve))De<ye&&0>l(dt,Be)?(_e[Q]=dt,_e[De]=ve,Q=De):(_e[Q]=Be,_e[je]=ve,Q=je);else if(De<ye&&0>l(dt,ve))_e[Q]=dt,_e[De]=ve,Q=De;else break e}}return ze}function l(_e,ze){var ve=_e.sortIndex-ze.sortIndex;return ve!==0?ve:_e.id-ze.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,E=p.now();i.unstable_now=function(){return p.now()-E}}var T=[],x=[],A=1,M=null,b=3,$=!1,J=!1,re=!1,Y=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xe(_e){for(var ze=t(x);ze!==null;){if(ze.callback===null)s(x);else if(ze.startTime<=_e)s(x),ze.sortIndex=ze.expirationTime,e(T,ze);else break;ze=t(x)}}function Ne(_e){if(re=!1,xe(_e),!J)if(t(T)!==null)J=!0,Lt(qe);else{var ze=t(x);ze!==null&&Mt(Ne,ze.startTime-_e)}}function qe(_e,ze){J=!1,re&&(re=!1,me(z),z=-1),$=!0;var ve=b;try{for(xe(ze),M=t(T);M!==null&&(!(M.expirationTime>ze)||_e&&!W());){var Q=M.callback;if(typeof Q=="function"){M.callback=null,b=M.priorityLevel;var ye=Q(M.expirationTime<=ze);ze=i.unstable_now(),typeof ye=="function"?M.callback=ye:M===t(T)&&s(T),xe(ze)}else s(T);M=t(T)}if(M!==null)var Ke=!0;else{var je=t(x);je!==null&&Mt(Ne,je.startTime-ze),Ke=!1}return Ke}finally{M=null,b=ve,$=!1}}var Fe=!1,H=null,z=-1,j=5,Z=-1;function W(){return!(i.unstable_now()-Z<j)}function K(){if(H!==null){var _e=i.unstable_now();Z=_e;var ze=!0;try{ze=H(!0,_e)}finally{ze?U():(Fe=!1,H=null)}}else Fe=!1}var U;if(typeof pe=="function")U=function(){pe(K)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Xt=vt.port2;vt.port1.onmessage=K,U=function(){Xt.postMessage(null)}}else U=function(){Y(K,0)};function Lt(_e){H=_e,Fe||(Fe=!0,U())}function Mt(_e,ze){z=Y(function(){_e(i.unstable_now())},ze)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_e){_e.callback=null},i.unstable_continueExecution=function(){J||$||(J=!0,Lt(qe))},i.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_e?Math.floor(1e3/_e):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return t(T)},i.unstable_next=function(_e){switch(b){case 1:case 2:case 3:var ze=3;break;default:ze=b}var ve=b;b=ze;try{return _e()}finally{b=ve}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(_e,ze){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ve=b;b=_e;try{return ze()}finally{b=ve}},i.unstable_scheduleCallback=function(_e,ze,ve){var Q=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Q+ve:Q):ve=Q,_e){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ve+ye,_e={id:A++,callback:ze,priorityLevel:_e,startTime:ve,expirationTime:ye,sortIndex:-1},ve>Q?(_e.sortIndex=ve,e(x,_e),t(T)===null&&_e===t(x)&&(re?(me(z),z=-1):re=!0,Mt(Ne,ve-Q))):(_e.sortIndex=ye,e(T,_e),J||$||(J=!0,Lt(qe))),_e},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(_e){var ze=b;return function(){var ve=b;b=ze;try{return _e.apply(this,arguments)}finally{b=ve}}}})(Mf)),Mf}var Jm;function Xw(){return Jm||(Jm=1,Lf.exports=Qw()),Lf.exports}var eg;function Yw(){if(eg)return Pi;eg=1;var i=su(),e=Xw();function t(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(n,o){p(n,o),p(n+"Capture",o)}function p(n,o){for(l[n]=o,n=0;n<o.length;n++)s.add(o[n])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},M={};function b(n){return T.call(M,n)?!0:T.call(A,n)?!1:x.test(n)?M[n]=!0:(A[n]=!0,!1)}function $(n,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function J(n,o,u,d){if(o===null||typeof o>"u"||$(n,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function re(n,o,u,d,g,w,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=n,this.type=o,this.sanitizeURL=w,this.removeEmptyString=k}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Y[n]=new re(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];Y[o]=new re(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){Y[n]=new re(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Y[n]=new re(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Y[n]=new re(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){Y[n]=new re(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){Y[n]=new re(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){Y[n]=new re(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){Y[n]=new re(n,5,!1,n.toLowerCase(),null,!1,!1)});var me=/[\-:]([a-z])/g;function pe(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(me,pe);Y[o]=new re(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(me,pe);Y[o]=new re(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(me,pe);Y[o]=new re(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){Y[n]=new re(n,1,!1,n.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){Y[n]=new re(n,1,!1,n.toLowerCase(),null,!0,!0)});function xe(n,o,u,d){var g=Y.hasOwnProperty(o)?Y[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(J(o,u,g,d)&&(u=null),d||g===null?b(o)&&(u===null?n.removeAttribute(o):n.setAttribute(o,""+u)):g.mustUseProperty?n[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,d=g.attributeNamespace,u===null?n.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,d?n.setAttributeNS(d,o,u):n.setAttribute(o,u))))}var Ne=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qe=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),W=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),Xt=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Mt=Symbol.for("react.offscreen"),_e=Symbol.iterator;function ze(n){return n===null||typeof n!="object"?null:(n=_e&&n[_e]||n["@@iterator"],typeof n=="function"?n:null)}var ve=Object.assign,Q;function ye(n){if(Q===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Q=o&&o[1]||""}return`
`+Q+n}var Ke=!1;function je(n,o){if(!n||Ke)return"";Ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(fe){var d=fe}Reflect.construct(n,[],o)}else{try{o.call()}catch(fe){d=fe}n.call(o.prototype)}else{try{throw Error()}catch(fe){d=fe}n()}}catch(fe){if(fe&&d&&typeof fe.stack=="string"){for(var g=fe.stack.split(`
`),w=d.stack.split(`
`),k=g.length-1,B=w.length-1;1<=k&&0<=B&&g[k]!==w[B];)B--;for(;1<=k&&0<=B;k--,B--)if(g[k]!==w[B]){if(k!==1||B!==1)do if(k--,B--,0>B||g[k]!==w[B]){var G=`
`+g[k].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=k&&0<=B);break}}}finally{Ke=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?ye(n):""}function Be(n){switch(n.tag){case 5:return ye(n.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return n=je(n.type,!1),n;case 11:return n=je(n.type.render,!1),n;case 1:return n=je(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case Fe:return"Portal";case j:return"Profiler";case z:return"StrictMode";case U:return"Suspense";case vt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case W:return(n.displayName||"Context")+".Consumer";case Z:return(n._context.displayName||"Context")+".Provider";case K:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xt:return o=n.displayName||null,o!==null?o:De(n.type)||"Memo";case Lt:o=n._payload,n=n._init;try{return De(n(o))}catch{}}return null}function dt(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ht(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _t(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qt(n){var o=_t(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),d=""+n[o];if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){d=""+k,w.call(this,k)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function vn(n){n._valueTracker||(n._valueTracker=qt(n))}function gr(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return n&&(d=_t(n)?n.checked?"true":"false":n.value),n=d,n!==u?(o.setValue(n),!0):!1}function Ut(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qn(n,o){var u=o.checked;return ve({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function Wi(n,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=ht(o.value!=null?o.value:u),n._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Mr(n,o){o=o.checked,o!=null&&xe(n,"checked",o,!1)}function qr(n,o){Mr(n,o);var u=ht(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?jt(n,o.type,u):o.hasOwnProperty("defaultValue")&&jt(n,o.type,ht(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function _r(n,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,u||o===n.value||(n.value=o),n.defaultValue=o}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function jt(n,o,u){(o!=="number"||Ut(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var Bt=Array.isArray;function On(n,o,u,d){if(n=n.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<n.length;u++)g=o.hasOwnProperty("$"+n[u].value),n[u].selected!==g&&(n[u].selected=g),g&&d&&(n[u].defaultSelected=!0)}else{for(u=""+ht(u),o=null,g=0;g<n.length;g++){if(n[g].value===u){n[g].selected=!0,d&&(n[g].defaultSelected=!0);return}o!==null||n[g].disabled||(o=n[g])}o!==null&&(o.selected=!0)}}function $n(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ve({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tn(n,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}n._wrapperState={initialValue:ht(u)}}function ho(n,o){var u=ht(o.value),d=ht(o.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),o.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),d!=null&&(n.defaultValue=""+d)}function $r(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function ai(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function li(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?ai(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tr,fo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,g){MSApp.execUnsafeLocalFunction(function(){return n(o,u,d,g)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=tr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function Zr(n,o){if(o){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=o;return}}n.textContent=o}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qi=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(n){qi.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Gr[o]=Gr[n]})});function nr(n,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Gr.hasOwnProperty(n)&&Gr[n]?(""+o).trim():o+"px"}function ui(n,o){n=n.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,g=nr(u,o[u],d);u==="float"&&(u="cssFloat"),d?n.setProperty(u,g):n[u]=g}}var $i=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yr(n,o){if(o){if($i[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Nr(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function wn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,Zn=null,tt=null;function Kr(n){if(n=Go(n)){if(typeof rr!="function")throw Error(t(280));var o=n.stateNode;o&&(o=Ra(o),rr(n.stateNode,n.type,o))}}function vr(n){Zn?tt?tt.push(n):tt=[n]:Zn=n}function ir(){if(Zn){var n=Zn,o=tt;if(tt=Zn=null,Kr(n),o)for(n=0;n<o.length;n++)Kr(o[n])}}function wr(n,o){return n(o)}function Ii(){}var dn=!1;function ki(n,o,u){if(dn)return n(o,u);dn=!0;try{return wr(n,o,u)}finally{dn=!1,(Zn!==null||tt!==null)&&(Ii(),ir())}}function Qr(n,o){var u=n.stateNode;if(u===null)return null;var d=Ra(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Dr=!1;if(E)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Dr=!1}function po(n,o,u,d,g,w,k,B,G){var fe=Array.prototype.slice.call(arguments,3);try{o.apply(u,fe)}catch(Pe){this.onError(Pe)}}var Yt=!1,be=null,Ai=!1,pn=null,Zi={onError:function(n){Yt=!0,be=n}};function hi(n,o,u,d,g,w,k,B,G){Yt=!1,be=null,po.apply(Zi,arguments)}function Yr(n,o,u,d,g,w,k,B,G){if(hi.apply(this,arguments),Yt){if(Yt){var fe=be;Yt=!1,be=null}else throw Error(t(198));Ai||(Ai=!0,pn=fe)}}function or(n){var o=n,u=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(u=o.return),n=o.return;while(n)}return o.tag===3?u:null}function Vn(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function mo(n){if(or(n)!==n)throw Error(t(188))}function Gi(n){var o=n.alternate;if(!o){if(o=or(n),o===null)throw Error(t(188));return o!==n?null:n}for(var u=n,d=o;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(d=g.return,d!==null){u=d;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return mo(g),n;if(w===d)return mo(g),o;w=w.sibling}throw Error(t(188))}if(u.return!==d.return)u=g,d=w;else{for(var k=!1,B=g.child;B;){if(B===u){k=!0,u=g,d=w;break}if(B===d){k=!0,d=g,u=w;break}B=B.sibling}if(!k){for(B=w.child;B;){if(B===u){k=!0,u=w,d=g;break}if(B===d){k=!0,d=w,u=g;break}B=B.sibling}if(!k)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?n:o}function Ri(n){return n=Gi(n),n!==null?Er(n):null}function Er(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Er(n);if(o!==null)return o;n=n.sibling}return null}var fi=e.unstable_scheduleCallback,di=e.unstable_cancelCallback,pi=e.unstable_shouldYield,Gn=e.unstable_requestPaint,Ot=e.unstable_now,En=e.unstable_getCurrentPriorityLevel,Li=e.unstable_ImmediatePriority,Mi=e.unstable_UserBlockingPriority,Jr=e.unstable_NormalPriority,mi=e.unstable_LowPriority,Tn=e.unstable_IdlePriority,Kn=null,Sn=null;function sr(n){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Kn,n,void 0,(n.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:bn,wt=Math.log,sn=Math.LN2;function bn(n){return n>>>=0,n===0?32:31-(wt(n)/sn|0)|0}var nn=64,Tr=4194304;function Oe(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xt(n,o){var u=n.pendingLanes;if(u===0)return 0;var d=0,g=n.suspendedLanes,w=n.pingedLanes,k=u&268435455;if(k!==0){var B=k&~g;B!==0?d=Oe(B):(w&=k,w!==0&&(d=Oe(w)))}else k=u&~g,k!==0?d=Oe(k):w!==0&&(d=Oe(w));if(d===0)return 0;if(o!==0&&o!==d&&(o&g)===0&&(g=d&-d,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=d;0<o;)u=31-nt(o),g=1<<u,d|=n[u],o&=~g;return d}function y(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(n,o){for(var u=n.suspendedLanes,d=n.pingedLanes,g=n.expirationTimes,w=n.pendingLanes;0<w;){var k=31-nt(w),B=1<<k,G=g[k];G===-1?((B&u)===0||(B&d)!==0)&&(g[k]=y(B,o)):G<=o&&(n.expiredLanes|=B),w&=~B}}function D(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function F(){var n=nn;return nn<<=1,(nn&4194240)===0&&(nn=64),n}function ae(n){for(var o=[],u=0;31>u;u++)o.push(n);return o}function ee(n,o,u){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-nt(o),n[o]=u}function he(n,o){var u=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<u;){var g=31-nt(u),w=1<<g;o[g]=0,d[g]=-1,n[g]=-1,u&=~w}}function Ce(n,o){var u=n.entangledLanes|=o;for(n=n.entanglements;u;){var d=31-nt(u),g=1<<d;g&o|n[d]&o&&(n[d]|=o),u&=~g}}var Re=0;function Ze(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ot,Pt,xn,Pn,rn,mn=!1,Fn=[],Cn=null,In=null,Zt=null,ar=new Map,Je=new Map,Gt=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ni(n,o){switch(n){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":ar.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Je.delete(o.pointerId)}}function Sr(n,o,u,d,g,w){return n===null||n.nativeEvent!==w?(n={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:w,targetContainers:[g]},o!==null&&(o=Go(o),o!==null&&Pt(o)),n):(n.eventSystemFlags|=d,o=n.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),n)}function Ao(n,o,u,d,g){switch(o){case"focusin":return Cn=Sr(Cn,n,o,u,d,g),!0;case"dragenter":return In=Sr(In,n,o,u,d,g),!0;case"mouseover":return Zt=Sr(Zt,n,o,u,d,g),!0;case"pointerover":var w=g.pointerId;return ar.set(w,Sr(ar.get(w)||null,n,o,u,d,g)),!0;case"gotpointercapture":return w=g.pointerId,Je.set(w,Sr(Je.get(w)||null,n,o,u,d,g)),!0}return!1}function zn(n){var o=Zo(n.target);if(o!==null){var u=or(o);if(u!==null){if(o=u.tag,o===13){if(o=Vn(u),o!==null){n.blockedOn=o,rn(n.priority,function(){xn(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Et(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var u=Oi(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var d=new u.constructor(u.type,u);ci=d,u.target.dispatchEvent(d),ci=null}else return o=Go(u),o!==null&&Pt(o),n.blockedOn=u,!1;o.shift()}return!0}function Di(n,o,u){Et(n)&&u.delete(o)}function It(){mn=!1,Cn!==null&&Et(Cn)&&(Cn=null),In!==null&&Et(In)&&(In=null),Zt!==null&&Et(Zt)&&(Zt=null),ar.forEach(Di),Je.forEach(Di)}function Ft(n,o){n.blockedOn===o&&(n.blockedOn=null,mn||(mn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,It)))}function kn(n){function o(g){return Ft(g,n)}if(0<Fn.length){Ft(Fn[0],n);for(var u=1;u<Fn.length;u++){var d=Fn[u];d.blockedOn===n&&(d.blockedOn=null)}}for(Cn!==null&&Ft(Cn,n),In!==null&&Ft(In,n),Zt!==null&&Ft(Zt,n),ar.forEach(o),Je.forEach(o),u=0;u<Gt.length;u++)d=Gt[u],d.blockedOn===n&&(d.blockedOn=null);for(;0<Gt.length&&(u=Gt[0],u.blockedOn===null);)zn(u),u.blockedOn===null&&Gt.shift()}var lr=Ne.ReactCurrentBatchConfig,An=!0;function xr(n,o,u,d){var g=Re,w=lr.transition;lr.transition=null;try{Re=1,Ki(n,o,u,d)}finally{Re=g,lr.transition=w}}function ei(n,o,u,d){var g=Re,w=lr.transition;lr.transition=null;try{Re=4,Ki(n,o,u,d)}finally{Re=g,lr.transition=w}}function Ki(n,o,u,d){if(An){var g=Oi(n,o,u,d);if(g===null)r(n,o,d,Or,u),Ni(n,d);else if(Ao(g,n,o,u,d))d.stopPropagation();else if(Ni(n,d),o&4&&-1<Vt.indexOf(n)){for(;g!==null;){var w=Go(g);if(w!==null&&ot(w),w=Oi(n,o,u,d),w===null&&r(n,o,d,Or,u),w===g)break;g=w}g!==null&&d.stopPropagation()}else r(n,o,d,null,u)}}var Or=null;function Oi(n,o,u,d){if(Or=null,n=wn(d),n=Zo(n),n!==null)if(o=or(n),o===null)n=null;else if(u=o.tag,u===13){if(n=Vn(o),n!==null)return n;n=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Or=n,null}function mt(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(En()){case Li:return 1;case Mi:return 4;case Jr:case mi:return 16;case Tn:return 536870912;default:return 16}default:return 16}}var ur=null,Rn=null,Pr=null;function Wo(){if(Pr)return Pr;var n,o=Rn,u=o.length,d,g="value"in ur?ur.value:ur.textContent,w=g.length;for(n=0;n<u&&o[n]===g[n];n++);var k=u-n;for(d=1;d<=k&&o[u-d]===g[w-d];d++);return Pr=g.slice(n,1<d?1-d:void 0)}function gi(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Cr(){return!0}function Qi(){return!1}function an(n){function o(u,d,g,w,k){this._reactName=u,this._targetInst=g,this.type=d,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(u=n[B],this[B]=u?u(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Cr:Qi,this.isPropagationStopped=Qi,this}return ve(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),o}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=an(_i),yi=ve({},_i,{view:0,detail:0}),Xi=an(yi),gn,vi,Ln,Qn=ve({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ln&&(Ln&&n.type==="mousemove"?(gn=n.screenX-Ln.screenX,vi=n.screenY-Ln.screenY):vi=gn=0,Ln=n),gn)},movementY:function(n){return"movementY"in n?n.movementY:vi}}),go=an(Qn),Ro=ve({},Qn,{dataTransfer:0}),Yi=an(Ro),_n=ve({},yi,{relatedTarget:0}),ln=an(_n),_o=ve({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=an(_o),Vi=ve({},_i,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),h=an(Vi),v=ve({},_i,{data:0}),P=an(v),O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},te={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Me(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=ue[n])?!!o[n]:!1}function rt(){return Me}var Tt=ve({},yi,{key:function(n){if(n.key){var o=O[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?te[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rt,charCode:function(n){return n.type==="keypress"?gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rt=an(Tt),_=ve({},Qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=an(_),N=ve({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rt}),V=an(N),ie=ve({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),ne=an(ie),ge=ve({},Qn,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=an(ge),Qe=[9,13,27,32],lt=E&&"CompositionEvent"in window,ut=null;E&&"documentMode"in document&&(ut=document.documentMode);var Ct=E&&"TextEvent"in window&&!ut,cr=E&&(!lt||ut&&8<ut&&11>=ut),Mn=" ",Vr=!1;function bi(n,o){switch(n){case"keyup":return Qe.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hs(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ni=!1;function gh(n,o){switch(n){case"compositionend":return hs(o);case"keypress":return o.which!==32?null:(Vr=!0,Mn);case"textInput":return n=o.data,n===Mn&&Vr?null:n;default:return null}}function Lo(n,o){if(ni)return n==="compositionend"||!lt&&bi(n,o)?(n=Wo(),Pr=Rn=ur=null,ni=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cr&&o.locale!=="ko"?null:o.data;default:return null}}var wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!wa[n.type]:o==="textarea"}function Ea(n,o,u,d){vr(d),o=f(o,"onChange"),0<o.length&&(u=new ti("onChange","change",null,u,d),n.push({event:u,listeners:o}))}var Gs=null,ri=null;function _h(n){Sl(n,0)}function yo(n){var o=Ko(n);if(gr(o))return n}function yh(n,o){if(n==="change")return o}var Ji=!1;if(E){var fs;if(E){var Ta="oninput"in document;if(!Ta){var Sa=document.createElement("div");Sa.setAttribute("oninput","return;"),Ta=typeof Sa.oninput=="function"}fs=Ta}else fs=!1;Ji=fs&&(!document.documentMode||9<document.documentMode)}function Ks(){Gs&&(Gs.detachEvent("onpropertychange",xa),ri=Gs=null)}function xa(n){if(n.propertyName==="value"&&yo(ri)){var o=[];Ea(o,ri,n,wn(n)),ki(_h,o)}}function Pa(n,o,u){n==="focusin"?(Ks(),Gs=o,ri=u,Gs.attachEvent("onpropertychange",xa)):n==="focusout"&&Ks()}function ds(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yo(ri)}function Ca(n,o){if(n==="click")return yo(o)}function ml(n,o){if(n==="input"||n==="change")return yo(o)}function yu(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Fi=typeof Object.is=="function"?Object.is:yu;function Mo(n,o){if(Fi(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var u=Object.keys(n),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var g=u[d];if(!T.call(o,g)||!Fi(n[g],o[g]))return!1}return!0}function vu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gl(n,o){var u=vu(n);n=0;for(var d;u;){if(u.nodeType===3){if(d=n+u.textContent.length,n<=o&&d>=o)return{node:u,offset:o-n};n=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=vu(u)}}function wu(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?wu(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function _l(){for(var n=window,o=Ut();o instanceof n.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)n=o.contentWindow;else break;o=Ut(n.document)}return o}function yl(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function eo(n){var o=_l(),u=n.focusedElem,d=n.selectionRange;if(o!==u&&u&&u.ownerDocument&&wu(u.ownerDocument.documentElement,u)){if(d!==null&&yl(u)){if(o=d.start,n=d.end,n===void 0&&(n=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(n,u.value.length);else if(n=(o=u.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var g=u.textContent.length,w=Math.min(d.start,g);d=d.end===void 0?w:Math.min(d.end,g),!n.extend&&w>d&&(g=d,d=w,w=g),g=gl(u,w);var k=gl(u,d);g&&k&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==k.node||n.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),n.removeAllRanges(),w>d?(n.addRange(o),n.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),n.addRange(o)))}}for(o=[],n=u;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)n=o[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ia=E&&"documentMode"in document&&11>=document.documentMode,ps=null,ms=null,Qs=null,ka=!1;function Eu(n,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ka||ps==null||ps!==Ut(d)||(d=ps,"selectionStart"in d&&yl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qs&&Mo(Qs,d)||(Qs=d,d=f(ms,"onSelect"),0<d.length&&(o=new ti("onSelect","select",null,o,u),n.push({event:o,listeners:d}),o.target=ps)))}function No(n,o){var u={};return u[n.toLowerCase()]=o.toLowerCase(),u["Webkit"+n]="webkit"+o,u["Moz"+n]="moz"+o,u}var gs={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Do={},vl={};E&&(vl=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Xs(n){if(Do[n])return Do[n];if(!gs[n])return n;var o=gs[n],u;for(u in o)if(o.hasOwnProperty(u)&&u in vl)return Do[n]=o[u];return n}var Tu=Xs("animationend"),to=Xs("animationiteration"),wl=Xs("animationstart"),El=Xs("transitionend"),_s=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(n,o){_s.set(n,o),c(o,[n])}for(var qo=0;qo<Su.length;qo++){var Aa=Su[qo],xu=Aa.toLowerCase(),vh=Aa[0].toUpperCase()+Aa.slice(1);zi(xu,"on"+vh)}zi(Tu,"onAnimationEnd"),zi(to,"onAnimationIteration"),zi(wl,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(El,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pu=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function Tl(n,o,u){var d=n.type||"unknown-event";n.currentTarget=u,Yr(d,o,void 0,n),n.currentTarget=null}function Sl(n,o){o=(o&4)!==0;for(var u=0;u<n.length;u++){var d=n[u],g=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var k=d.length-1;0<=k;k--){var B=d[k],G=B.instance,fe=B.currentTarget;if(B=B.listener,G!==w&&g.isPropagationStopped())break e;Tl(g,B,fe),w=G}else for(k=0;k<d.length;k++){if(B=d[k],G=B.instance,fe=B.currentTarget,B=B.listener,G!==w&&g.isPropagationStopped())break e;Tl(g,B,fe),w=G}}}if(Ai)throw n=pn,Ai=!1,pn=null,n}function $t(n,o){var u=o[Ts];u===void 0&&(u=o[Ts]=new Set);var d=n+"__bubble";u.has(d)||(Cu(o,n,2,!1),u.add(d))}function xl(n,o,u){var d=0;o&&(d|=4),Cu(u,n,d,o)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function vs(n){if(!n[Ys]){n[Ys]=!0,s.forEach(function(u){u!=="selectionchange"&&(Pu.has(u)||xl(u,!1,n),xl(u,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Ys]||(o[Ys]=!0,xl("selectionchange",!1,o))}}function Cu(n,o,u,d){switch(mt(o)){case 1:var g=xr;break;case 4:g=ei;break;default:g=Ki}u=g.bind(null,o,u,n),g=void 0,!Dr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?n.addEventListener(o,u,{capture:!0,passive:g}):n.addEventListener(o,u,!0):g!==void 0?n.addEventListener(o,u,{passive:g}):n.addEventListener(o,u,!1)}function r(n,o,u,d,g){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var B=d.stateNode.containerInfo;if(B===g||B.nodeType===8&&B.parentNode===g)break;if(k===4)for(k=d.return;k!==null;){var G=k.tag;if((G===3||G===4)&&(G=k.stateNode.containerInfo,G===g||G.nodeType===8&&G.parentNode===g))return;k=k.return}for(;B!==null;){if(k=Zo(B),k===null)return;if(G=k.tag,G===5||G===6){d=w=k;continue e}B=B.parentNode}}d=d.return}ki(function(){var fe=w,Pe=wn(u),Ie=[];e:{var Se=_s.get(n);if(Se!==void 0){var Ue=ti,Ge=n;switch(n){case"keypress":if(gi(u)===0)break e;case"keydown":case"keyup":Ue=Rt;break;case"focusin":Ge="focus",Ue=ln;break;case"focusout":Ge="blur",Ue=ln;break;case"beforeblur":case"afterblur":Ue=ln;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=V;break;case Tu:case to:case wl:Ue=cs;break;case El:Ue=ne;break;case"scroll":Ue=Xi;break;case"wheel":Ue=ke;break;case"copy":case"cut":case"paste":Ue=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=C}var Xe=(o&4)!==0,Nn=!Xe&&n==="scroll",se=Xe?Se!==null?Se+"Capture":null:Se;Xe=[];for(var X=fe,le;X!==null;){le=X;var Le=le.stateNode;if(le.tag===5&&Le!==null&&(le=Le,se!==null&&(Le=Qr(X,se),Le!=null&&Xe.push(a(X,Le,le)))),Nn)break;X=X.return}0<Xe.length&&(Se=new Ue(Se,Ge,null,u,Pe),Ie.push({event:Se,listeners:Xe}))}}if((o&7)===0){e:{if(Se=n==="mouseover"||n==="pointerover",Ue=n==="mouseout"||n==="pointerout",Se&&u!==ci&&(Ge=u.relatedTarget||u.fromElement)&&(Zo(Ge)||Ge[Ht]))break e;if((Ue||Se)&&(Se=Pe.window===Pe?Pe:(Se=Pe.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ue?(Ge=u.relatedTarget||u.toElement,Ue=fe,Ge=Ge?Zo(Ge):null,Ge!==null&&(Nn=or(Ge),Ge!==Nn||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Ue=null,Ge=fe),Ue!==Ge)){if(Xe=go,Le="onMouseLeave",se="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(Xe=C,Le="onPointerLeave",se="onPointerEnter",X="pointer"),Nn=Ue==null?Se:Ko(Ue),le=Ge==null?Se:Ko(Ge),Se=new Xe(Le,X+"leave",Ue,u,Pe),Se.target=Nn,Se.relatedTarget=le,Le=null,Zo(Pe)===fe&&(Xe=new Xe(se,X+"enter",Ge,u,Pe),Xe.target=le,Xe.relatedTarget=Nn,Le=Xe),Nn=Le,Ue&&Ge)t:{for(Xe=Ue,se=Ge,X=0,le=Xe;le;le=m(le))X++;for(le=0,Le=se;Le;Le=m(Le))le++;for(;0<X-le;)Xe=m(Xe),X--;for(;0<le-X;)se=m(se),le--;for(;X--;){if(Xe===se||se!==null&&Xe===se.alternate)break t;Xe=m(Xe),se=m(se)}Xe=null}else Xe=null;Ue!==null&&S(Ie,Se,Ue,Xe,!1),Ge!==null&&Nn!==null&&S(Ie,Nn,Ge,Xe,!0)}}e:{if(Se=fe?Ko(fe):window,Ue=Se.nodeName&&Se.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Se.type==="file")var Ye=yh;else if(_u(Se))if(Ji)Ye=ml;else{Ye=ds;var st=Pa}else(Ue=Se.nodeName)&&Ue.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ye=Ca);if(Ye&&(Ye=Ye(n,fe))){Ea(Ie,Ye,u,Pe);break e}st&&st(n,Se,fe),n==="focusout"&&(st=Se._wrapperState)&&st.controlled&&Se.type==="number"&&jt(Se,"number",Se.value)}switch(st=fe?Ko(fe):window,n){case"focusin":(_u(st)||st.contentEditable==="true")&&(ps=st,ms=fe,Qs=null);break;case"focusout":Qs=ms=ps=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,Eu(Ie,u,Pe);break;case"selectionchange":if(Ia)break;case"keydown":case"keyup":Eu(Ie,u,Pe)}var at;if(lt)e:{switch(n){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ni?bi(n,u)&&(ft="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(ft="onCompositionStart");ft&&(cr&&u.locale!=="ko"&&(ni||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ni&&(at=Wo()):(ur=Pe,Rn="value"in ur?ur.value:ur.textContent,ni=!0)),st=f(fe,ft),0<st.length&&(ft=new P(ft,n,null,u,Pe),Ie.push({event:ft,listeners:st}),at?ft.data=at:(at=hs(u),at!==null&&(ft.data=at)))),(at=Ct?gh(n,u):Lo(n,u))&&(fe=f(fe,"onBeforeInput"),0<fe.length&&(Pe=new P("onBeforeInput","beforeinput",null,u,Pe),Ie.push({event:Pe,listeners:fe}),Pe.data=at))}Sl(Ie,o)})}function a(n,o,u){return{instance:n,listener:o,currentTarget:u}}function f(n,o){for(var u=o+"Capture",d=[];n!==null;){var g=n,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Qr(n,u),w!=null&&d.unshift(a(n,w,g)),w=Qr(n,o),w!=null&&d.push(a(n,w,g))),n=n.return}return d}function m(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function S(n,o,u,d,g){for(var w=o._reactName,k=[];u!==null&&u!==d;){var B=u,G=B.alternate,fe=B.stateNode;if(G!==null&&G===d)break;B.tag===5&&fe!==null&&(B=fe,g?(G=Qr(u,w),G!=null&&k.unshift(a(u,G,B))):g||(G=Qr(u,w),G!=null&&k.push(a(u,G,B)))),u=u.return}k.length!==0&&n.push({event:o,listeners:k})}var R=/\r\n?/g,q=/\u0000|\uFFFD/g;function oe(n){return(typeof n=="string"?n:""+n).replace(R,`
`).replace(q,"")}function ce(n,o,u){if(o=oe(o),oe(n)!==o&&u)throw Error(t(425))}function Te(){}var Ve=null,it=null;function yt(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xn=typeof setTimeout=="function"?setTimeout:void 0,Bn=typeof clearTimeout=="function"?clearTimeout:void 0,ii=typeof Promise=="function"?Promise:void 0,br=typeof queueMicrotask=="function"?queueMicrotask:typeof ii<"u"?function(n){return ii.resolve(null).then(n).catch(ws)}:Xn;function ws(n){setTimeout(function(){throw n})}function Pl(n,o){var u=o,d=0;do{var g=u.nextSibling;if(n.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(d===0){n.removeChild(g),kn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=g}while(u);kn(o)}function Oo(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Iu(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return n;o--}else u==="/$"&&o++}n=n.previousSibling}return null}var $o=Math.random().toString(36).slice(2),no="__reactFiber$"+$o,Es="__reactProps$"+$o,Ht="__reactContainer$"+$o,Ts="__reactEvents$"+$o,wh="__reactListeners$"+$o,Eh="__reactHandles$"+$o;function Zo(n){var o=n[no];if(o)return o;for(var u=n.parentNode;u;){if(o=u[Ht]||u[no]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(n=Iu(n);n!==null;){if(u=n[no])return u;n=Iu(n)}return o}n=u,u=n.parentNode}return null}function Go(n){return n=n[no]||n[Ht],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ko(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ra(n){return n[Es]||null}var Th=[],La=-1;function Ss(n){return{current:n}}function Jt(n){0>La||(n.current=Th[La],Th[La]=null,La--)}function Kt(n,o){La++,Th[La]=n.current,n.current=o}var xs={},Fr=Ss(xs),wi=Ss(!1),Js=xs;function Ma(n,o){var u=n.type.contextTypes;if(!u)return xs;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=o[w];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=g),g}function Ei(n){return n=n.childContextTypes,n!=null}function ku(){Jt(wi),Jt(Fr)}function cp(n,o,u){if(Fr.current!==xs)throw Error(t(168));Kt(Fr,o),Kt(wi,u)}function hp(n,o,u){var d=n.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(t(108,dt(n)||"Unknown",g));return ve({},u,d)}function Au(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xs,Js=Fr.current,Kt(Fr,n),Kt(wi,wi.current),!0}function fp(n,o,u){var d=n.stateNode;if(!d)throw Error(t(169));u?(n=hp(n,o,Js),d.__reactInternalMemoizedMergedChildContext=n,Jt(wi),Jt(Fr),Kt(Fr,n)):Jt(wi),Kt(wi,u)}var Qo=null,Ru=!1,Sh=!1;function dp(n){Qo===null?Qo=[n]:Qo.push(n)}function jv(n){Ru=!0,dp(n)}function Ps(){if(!Sh&&Qo!==null){Sh=!0;var n=0,o=Re;try{var u=Qo;for(Re=1;n<u.length;n++){var d=u[n];do d=d(!0);while(d!==null)}Qo=null,Ru=!1}catch(g){throw Qo!==null&&(Qo=Qo.slice(n+1)),fi(Li,Ps),g}finally{Re=o,Sh=!1}}return null}var Na=[],Da=0,Lu=null,Mu=0,ro=[],io=0,ea=null,Xo=1,Yo="";function ta(n,o){Na[Da++]=Mu,Na[Da++]=Lu,Lu=n,Mu=o}function pp(n,o,u){ro[io++]=Xo,ro[io++]=Yo,ro[io++]=ea,ea=n;var d=Xo;n=Yo;var g=32-nt(d)-1;d&=~(1<<g),u+=1;var w=32-nt(o)+g;if(30<w){var k=g-g%5;w=(d&(1<<k)-1).toString(32),d>>=k,g-=k,Xo=1<<32-nt(o)+g|u<<g|d,Yo=w+n}else Xo=1<<w|u<<g|d,Yo=n}function xh(n){n.return!==null&&(ta(n,1),pp(n,1,0))}function Ph(n){for(;n===Lu;)Lu=Na[--Da],Na[Da]=null,Mu=Na[--Da],Na[Da]=null;for(;n===ea;)ea=ro[--io],ro[io]=null,Yo=ro[--io],ro[io]=null,Xo=ro[--io],ro[io]=null}var Bi=null,Ui=null,on=!1,vo=null;function mp(n,o){var u=lo(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=n,o=n.deletions,o===null?(n.deletions=[u],n.flags|=16):o.push(u)}function gp(n,o){switch(n.tag){case 5:var u=n.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,Bi=n,Ui=Oo(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,Bi=n,Ui=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ea!==null?{id:Xo,overflow:Yo}:null,n.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=lo(18,null,null,0),u.stateNode=o,u.return=n,n.child=u,Bi=n,Ui=null,!0):!1;default:return!1}}function Ch(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ih(n){if(on){var o=Ui;if(o){var u=o;if(!gp(n,o)){if(Ch(n))throw Error(t(418));o=Oo(u.nextSibling);var d=Bi;o&&gp(n,o)?mp(d,u):(n.flags=n.flags&-4097|2,on=!1,Bi=n)}}else{if(Ch(n))throw Error(t(418));n.flags=n.flags&-4097|2,on=!1,Bi=n}}}function _p(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bi=n}function Nu(n){if(n!==Bi)return!1;if(!on)return _p(n),on=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!yt(n.type,n.memoizedProps)),o&&(o=Ui)){if(Ch(n))throw yp(),Error(t(418));for(;o;)mp(n,o),o=Oo(o.nextSibling)}if(_p(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(o===0){Ui=Oo(n.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}n=n.nextSibling}Ui=null}}else Ui=Bi?Oo(n.stateNode.nextSibling):null;return!0}function yp(){for(var n=Ui;n;)n=Oo(n.nextSibling)}function Oa(){Ui=Bi=null,on=!1}function kh(n){vo===null?vo=[n]:vo.push(n)}var Hv=Ne.ReactCurrentBatchConfig;function Cl(n,o,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,n));var g=d,w=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(k){var B=g.refs;k===null?delete B[w]:B[w]=k},o._stringRef=w,o)}if(typeof n!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,n))}return n}function Du(n,o){throw n=Object.prototype.toString.call(o),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function vp(n){var o=n._init;return o(n._payload)}function wp(n){function o(se,X){if(n){var le=se.deletions;le===null?(se.deletions=[X],se.flags|=16):le.push(X)}}function u(se,X){if(!n)return null;for(;X!==null;)o(se,X),X=X.sibling;return null}function d(se,X){for(se=new Map;X!==null;)X.key!==null?se.set(X.key,X):se.set(X.index,X),X=X.sibling;return se}function g(se,X){return se=Ns(se,X),se.index=0,se.sibling=null,se}function w(se,X,le){return se.index=le,n?(le=se.alternate,le!==null?(le=le.index,le<X?(se.flags|=2,X):le):(se.flags|=2,X)):(se.flags|=1048576,X)}function k(se){return n&&se.alternate===null&&(se.flags|=2),se}function B(se,X,le,Le){return X===null||X.tag!==6?(X=wf(le,se.mode,Le),X.return=se,X):(X=g(X,le),X.return=se,X)}function G(se,X,le,Le){var Ye=le.type;return Ye===H?Pe(se,X,le.props.children,Le,le.key):X!==null&&(X.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Lt&&vp(Ye)===X.type)?(Le=g(X,le.props),Le.ref=Cl(se,X,le),Le.return=se,Le):(Le=ic(le.type,le.key,le.props,null,se.mode,Le),Le.ref=Cl(se,X,le),Le.return=se,Le)}function fe(se,X,le,Le){return X===null||X.tag!==4||X.stateNode.containerInfo!==le.containerInfo||X.stateNode.implementation!==le.implementation?(X=Ef(le,se.mode,Le),X.return=se,X):(X=g(X,le.children||[]),X.return=se,X)}function Pe(se,X,le,Le,Ye){return X===null||X.tag!==7?(X=ua(le,se.mode,Le,Ye),X.return=se,X):(X=g(X,le),X.return=se,X)}function Ie(se,X,le){if(typeof X=="string"&&X!==""||typeof X=="number")return X=wf(""+X,se.mode,le),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case qe:return le=ic(X.type,X.key,X.props,null,se.mode,le),le.ref=Cl(se,null,X),le.return=se,le;case Fe:return X=Ef(X,se.mode,le),X.return=se,X;case Lt:var Le=X._init;return Ie(se,Le(X._payload),le)}if(Bt(X)||ze(X))return X=ua(X,se.mode,le,null),X.return=se,X;Du(se,X)}return null}function Se(se,X,le,Le){var Ye=X!==null?X.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ye!==null?null:B(se,X,""+le,Le);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case qe:return le.key===Ye?G(se,X,le,Le):null;case Fe:return le.key===Ye?fe(se,X,le,Le):null;case Lt:return Ye=le._init,Se(se,X,Ye(le._payload),Le)}if(Bt(le)||ze(le))return Ye!==null?null:Pe(se,X,le,Le,null);Du(se,le)}return null}function Ue(se,X,le,Le,Ye){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return se=se.get(le)||null,B(X,se,""+Le,Ye);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case qe:return se=se.get(Le.key===null?le:Le.key)||null,G(X,se,Le,Ye);case Fe:return se=se.get(Le.key===null?le:Le.key)||null,fe(X,se,Le,Ye);case Lt:var st=Le._init;return Ue(se,X,le,st(Le._payload),Ye)}if(Bt(Le)||ze(Le))return se=se.get(le)||null,Pe(X,se,Le,Ye,null);Du(X,Le)}return null}function Ge(se,X,le,Le){for(var Ye=null,st=null,at=X,ft=X=0,dr=null;at!==null&&ft<le.length;ft++){at.index>ft?(dr=at,at=null):dr=at.sibling;var zt=Se(se,at,le[ft],Le);if(zt===null){at===null&&(at=dr);break}n&&at&&zt.alternate===null&&o(se,at),X=w(zt,X,ft),st===null?Ye=zt:st.sibling=zt,st=zt,at=dr}if(ft===le.length)return u(se,at),on&&ta(se,ft),Ye;if(at===null){for(;ft<le.length;ft++)at=Ie(se,le[ft],Le),at!==null&&(X=w(at,X,ft),st===null?Ye=at:st.sibling=at,st=at);return on&&ta(se,ft),Ye}for(at=d(se,at);ft<le.length;ft++)dr=Ue(at,se,ft,le[ft],Le),dr!==null&&(n&&dr.alternate!==null&&at.delete(dr.key===null?ft:dr.key),X=w(dr,X,ft),st===null?Ye=dr:st.sibling=dr,st=dr);return n&&at.forEach(function(Ds){return o(se,Ds)}),on&&ta(se,ft),Ye}function Xe(se,X,le,Le){var Ye=ze(le);if(typeof Ye!="function")throw Error(t(150));if(le=Ye.call(le),le==null)throw Error(t(151));for(var st=Ye=null,at=X,ft=X=0,dr=null,zt=le.next();at!==null&&!zt.done;ft++,zt=le.next()){at.index>ft?(dr=at,at=null):dr=at.sibling;var Ds=Se(se,at,zt.value,Le);if(Ds===null){at===null&&(at=dr);break}n&&at&&Ds.alternate===null&&o(se,at),X=w(Ds,X,ft),st===null?Ye=Ds:st.sibling=Ds,st=Ds,at=dr}if(zt.done)return u(se,at),on&&ta(se,ft),Ye;if(at===null){for(;!zt.done;ft++,zt=le.next())zt=Ie(se,zt.value,Le),zt!==null&&(X=w(zt,X,ft),st===null?Ye=zt:st.sibling=zt,st=zt);return on&&ta(se,ft),Ye}for(at=d(se,at);!zt.done;ft++,zt=le.next())zt=Ue(at,se,ft,zt.value,Le),zt!==null&&(n&&zt.alternate!==null&&at.delete(zt.key===null?ft:zt.key),X=w(zt,X,ft),st===null?Ye=zt:st.sibling=zt,st=zt);return n&&at.forEach(function(T0){return o(se,T0)}),on&&ta(se,ft),Ye}function Nn(se,X,le,Le){if(typeof le=="object"&&le!==null&&le.type===H&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case qe:e:{for(var Ye=le.key,st=X;st!==null;){if(st.key===Ye){if(Ye=le.type,Ye===H){if(st.tag===7){u(se,st.sibling),X=g(st,le.props.children),X.return=se,se=X;break e}}else if(st.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Lt&&vp(Ye)===st.type){u(se,st.sibling),X=g(st,le.props),X.ref=Cl(se,st,le),X.return=se,se=X;break e}u(se,st);break}else o(se,st);st=st.sibling}le.type===H?(X=ua(le.props.children,se.mode,Le,le.key),X.return=se,se=X):(Le=ic(le.type,le.key,le.props,null,se.mode,Le),Le.ref=Cl(se,X,le),Le.return=se,se=Le)}return k(se);case Fe:e:{for(st=le.key;X!==null;){if(X.key===st)if(X.tag===4&&X.stateNode.containerInfo===le.containerInfo&&X.stateNode.implementation===le.implementation){u(se,X.sibling),X=g(X,le.children||[]),X.return=se,se=X;break e}else{u(se,X);break}else o(se,X);X=X.sibling}X=Ef(le,se.mode,Le),X.return=se,se=X}return k(se);case Lt:return st=le._init,Nn(se,X,st(le._payload),Le)}if(Bt(le))return Ge(se,X,le,Le);if(ze(le))return Xe(se,X,le,Le);Du(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,X!==null&&X.tag===6?(u(se,X.sibling),X=g(X,le),X.return=se,se=X):(u(se,X),X=wf(le,se.mode,Le),X.return=se,se=X),k(se)):u(se,X)}return Nn}var Va=wp(!0),Ep=wp(!1),Ou=Ss(null),Vu=null,ba=null,Ah=null;function Rh(){Ah=ba=Vu=null}function Lh(n){var o=Ou.current;Jt(Ou),n._currentValue=o}function Mh(n,o,u){for(;n!==null;){var d=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),n===u)break;n=n.return}}function Fa(n,o){Vu=n,Ah=ba=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Ti=!0),n.firstContext=null)}function oo(n){var o=n._currentValue;if(Ah!==n)if(n={context:n,memoizedValue:o,next:null},ba===null){if(Vu===null)throw Error(t(308));ba=n,Vu.dependencies={lanes:0,firstContext:n}}else ba=ba.next=n;return o}var na=null;function Nh(n){na===null?na=[n]:na.push(n)}function Tp(n,o,u,d){var g=o.interleaved;return g===null?(u.next=u,Nh(o)):(u.next=g.next,g.next=u),o.interleaved=u,Jo(n,d)}function Jo(n,o){n.lanes|=o;var u=n.alternate;for(u!==null&&(u.lanes|=o),u=n,n=n.return;n!==null;)n.childLanes|=o,u=n.alternate,u!==null&&(u.childLanes|=o),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Cs=!1;function Dh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function es(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function Is(n,o,u){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(bt&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,Jo(n,u)}return g=d.interleaved,g===null?(o.next=o,Nh(d)):(o.next=g.next,g.next=o),d.interleaved=o,Jo(n,u)}function bu(n,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=n.pendingLanes,u|=d,o.lanes=u,Ce(n,u)}}function xp(n,o){var u=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=k:w=w.next=k,u=u.next}while(u!==null);w===null?g=w=o:w=w.next=o}else g=w=o;u={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:d.shared,effects:d.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=o:n.next=o,u.lastBaseUpdate=o}function Fu(n,o,u,d){var g=n.updateQueue;Cs=!1;var w=g.firstBaseUpdate,k=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var G=B,fe=G.next;G.next=null,k===null?w=fe:k.next=fe,k=G;var Pe=n.alternate;Pe!==null&&(Pe=Pe.updateQueue,B=Pe.lastBaseUpdate,B!==k&&(B===null?Pe.firstBaseUpdate=fe:B.next=fe,Pe.lastBaseUpdate=G))}if(w!==null){var Ie=g.baseState;k=0,Pe=fe=G=null,B=w;do{var Se=B.lane,Ue=B.eventTime;if((d&Se)===Se){Pe!==null&&(Pe=Pe.next={eventTime:Ue,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ge=n,Xe=B;switch(Se=o,Ue=u,Xe.tag){case 1:if(Ge=Xe.payload,typeof Ge=="function"){Ie=Ge.call(Ue,Ie,Se);break e}Ie=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Xe.payload,Se=typeof Ge=="function"?Ge.call(Ue,Ie,Se):Ge,Se==null)break e;Ie=ve({},Ie,Se);break e;case 2:Cs=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,Se=g.effects,Se===null?g.effects=[B]:Se.push(B))}else Ue={eventTime:Ue,lane:Se,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Pe===null?(fe=Pe=Ue,G=Ie):Pe=Pe.next=Ue,k|=Se;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;Se=B,B=Se.next,Se.next=null,g.lastBaseUpdate=Se,g.shared.pending=null}}while(!0);if(Pe===null&&(G=Ie),g.baseState=G,g.firstBaseUpdate=fe,g.lastBaseUpdate=Pe,o=g.shared.interleaved,o!==null){g=o;do k|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);oa|=k,n.lanes=k,n.memoizedState=Ie}}function Pp(n,o,u){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var d=n[o],g=d.callback;if(g!==null){if(d.callback=null,d=u,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var Il={},Vo=Ss(Il),kl=Ss(Il),Al=Ss(Il);function ra(n){if(n===Il)throw Error(t(174));return n}function Oh(n,o){switch(Kt(Al,o),Kt(kl,n),Kt(Vo,Il),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:li(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=li(o,n)}Jt(Vo),Kt(Vo,o)}function za(){Jt(Vo),Jt(kl),Jt(Al)}function Cp(n){ra(Al.current);var o=ra(Vo.current),u=li(o,n.type);o!==u&&(Kt(kl,n),Kt(Vo,u))}function Vh(n){kl.current===n&&(Jt(Vo),Jt(kl))}var un=Ss(0);function zu(n){for(var o=n;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bh=[];function Fh(){for(var n=0;n<bh.length;n++)bh[n]._workInProgressVersionPrimary=null;bh.length=0}var Bu=Ne.ReactCurrentDispatcher,zh=Ne.ReactCurrentBatchConfig,ia=0,cn=null,Yn=null,hr=null,Uu=!1,Rl=!1,Ll=0,Wv=0;function zr(){throw Error(t(321))}function Bh(n,o){if(o===null)return!1;for(var u=0;u<o.length&&u<n.length;u++)if(!Fi(n[u],o[u]))return!1;return!0}function Uh(n,o,u,d,g,w){if(ia=w,cn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bu.current=n===null||n.memoizedState===null?Gv:Kv,n=u(d,g),Rl){w=0;do{if(Rl=!1,Ll=0,25<=w)throw Error(t(301));w+=1,hr=Yn=null,o.updateQueue=null,Bu.current=Qv,n=u(d,g)}while(Rl)}if(Bu.current=Wu,o=Yn!==null&&Yn.next!==null,ia=0,hr=Yn=cn=null,Uu=!1,o)throw Error(t(300));return n}function jh(){var n=Ll!==0;return Ll=0,n}function bo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?cn.memoizedState=hr=n:hr=hr.next=n,hr}function so(){if(Yn===null){var n=cn.alternate;n=n!==null?n.memoizedState:null}else n=Yn.next;var o=hr===null?cn.memoizedState:hr.next;if(o!==null)hr=o,Yn=n;else{if(n===null)throw Error(t(310));Yn=n,n={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},hr===null?cn.memoizedState=hr=n:hr=hr.next=n}return hr}function Ml(n,o){return typeof o=="function"?o(n):o}function Hh(n){var o=so(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=n;var d=Yn,g=d.baseQueue,w=u.pending;if(w!==null){if(g!==null){var k=g.next;g.next=w.next,w.next=k}d.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,d=d.baseState;var B=k=null,G=null,fe=w;do{var Pe=fe.lane;if((ia&Pe)===Pe)G!==null&&(G=G.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),d=fe.hasEagerState?fe.eagerState:n(d,fe.action);else{var Ie={lane:Pe,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};G===null?(B=G=Ie,k=d):G=G.next=Ie,cn.lanes|=Pe,oa|=Pe}fe=fe.next}while(fe!==null&&fe!==w);G===null?k=d:G.next=B,Fi(d,o.memoizedState)||(Ti=!0),o.memoizedState=d,o.baseState=k,o.baseQueue=G,u.lastRenderedState=d}if(n=u.interleaved,n!==null){g=n;do w=g.lane,cn.lanes|=w,oa|=w,g=g.next;while(g!==n)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Wh(n){var o=so(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=n;var d=u.dispatch,g=u.pending,w=o.memoizedState;if(g!==null){u.pending=null;var k=g=g.next;do w=n(w,k.action),k=k.next;while(k!==g);Fi(w,o.memoizedState)||(Ti=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,d]}function Ip(){}function kp(n,o){var u=cn,d=so(),g=o(),w=!Fi(d.memoizedState,g);if(w&&(d.memoizedState=g,Ti=!0),d=d.queue,qh(Lp.bind(null,u,d,n),[n]),d.getSnapshot!==o||w||hr!==null&&hr.memoizedState.tag&1){if(u.flags|=2048,Nl(9,Rp.bind(null,u,d,g,o),void 0,null),fr===null)throw Error(t(349));(ia&30)!==0||Ap(u,o,g)}return g}function Ap(n,o,u){n.flags|=16384,n={getSnapshot:o,value:u},o=cn.updateQueue,o===null?(o={lastEffect:null,stores:null},cn.updateQueue=o,o.stores=[n]):(u=o.stores,u===null?o.stores=[n]:u.push(n))}function Rp(n,o,u,d){o.value=u,o.getSnapshot=d,Mp(o)&&Np(n)}function Lp(n,o,u){return u(function(){Mp(o)&&Np(n)})}function Mp(n){var o=n.getSnapshot;n=n.value;try{var u=o();return!Fi(n,u)}catch{return!0}}function Np(n){var o=Jo(n,1);o!==null&&So(o,n,1,-1)}function Dp(n){var o=bo();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:n},o.queue=n,n=n.dispatch=Zv.bind(null,cn,n),[o.memoizedState,n]}function Nl(n,o,u,d){return n={tag:n,create:o,destroy:u,deps:d,next:null},o=cn.updateQueue,o===null?(o={lastEffect:null,stores:null},cn.updateQueue=o,o.lastEffect=n.next=n):(u=o.lastEffect,u===null?o.lastEffect=n.next=n:(d=u.next,u.next=n,n.next=d,o.lastEffect=n)),n}function Op(){return so().memoizedState}function ju(n,o,u,d){var g=bo();cn.flags|=n,g.memoizedState=Nl(1|o,u,void 0,d===void 0?null:d)}function Hu(n,o,u,d){var g=so();d=d===void 0?null:d;var w=void 0;if(Yn!==null){var k=Yn.memoizedState;if(w=k.destroy,d!==null&&Bh(d,k.deps)){g.memoizedState=Nl(o,u,w,d);return}}cn.flags|=n,g.memoizedState=Nl(1|o,u,w,d)}function Vp(n,o){return ju(8390656,8,n,o)}function qh(n,o){return Hu(2048,8,n,o)}function bp(n,o){return Hu(4,2,n,o)}function Fp(n,o){return Hu(4,4,n,o)}function zp(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Bp(n,o,u){return u=u!=null?u.concat([n]):null,Hu(4,4,zp.bind(null,o,n),u)}function $h(){}function Up(n,o){var u=so();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Bh(o,d[1])?d[0]:(u.memoizedState=[n,o],n)}function jp(n,o){var u=so();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Bh(o,d[1])?d[0]:(n=n(),u.memoizedState=[n,o],n)}function Hp(n,o,u){return(ia&21)===0?(n.baseState&&(n.baseState=!1,Ti=!0),n.memoizedState=u):(Fi(u,o)||(u=F(),cn.lanes|=u,oa|=u,n.baseState=!0),o)}function qv(n,o){var u=Re;Re=u!==0&&4>u?u:4,n(!0);var d=zh.transition;zh.transition={};try{n(!1),o()}finally{Re=u,zh.transition=d}}function Wp(){return so().memoizedState}function $v(n,o,u){var d=Ls(n);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},qp(n))$p(o,u);else if(u=Tp(n,o,u,d),u!==null){var g=si();So(u,n,d,g),Zp(u,o,d)}}function Zv(n,o,u){var d=Ls(n),g={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(qp(n))$p(o,g);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var k=o.lastRenderedState,B=w(k,u);if(g.hasEagerState=!0,g.eagerState=B,Fi(B,k)){var G=o.interleaved;G===null?(g.next=g,Nh(o)):(g.next=G.next,G.next=g),o.interleaved=g;return}}catch{}finally{}u=Tp(n,o,g,d),u!==null&&(g=si(),So(u,n,d,g),Zp(u,o,d))}}function qp(n){var o=n.alternate;return n===cn||o!==null&&o===cn}function $p(n,o){Rl=Uu=!0;var u=n.pending;u===null?o.next=o:(o.next=u.next,u.next=o),n.pending=o}function Zp(n,o,u){if((u&4194240)!==0){var d=o.lanes;d&=n.pendingLanes,u|=d,o.lanes=u,Ce(n,u)}}var Wu={readContext:oo,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},Gv={readContext:oo,useCallback:function(n,o){return bo().memoizedState=[n,o===void 0?null:o],n},useContext:oo,useEffect:Vp,useImperativeHandle:function(n,o,u){return u=u!=null?u.concat([n]):null,ju(4194308,4,zp.bind(null,o,n),u)},useLayoutEffect:function(n,o){return ju(4194308,4,n,o)},useInsertionEffect:function(n,o){return ju(4,2,n,o)},useMemo:function(n,o){var u=bo();return o=o===void 0?null:o,n=n(),u.memoizedState=[n,o],n},useReducer:function(n,o,u){var d=bo();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},d.queue=n,n=n.dispatch=$v.bind(null,cn,n),[d.memoizedState,n]},useRef:function(n){var o=bo();return n={current:n},o.memoizedState=n},useState:Dp,useDebugValue:$h,useDeferredValue:function(n){return bo().memoizedState=n},useTransition:function(){var n=Dp(!1),o=n[0];return n=qv.bind(null,n[1]),bo().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,u){var d=cn,g=bo();if(on){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),fr===null)throw Error(t(349));(ia&30)!==0||Ap(d,o,u)}g.memoizedState=u;var w={value:u,getSnapshot:o};return g.queue=w,Vp(Lp.bind(null,d,w,n),[n]),d.flags|=2048,Nl(9,Rp.bind(null,d,w,u,o),void 0,null),u},useId:function(){var n=bo(),o=fr.identifierPrefix;if(on){var u=Yo,d=Xo;u=(d&~(1<<32-nt(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ll++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Wv++,o=":"+o+"r"+u.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},Kv={readContext:oo,useCallback:Up,useContext:oo,useEffect:qh,useImperativeHandle:Bp,useInsertionEffect:bp,useLayoutEffect:Fp,useMemo:jp,useReducer:Hh,useRef:Op,useState:function(){return Hh(Ml)},useDebugValue:$h,useDeferredValue:function(n){var o=so();return Hp(o,Yn.memoizedState,n)},useTransition:function(){var n=Hh(Ml)[0],o=so().memoizedState;return[n,o]},useMutableSource:Ip,useSyncExternalStore:kp,useId:Wp,unstable_isNewReconciler:!1},Qv={readContext:oo,useCallback:Up,useContext:oo,useEffect:qh,useImperativeHandle:Bp,useInsertionEffect:bp,useLayoutEffect:Fp,useMemo:jp,useReducer:Wh,useRef:Op,useState:function(){return Wh(Ml)},useDebugValue:$h,useDeferredValue:function(n){var o=so();return Yn===null?o.memoizedState=n:Hp(o,Yn.memoizedState,n)},useTransition:function(){var n=Wh(Ml)[0],o=so().memoizedState;return[n,o]},useMutableSource:Ip,useSyncExternalStore:kp,useId:Wp,unstable_isNewReconciler:!1};function wo(n,o){if(n&&n.defaultProps){o=ve({},o),n=n.defaultProps;for(var u in n)o[u]===void 0&&(o[u]=n[u]);return o}return o}function Zh(n,o,u,d){o=n.memoizedState,u=u(d,o),u=u==null?o:ve({},o,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var qu={isMounted:function(n){return(n=n._reactInternals)?or(n)===n:!1},enqueueSetState:function(n,o,u){n=n._reactInternals;var d=si(),g=Ls(n),w=es(d,g);w.payload=o,u!=null&&(w.callback=u),o=Is(n,w,g),o!==null&&(So(o,n,g,d),bu(o,n,g))},enqueueReplaceState:function(n,o,u){n=n._reactInternals;var d=si(),g=Ls(n),w=es(d,g);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Is(n,w,g),o!==null&&(So(o,n,g,d),bu(o,n,g))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var u=si(),d=Ls(n),g=es(u,d);g.tag=2,o!=null&&(g.callback=o),o=Is(n,g,d),o!==null&&(So(o,n,d,u),bu(o,n,d))}};function Gp(n,o,u,d,g,w,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,w,k):o.prototype&&o.prototype.isPureReactComponent?!Mo(u,d)||!Mo(g,w):!0}function Kp(n,o,u){var d=!1,g=xs,w=o.contextType;return typeof w=="object"&&w!==null?w=oo(w):(g=Ei(o)?Js:Fr.current,d=o.contextTypes,w=(d=d!=null)?Ma(n,g):xs),o=new o(u,w),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=qu,n.stateNode=o,o._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=w),o}function Qp(n,o,u,d){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==n&&qu.enqueueReplaceState(o,o.state,null)}function Gh(n,o,u,d){var g=n.stateNode;g.props=u,g.state=n.memoizedState,g.refs={},Dh(n);var w=o.contextType;typeof w=="object"&&w!==null?g.context=oo(w):(w=Ei(o)?Js:Fr.current,g.context=Ma(n,w)),g.state=n.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Zh(n,o,w,u),g.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&qu.enqueueReplaceState(g,g.state,null),Fu(n,u,g,d),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function Ba(n,o){try{var u="",d=o;do u+=Be(d),d=d.return;while(d);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:n,source:o,stack:g,digest:null}}function Kh(n,o,u){return{value:n,source:null,stack:u??null,digest:o??null}}function Qh(n,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Xv=typeof WeakMap=="function"?WeakMap:Map;function Xp(n,o,u){u=es(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Yu||(Yu=!0,ff=d),Qh(n,o)},u}function Yp(n,o,u){u=es(-1,u),u.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;u.payload=function(){return d(g)},u.callback=function(){Qh(n,o)}}var w=n.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Qh(n,o),typeof d!="function"&&(As===null?As=new Set([this]):As.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),u}function Jp(n,o,u){var d=n.pingCache;if(d===null){d=n.pingCache=new Xv;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(u)||(g.add(u),n=h0.bind(null,n,o,u),o.then(n,n))}function em(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function tm(n,o,u,d,g){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=es(-1,1),o.tag=2,Is(u,o,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var Yv=Ne.ReactCurrentOwner,Ti=!1;function oi(n,o,u,d){o.child=n===null?Ep(o,null,u,d):Va(o,n.child,u,d)}function nm(n,o,u,d,g){u=u.render;var w=o.ref;return Fa(o,g),d=Uh(n,o,u,d,w,g),u=jh(),n!==null&&!Ti?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~g,ts(n,o,g)):(on&&u&&xh(o),o.flags|=1,oi(n,o,d,g),o.child)}function rm(n,o,u,d,g){if(n===null){var w=u.type;return typeof w=="function"&&!vf(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,im(n,o,w,d,g)):(n=ic(u.type,null,d,o,o.mode,g),n.ref=o.ref,n.return=o,o.child=n)}if(w=n.child,(n.lanes&g)===0){var k=w.memoizedProps;if(u=u.compare,u=u!==null?u:Mo,u(k,d)&&n.ref===o.ref)return ts(n,o,g)}return o.flags|=1,n=Ns(w,d),n.ref=o.ref,n.return=o,o.child=n}function im(n,o,u,d,g){if(n!==null){var w=n.memoizedProps;if(Mo(w,d)&&n.ref===o.ref)if(Ti=!1,o.pendingProps=d=w,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Ti=!0);else return o.lanes=n.lanes,ts(n,o,g)}return Xh(n,o,u,d,g)}function om(n,o,u){var d=o.pendingProps,g=d.children,w=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(ja,ji),ji|=u;else{if((u&1073741824)===0)return n=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Kt(ja,ji),ji|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:u,Kt(ja,ji),ji|=d}else w!==null?(d=w.baseLanes|u,o.memoizedState=null):d=u,Kt(ja,ji),ji|=d;return oi(n,o,g,u),o.child}function sm(n,o){var u=o.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Xh(n,o,u,d,g){var w=Ei(u)?Js:Fr.current;return w=Ma(o,w),Fa(o,g),u=Uh(n,o,u,d,w,g),d=jh(),n!==null&&!Ti?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~g,ts(n,o,g)):(on&&d&&xh(o),o.flags|=1,oi(n,o,u,g),o.child)}function am(n,o,u,d,g){if(Ei(u)){var w=!0;Au(o)}else w=!1;if(Fa(o,g),o.stateNode===null)Zu(n,o),Kp(o,u,d),Gh(o,u,d,g),d=!0;else if(n===null){var k=o.stateNode,B=o.memoizedProps;k.props=B;var G=k.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=oo(fe):(fe=Ei(u)?Js:Fr.current,fe=Ma(o,fe));var Pe=u.getDerivedStateFromProps,Ie=typeof Pe=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ie||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(B!==d||G!==fe)&&Qp(o,k,d,fe),Cs=!1;var Se=o.memoizedState;k.state=Se,Fu(o,d,k,g),G=o.memoizedState,B!==d||Se!==G||wi.current||Cs?(typeof Pe=="function"&&(Zh(o,u,Pe,d),G=o.memoizedState),(B=Cs||Gp(o,u,B,d,Se,G,fe))?(Ie||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=G),k.props=d,k.state=G,k.context=fe,d=B):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{k=o.stateNode,Sp(n,o),B=o.memoizedProps,fe=o.type===o.elementType?B:wo(o.type,B),k.props=fe,Ie=o.pendingProps,Se=k.context,G=u.contextType,typeof G=="object"&&G!==null?G=oo(G):(G=Ei(u)?Js:Fr.current,G=Ma(o,G));var Ue=u.getDerivedStateFromProps;(Pe=typeof Ue=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(B!==Ie||Se!==G)&&Qp(o,k,d,G),Cs=!1,Se=o.memoizedState,k.state=Se,Fu(o,d,k,g);var Ge=o.memoizedState;B!==Ie||Se!==Ge||wi.current||Cs?(typeof Ue=="function"&&(Zh(o,u,Ue,d),Ge=o.memoizedState),(fe=Cs||Gp(o,u,fe,d,Se,Ge,G)||!1)?(Pe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,Ge,G),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,Ge,G)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||B===n.memoizedProps&&Se===n.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Se===n.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ge),k.props=d,k.state=Ge,k.context=G,d=fe):(typeof k.componentDidUpdate!="function"||B===n.memoizedProps&&Se===n.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Se===n.memoizedState||(o.flags|=1024),d=!1)}return Yh(n,o,u,d,w,g)}function Yh(n,o,u,d,g,w){sm(n,o);var k=(o.flags&128)!==0;if(!d&&!k)return g&&fp(o,u,!1),ts(n,o,w);d=o.stateNode,Yv.current=o;var B=k&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,n!==null&&k?(o.child=Va(o,n.child,null,w),o.child=Va(o,null,B,w)):oi(n,o,B,w),o.memoizedState=d.state,g&&fp(o,u,!0),o.child}function lm(n){var o=n.stateNode;o.pendingContext?cp(n,o.pendingContext,o.pendingContext!==o.context):o.context&&cp(n,o.context,!1),Oh(n,o.containerInfo)}function um(n,o,u,d,g){return Oa(),kh(g),o.flags|=256,oi(n,o,u,d),o.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function ef(n){return{baseLanes:n,cachePool:null,transitions:null}}function cm(n,o,u){var d=o.pendingProps,g=un.current,w=!1,k=(o.flags&128)!==0,B;if((B=k)||(B=n!==null&&n.memoizedState===null?!1:(g&2)!==0),B?(w=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Kt(un,g&1),n===null)return Ih(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=d.children,n=d.fallback,w?(d=o.mode,w=o.child,k={mode:"hidden",children:k},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=k):w=oc(k,d,0,null),n=ua(n,d,u,null),w.return=o,n.return=o,w.sibling=n,o.child=w,o.child.memoizedState=ef(u),o.memoizedState=Jh,n):tf(o,k));if(g=n.memoizedState,g!==null&&(B=g.dehydrated,B!==null))return Jv(n,o,k,d,B,g,u);if(w){w=d.fallback,k=o.mode,g=n.child,B=g.sibling;var G={mode:"hidden",children:d.children};return(k&1)===0&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=G,o.deletions=null):(d=Ns(g,G),d.subtreeFlags=g.subtreeFlags&14680064),B!==null?w=Ns(B,w):(w=ua(w,k,u,null),w.flags|=2),w.return=o,d.return=o,d.sibling=w,o.child=d,d=w,w=o.child,k=n.child.memoizedState,k=k===null?ef(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},w.memoizedState=k,w.childLanes=n.childLanes&~u,o.memoizedState=Jh,d}return w=n.child,n=w.sibling,d=Ns(w,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,n!==null&&(u=o.deletions,u===null?(o.deletions=[n],o.flags|=16):u.push(n)),o.child=d,o.memoizedState=null,d}function tf(n,o){return o=oc({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function $u(n,o,u,d){return d!==null&&kh(d),Va(o,n.child,null,u),n=tf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Jv(n,o,u,d,g,w,k){if(u)return o.flags&256?(o.flags&=-257,d=Kh(Error(t(422))),$u(n,o,k,d)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(w=d.fallback,g=o.mode,d=oc({mode:"visible",children:d.children},g,0,null),w=ua(w,g,k,null),w.flags|=2,d.return=o,w.return=o,d.sibling=w,o.child=d,(o.mode&1)!==0&&Va(o,n.child,null,k),o.child.memoizedState=ef(k),o.memoizedState=Jh,w);if((o.mode&1)===0)return $u(n,o,k,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var B=d.dgst;return d=B,w=Error(t(419)),d=Kh(w,d,void 0),$u(n,o,k,d)}if(B=(k&n.childLanes)!==0,Ti||B){if(d=fr,d!==null){switch(k&-k){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|k))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Jo(n,g),So(d,n,g,-1))}return yf(),d=Kh(Error(t(421))),$u(n,o,k,d)}return g.data==="$?"?(o.flags|=128,o.child=n.child,o=f0.bind(null,n),g._reactRetry=o,null):(n=w.treeContext,Ui=Oo(g.nextSibling),Bi=o,on=!0,vo=null,n!==null&&(ro[io++]=Xo,ro[io++]=Yo,ro[io++]=ea,Xo=n.id,Yo=n.overflow,ea=o),o=tf(o,d.children),o.flags|=4096,o)}function hm(n,o,u){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o),Mh(n.return,o,u)}function nf(n,o,u,d,g){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=u,w.tailMode=g)}function fm(n,o,u){var d=o.pendingProps,g=d.revealOrder,w=d.tail;if(oi(n,o,d.children,u),d=un.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hm(n,u,o);else if(n.tag===19)hm(n,u,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Kt(un,d),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)n=u.alternate,n!==null&&zu(n)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),nf(o,!1,g,u,w);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(n=g.alternate,n!==null&&zu(n)===null){o.child=g;break}n=g.sibling,g.sibling=u,u=g,g=n}nf(o,!0,u,null,w);break;case"together":nf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Zu(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function ts(n,o,u){if(n!==null&&(o.dependencies=n.dependencies),oa|=o.lanes,(u&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(t(153));if(o.child!==null){for(n=o.child,u=Ns(n,n.pendingProps),o.child=u,u.return=o;n.sibling!==null;)n=n.sibling,u=u.sibling=Ns(n,n.pendingProps),u.return=o;u.sibling=null}return o.child}function e0(n,o,u){switch(o.tag){case 3:lm(o),Oa();break;case 5:Cp(o);break;case 1:Ei(o.type)&&Au(o);break;case 4:Oh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Kt(Ou,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Kt(un,un.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?cm(n,o,u):(Kt(un,un.current&1),n=ts(n,o,u),n!==null?n.sibling:null);Kt(un,un.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(n.flags&128)!==0){if(d)return fm(n,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Kt(un,un.current),d)break;return null;case 22:case 23:return o.lanes=0,om(n,o,u)}return ts(n,o,u)}var dm,rf,pm,mm;dm=function(n,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rf=function(){},pm=function(n,o,u,d){var g=n.memoizedProps;if(g!==d){n=o.stateNode,ra(Vo.current);var w=null;switch(u){case"input":g=qn(n,g),d=qn(n,d),w=[];break;case"select":g=ve({},g,{value:void 0}),d=ve({},d,{value:void 0}),w=[];break;case"textarea":g=$n(n,g),d=$n(n,d),w=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Te)}yr(u,d);var k;u=null;for(fe in g)if(!d.hasOwnProperty(fe)&&g.hasOwnProperty(fe)&&g[fe]!=null)if(fe==="style"){var B=g[fe];for(k in B)B.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(l.hasOwnProperty(fe)?w||(w=[]):(w=w||[]).push(fe,null));for(fe in d){var G=d[fe];if(B=g?.[fe],d.hasOwnProperty(fe)&&G!==B&&(G!=null||B!=null))if(fe==="style")if(B){for(k in B)!B.hasOwnProperty(k)||G&&G.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in G)G.hasOwnProperty(k)&&B[k]!==G[k]&&(u||(u={}),u[k]=G[k])}else u||(w||(w=[]),w.push(fe,u)),u=G;else fe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,B=B?B.__html:void 0,G!=null&&B!==G&&(w=w||[]).push(fe,G)):fe==="children"?typeof G!="string"&&typeof G!="number"||(w=w||[]).push(fe,""+G):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(l.hasOwnProperty(fe)?(G!=null&&fe==="onScroll"&&$t("scroll",n),w||B===G||(w=[])):(w=w||[]).push(fe,G))}u&&(w=w||[]).push("style",u);var fe=w;(o.updateQueue=fe)&&(o.flags|=4)}},mm=function(n,o,u,d){u!==d&&(o.flags|=4)};function Dl(n,o){if(!on)switch(n.tailMode){case"hidden":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Br(n){var o=n.alternate!==null&&n.alternate.child===n.child,u=0,d=0;if(o)for(var g=n.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)u|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=d,n.childLanes=u,o}function t0(n,o,u){var d=o.pendingProps;switch(Ph(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(o),null;case 1:return Ei(o.type)&&ku(),Br(o),null;case 3:return d=o.stateNode,za(),Jt(wi),Jt(Fr),Fh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Nu(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vo!==null&&(mf(vo),vo=null))),rf(n,o),Br(o),null;case 5:Vh(o);var g=ra(Al.current);if(u=o.type,n!==null&&o.stateNode!=null)pm(n,o,u,d,g),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Br(o),null}if(n=ra(Vo.current),Nu(o)){d=o.stateNode,u=o.type;var w=o.memoizedProps;switch(d[no]=o,d[Es]=w,n=(o.mode&1)!==0,u){case"dialog":$t("cancel",d),$t("close",d);break;case"iframe":case"object":case"embed":$t("load",d);break;case"video":case"audio":for(g=0;g<ys.length;g++)$t(ys[g],d);break;case"source":$t("error",d);break;case"img":case"image":case"link":$t("error",d),$t("load",d);break;case"details":$t("toggle",d);break;case"input":Wi(d,w),$t("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},$t("invalid",d);break;case"textarea":tn(d,w),$t("invalid",d)}yr(u,w),g=null;for(var k in w)if(w.hasOwnProperty(k)){var B=w[k];k==="children"?typeof B=="string"?d.textContent!==B&&(w.suppressHydrationWarning!==!0&&ce(d.textContent,B,n),g=["children",B]):typeof B=="number"&&d.textContent!==""+B&&(w.suppressHydrationWarning!==!0&&ce(d.textContent,B,n),g=["children",""+B]):l.hasOwnProperty(k)&&B!=null&&k==="onScroll"&&$t("scroll",d)}switch(u){case"input":vn(d),_r(d,w,!0);break;case"textarea":vn(d),$r(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=Te)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{k=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ai(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=k.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=k.createElement(u,{is:d.is}):(n=k.createElement(u),u==="select"&&(k=n,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):n=k.createElementNS(n,u),n[no]=o,n[Es]=d,dm(n,o,!1,!1),o.stateNode=n;e:{switch(k=Nr(u,d),u){case"dialog":$t("cancel",n),$t("close",n),g=d;break;case"iframe":case"object":case"embed":$t("load",n),g=d;break;case"video":case"audio":for(g=0;g<ys.length;g++)$t(ys[g],n);g=d;break;case"source":$t("error",n),g=d;break;case"img":case"image":case"link":$t("error",n),$t("load",n),g=d;break;case"details":$t("toggle",n),g=d;break;case"input":Wi(n,d),g=qn(n,d),$t("invalid",n);break;case"option":g=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},g=ve({},d,{value:void 0}),$t("invalid",n);break;case"textarea":tn(n,d),g=$n(n,d),$t("invalid",n);break;default:g=d}yr(u,g),B=g;for(w in B)if(B.hasOwnProperty(w)){var G=B[w];w==="style"?ui(n,G):w==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&fo(n,G)):w==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&Zr(n,G):typeof G=="number"&&Zr(n,""+G):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(l.hasOwnProperty(w)?G!=null&&w==="onScroll"&&$t("scroll",n):G!=null&&xe(n,w,G,k))}switch(u){case"input":vn(n),_r(n,d,!1);break;case"textarea":vn(n),$r(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ht(d.value));break;case"select":n.multiple=!!d.multiple,w=d.value,w!=null?On(n,!!d.multiple,w,!1):d.defaultValue!=null&&On(n,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Te)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Br(o),null;case 6:if(n&&o.stateNode!=null)mm(n,o,n.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=ra(Al.current),ra(Vo.current),Nu(o)){if(d=o.stateNode,u=o.memoizedProps,d[no]=o,(w=d.nodeValue!==u)&&(n=Bi,n!==null))switch(n.tag){case 3:ce(d.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ce(d.nodeValue,u,(n.mode&1)!==0)}w&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[no]=o,o.stateNode=d}return Br(o),null;case 13:if(Jt(un),d=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(on&&Ui!==null&&(o.mode&1)!==0&&(o.flags&128)===0)yp(),Oa(),o.flags|=98560,w=!1;else if(w=Nu(o),d!==null&&d.dehydrated!==null){if(n===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[no]=o}else Oa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Br(o),w=!1}else vo!==null&&(mf(vo),vo=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(un.current&1)!==0?Jn===0&&(Jn=3):yf())),o.updateQueue!==null&&(o.flags|=4),Br(o),null);case 4:return za(),rf(n,o),n===null&&vs(o.stateNode.containerInfo),Br(o),null;case 10:return Lh(o.type._context),Br(o),null;case 17:return Ei(o.type)&&ku(),Br(o),null;case 19:if(Jt(un),w=o.memoizedState,w===null)return Br(o),null;if(d=(o.flags&128)!==0,k=w.rendering,k===null)if(d)Dl(w,!1);else{if(Jn!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(k=zu(n),k!==null){for(o.flags|=128,Dl(w,!1),d=k.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)w=u,n=d,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=n,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,n=k.dependencies,w.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return Kt(un,un.current&1|2),o.child}n=n.sibling}w.tail!==null&&Ot()>Ha&&(o.flags|=128,d=!0,Dl(w,!1),o.lanes=4194304)}else{if(!d)if(n=zu(k),n!==null){if(o.flags|=128,d=!0,u=n.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Dl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!on)return Br(o),null}else 2*Ot()-w.renderingStartTime>Ha&&u!==1073741824&&(o.flags|=128,d=!0,Dl(w,!1),o.lanes=4194304);w.isBackwards?(k.sibling=o.child,o.child=k):(u=w.last,u!==null?u.sibling=k:o.child=k,w.last=k)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Ot(),o.sibling=null,u=un.current,Kt(un,d?u&1|2:u&1),o):(Br(o),null);case 22:case 23:return _f(),d=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(ji&1073741824)!==0&&(Br(o),o.subtreeFlags&6&&(o.flags|=8192)):Br(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function n0(n,o){switch(Ph(o),o.tag){case 1:return Ei(o.type)&&ku(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return za(),Jt(wi),Jt(Fr),Fh(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return Vh(o),null;case 13:if(Jt(un),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Oa()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Jt(un),null;case 4:return za(),null;case 10:return Lh(o.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Gu=!1,Ur=!1,r0=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ua(n,o){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){yn(n,o,d)}else u.current=null}function of(n,o,u){try{u()}catch(d){yn(n,o,d)}}var gm=!1;function i0(n,o){if(Ve=An,n=_l(),yl(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var g=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var k=0,B=-1,G=-1,fe=0,Pe=0,Ie=n,Se=null;t:for(;;){for(var Ue;Ie!==u||g!==0&&Ie.nodeType!==3||(B=k+g),Ie!==w||d!==0&&Ie.nodeType!==3||(G=k+d),Ie.nodeType===3&&(k+=Ie.nodeValue.length),(Ue=Ie.firstChild)!==null;)Se=Ie,Ie=Ue;for(;;){if(Ie===n)break t;if(Se===u&&++fe===g&&(B=k),Se===w&&++Pe===d&&(G=k),(Ue=Ie.nextSibling)!==null)break;Ie=Se,Se=Ie.parentNode}Ie=Ue}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(it={focusedElem:n,selectionRange:u},An=!1,$e=o;$e!==null;)if(o=$e,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,$e=n;else for(;$e!==null;){o=$e;try{var Ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Xe=Ge.memoizedProps,Nn=Ge.memoizedState,se=o.stateNode,X=se.getSnapshotBeforeUpdate(o.elementType===o.type?Xe:wo(o.type,Xe),Nn);se.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var le=o.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Le){yn(o,o.return,Le)}if(n=o.sibling,n!==null){n.return=o.return,$e=n;break}$e=o.return}return Ge=gm,gm=!1,Ge}function Ol(n,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&n)===n){var w=g.destroy;g.destroy=void 0,w!==void 0&&of(o,u,w)}g=g.next}while(g!==d)}}function Ku(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&n)===n){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function sf(n){var o=n.ref;if(o!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof o=="function"?o(n):o.current=n}}function _m(n){var o=n.alternate;o!==null&&(n.alternate=null,_m(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[no],delete o[Es],delete o[Ts],delete o[wh],delete o[Eh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ym(n){return n.tag===5||n.tag===3||n.tag===4}function vm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ym(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function af(n,o,u){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(n,o):u.insertBefore(n,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(n,u)):(o=u,o.appendChild(n)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Te));else if(d!==4&&(n=n.child,n!==null))for(af(n,o,u),n=n.sibling;n!==null;)af(n,o,u),n=n.sibling}function lf(n,o,u){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?u.insertBefore(n,o):u.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(lf(n,o,u),n=n.sibling;n!==null;)lf(n,o,u),n=n.sibling}var Ir=null,Eo=!1;function ks(n,o,u){for(u=u.child;u!==null;)wm(n,o,u),u=u.sibling}function wm(n,o,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Kn,u)}catch{}switch(u.tag){case 5:Ur||Ua(u,o);case 6:var d=Ir,g=Eo;Ir=null,ks(n,o,u),Ir=d,Eo=g,Ir!==null&&(Eo?(n=Ir,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Ir.removeChild(u.stateNode));break;case 18:Ir!==null&&(Eo?(n=Ir,u=u.stateNode,n.nodeType===8?Pl(n.parentNode,u):n.nodeType===1&&Pl(n,u),kn(n)):Pl(Ir,u.stateNode));break;case 4:d=Ir,g=Eo,Ir=u.stateNode.containerInfo,Eo=!0,ks(n,o,u),Ir=d,Eo=g;break;case 0:case 11:case 14:case 15:if(!Ur&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var w=g,k=w.destroy;w=w.tag,k!==void 0&&((w&2)!==0||(w&4)!==0)&&of(u,o,k),g=g.next}while(g!==d)}ks(n,o,u);break;case 1:if(!Ur&&(Ua(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(B){yn(u,o,B)}ks(n,o,u);break;case 21:ks(n,o,u);break;case 22:u.mode&1?(Ur=(d=Ur)||u.memoizedState!==null,ks(n,o,u),Ur=d):ks(n,o,u);break;default:ks(n,o,u)}}function Em(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new r0),o.forEach(function(d){var g=d0.bind(null,n,d);u.has(d)||(u.add(d),d.then(g,g))})}}function To(n,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];try{var w=n,k=o,B=k;e:for(;B!==null;){switch(B.tag){case 5:Ir=B.stateNode,Eo=!1;break e;case 3:Ir=B.stateNode.containerInfo,Eo=!0;break e;case 4:Ir=B.stateNode.containerInfo,Eo=!0;break e}B=B.return}if(Ir===null)throw Error(t(160));wm(w,k,g),Ir=null,Eo=!1;var G=g.alternate;G!==null&&(G.return=null),g.return=null}catch(fe){yn(g,o,fe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Tm(o,n),o=o.sibling}function Tm(n,o){var u=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(To(o,n),Fo(n),d&4){try{Ol(3,n,n.return),Ku(3,n)}catch(Xe){yn(n,n.return,Xe)}try{Ol(5,n,n.return)}catch(Xe){yn(n,n.return,Xe)}}break;case 1:To(o,n),Fo(n),d&512&&u!==null&&Ua(u,u.return);break;case 5:if(To(o,n),Fo(n),d&512&&u!==null&&Ua(u,u.return),n.flags&32){var g=n.stateNode;try{Zr(g,"")}catch(Xe){yn(n,n.return,Xe)}}if(d&4&&(g=n.stateNode,g!=null)){var w=n.memoizedProps,k=u!==null?u.memoizedProps:w,B=n.type,G=n.updateQueue;if(n.updateQueue=null,G!==null)try{B==="input"&&w.type==="radio"&&w.name!=null&&Mr(g,w),Nr(B,k);var fe=Nr(B,w);for(k=0;k<G.length;k+=2){var Pe=G[k],Ie=G[k+1];Pe==="style"?ui(g,Ie):Pe==="dangerouslySetInnerHTML"?fo(g,Ie):Pe==="children"?Zr(g,Ie):xe(g,Pe,Ie,fe)}switch(B){case"input":qr(g,w);break;case"textarea":ho(g,w);break;case"select":var Se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var Ue=w.value;Ue!=null?On(g,!!w.multiple,Ue,!1):Se!==!!w.multiple&&(w.defaultValue!=null?On(g,!!w.multiple,w.defaultValue,!0):On(g,!!w.multiple,w.multiple?[]:"",!1))}g[Es]=w}catch(Xe){yn(n,n.return,Xe)}}break;case 6:if(To(o,n),Fo(n),d&4){if(n.stateNode===null)throw Error(t(162));g=n.stateNode,w=n.memoizedProps;try{g.nodeValue=w}catch(Xe){yn(n,n.return,Xe)}}break;case 3:if(To(o,n),Fo(n),d&4&&u!==null&&u.memoizedState.isDehydrated)try{kn(o.containerInfo)}catch(Xe){yn(n,n.return,Xe)}break;case 4:To(o,n),Fo(n);break;case 13:To(o,n),Fo(n),g=n.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(hf=Ot())),d&4&&Em(n);break;case 22:if(Pe=u!==null&&u.memoizedState!==null,n.mode&1?(Ur=(fe=Ur)||Pe,To(o,n),Ur=fe):To(o,n),Fo(n),d&8192){if(fe=n.memoizedState!==null,(n.stateNode.isHidden=fe)&&!Pe&&(n.mode&1)!==0)for($e=n,Pe=n.child;Pe!==null;){for(Ie=$e=Pe;$e!==null;){switch(Se=$e,Ue=Se.child,Se.tag){case 0:case 11:case 14:case 15:Ol(4,Se,Se.return);break;case 1:Ua(Se,Se.return);var Ge=Se.stateNode;if(typeof Ge.componentWillUnmount=="function"){d=Se,u=Se.return;try{o=d,Ge.props=o.memoizedProps,Ge.state=o.memoizedState,Ge.componentWillUnmount()}catch(Xe){yn(d,u,Xe)}}break;case 5:Ua(Se,Se.return);break;case 22:if(Se.memoizedState!==null){Pm(Ie);continue}}Ue!==null?(Ue.return=Se,$e=Ue):Pm(Ie)}Pe=Pe.sibling}e:for(Pe=null,Ie=n;;){if(Ie.tag===5){if(Pe===null){Pe=Ie;try{g=Ie.stateNode,fe?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(B=Ie.stateNode,G=Ie.memoizedProps.style,k=G!=null&&G.hasOwnProperty("display")?G.display:null,B.style.display=nr("display",k))}catch(Xe){yn(n,n.return,Xe)}}}else if(Ie.tag===6){if(Pe===null)try{Ie.stateNode.nodeValue=fe?"":Ie.memoizedProps}catch(Xe){yn(n,n.return,Xe)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===n)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===n)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===n)break e;Pe===Ie&&(Pe=null),Ie=Ie.return}Pe===Ie&&(Pe=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:To(o,n),Fo(n),d&4&&Em(n);break;case 21:break;default:To(o,n),Fo(n)}}function Fo(n){var o=n.flags;if(o&2){try{e:{for(var u=n.return;u!==null;){if(ym(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Zr(g,""),d.flags&=-33);var w=vm(n);lf(n,w,g);break;case 3:case 4:var k=d.stateNode.containerInfo,B=vm(n);af(n,B,k);break;default:throw Error(t(161))}}catch(G){yn(n,n.return,G)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function o0(n,o,u){$e=n,Sm(n)}function Sm(n,o,u){for(var d=(n.mode&1)!==0;$e!==null;){var g=$e,w=g.child;if(g.tag===22&&d){var k=g.memoizedState!==null||Gu;if(!k){var B=g.alternate,G=B!==null&&B.memoizedState!==null||Ur;B=Gu;var fe=Ur;if(Gu=k,(Ur=G)&&!fe)for($e=g;$e!==null;)k=$e,G=k.child,k.tag===22&&k.memoizedState!==null?Cm(g):G!==null?(G.return=k,$e=G):Cm(g);for(;w!==null;)$e=w,Sm(w),w=w.sibling;$e=g,Gu=B,Ur=fe}xm(n)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,$e=w):xm(n)}}function xm(n){for(;$e!==null;){var o=$e;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ur||Ku(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ur)if(u===null)d.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:wo(o.type,u.memoizedProps);d.componentDidUpdate(g,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Pp(o,w,d);break;case 3:var k=o.updateQueue;if(k!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Pp(o,k,u)}break;case 5:var B=o.stateNode;if(u===null&&o.flags&4){u=B;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var fe=o.alternate;if(fe!==null){var Pe=fe.memoizedState;if(Pe!==null){var Ie=Pe.dehydrated;Ie!==null&&kn(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ur||o.flags&512&&sf(o)}catch(Se){yn(o,o.return,Se)}}if(o===n){$e=null;break}if(u=o.sibling,u!==null){u.return=o.return,$e=u;break}$e=o.return}}function Pm(n){for(;$e!==null;){var o=$e;if(o===n){$e=null;break}var u=o.sibling;if(u!==null){u.return=o.return,$e=u;break}$e=o.return}}function Cm(n){for(;$e!==null;){var o=$e;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ku(4,o)}catch(G){yn(o,u,G)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(G){yn(o,g,G)}}var w=o.return;try{sf(o)}catch(G){yn(o,w,G)}break;case 5:var k=o.return;try{sf(o)}catch(G){yn(o,k,G)}}}catch(G){yn(o,o.return,G)}if(o===n){$e=null;break}var B=o.sibling;if(B!==null){B.return=o.return,$e=B;break}$e=o.return}}var s0=Math.ceil,Qu=Ne.ReactCurrentDispatcher,uf=Ne.ReactCurrentOwner,ao=Ne.ReactCurrentBatchConfig,bt=0,fr=null,Un=null,kr=0,ji=0,ja=Ss(0),Jn=0,Vl=null,oa=0,Xu=0,cf=0,bl=null,Si=null,hf=0,Ha=1/0,ns=null,Yu=!1,ff=null,As=null,Ju=!1,Rs=null,ec=0,Fl=0,df=null,tc=-1,nc=0;function si(){return(bt&6)!==0?Ot():tc!==-1?tc:tc=Ot()}function Ls(n){return(n.mode&1)===0?1:(bt&2)!==0&&kr!==0?kr&-kr:Hv.transition!==null?(nc===0&&(nc=F()),nc):(n=Re,n!==0||(n=window.event,n=n===void 0?16:mt(n.type)),n)}function So(n,o,u,d){if(50<Fl)throw Fl=0,df=null,Error(t(185));ee(n,u,d),((bt&2)===0||n!==fr)&&(n===fr&&((bt&2)===0&&(Xu|=u),Jn===4&&Ms(n,kr)),xi(n,d),u===1&&bt===0&&(o.mode&1)===0&&(Ha=Ot()+500,Ru&&Ps()))}function xi(n,o){var u=n.callbackNode;I(n,o);var d=xt(n,n===fr?kr:0);if(d===0)u!==null&&di(u),n.callbackNode=null,n.callbackPriority=0;else if(o=d&-d,n.callbackPriority!==o){if(u!=null&&di(u),o===1)n.tag===0?jv(km.bind(null,n)):dp(km.bind(null,n)),br(function(){(bt&6)===0&&Ps()}),u=null;else{switch(Ze(d)){case 1:u=Li;break;case 4:u=Mi;break;case 16:u=Jr;break;case 536870912:u=Tn;break;default:u=Jr}u=Vm(u,Im.bind(null,n))}n.callbackPriority=o,n.callbackNode=u}}function Im(n,o){if(tc=-1,nc=0,(bt&6)!==0)throw Error(t(327));var u=n.callbackNode;if(Wa()&&n.callbackNode!==u)return null;var d=xt(n,n===fr?kr:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||o)o=rc(n,d);else{o=d;var g=bt;bt|=2;var w=Rm();(fr!==n||kr!==o)&&(ns=null,Ha=Ot()+500,aa(n,o));do try{u0();break}catch(B){Am(n,B)}while(!0);Rh(),Qu.current=w,bt=g,Un!==null?o=0:(fr=null,kr=0,o=Jn)}if(o!==0){if(o===2&&(g=D(n),g!==0&&(d=g,o=pf(n,g))),o===1)throw u=Vl,aa(n,0),Ms(n,d),xi(n,Ot()),u;if(o===6)Ms(n,d);else{if(g=n.current.alternate,(d&30)===0&&!a0(g)&&(o=rc(n,d),o===2&&(w=D(n),w!==0&&(d=w,o=pf(n,w))),o===1))throw u=Vl,aa(n,0),Ms(n,d),xi(n,Ot()),u;switch(n.finishedWork=g,n.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:la(n,Si,ns);break;case 3:if(Ms(n,d),(d&130023424)===d&&(o=hf+500-Ot(),10<o)){if(xt(n,0)!==0)break;if(g=n.suspendedLanes,(g&d)!==d){si(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=Xn(la.bind(null,n,Si,ns),o);break}la(n,Si,ns);break;case 4:if(Ms(n,d),(d&4194240)===d)break;for(o=n.eventTimes,g=-1;0<d;){var k=31-nt(d);w=1<<k,k=o[k],k>g&&(g=k),d&=~w}if(d=g,d=Ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*s0(d/1960))-d,10<d){n.timeoutHandle=Xn(la.bind(null,n,Si,ns),d);break}la(n,Si,ns);break;case 5:la(n,Si,ns);break;default:throw Error(t(329))}}}return xi(n,Ot()),n.callbackNode===u?Im.bind(null,n):null}function pf(n,o){var u=bl;return n.current.memoizedState.isDehydrated&&(aa(n,o).flags|=256),n=rc(n,o),n!==2&&(o=Si,Si=u,o!==null&&mf(o)),n}function mf(n){Si===null?Si=n:Si.push.apply(Si,n)}function a0(n){for(var o=n;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var g=u[d],w=g.getSnapshot;g=g.value;try{if(!Fi(w(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ms(n,o){for(o&=~cf,o&=~Xu,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var u=31-nt(o),d=1<<u;n[u]=-1,o&=~d}}function km(n){if((bt&6)!==0)throw Error(t(327));Wa();var o=xt(n,0);if((o&1)===0)return xi(n,Ot()),null;var u=rc(n,o);if(n.tag!==0&&u===2){var d=D(n);d!==0&&(o=d,u=pf(n,d))}if(u===1)throw u=Vl,aa(n,0),Ms(n,o),xi(n,Ot()),u;if(u===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,la(n,Si,ns),xi(n,Ot()),null}function gf(n,o){var u=bt;bt|=1;try{return n(o)}finally{bt=u,bt===0&&(Ha=Ot()+500,Ru&&Ps())}}function sa(n){Rs!==null&&Rs.tag===0&&(bt&6)===0&&Wa();var o=bt;bt|=1;var u=ao.transition,d=Re;try{if(ao.transition=null,Re=1,n)return n()}finally{Re=d,ao.transition=u,bt=o,(bt&6)===0&&Ps()}}function _f(){ji=ja.current,Jt(ja)}function aa(n,o){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,Bn(u)),Un!==null)for(u=Un.return;u!==null;){var d=u;switch(Ph(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ku();break;case 3:za(),Jt(wi),Jt(Fr),Fh();break;case 5:Vh(d);break;case 4:za();break;case 13:Jt(un);break;case 19:Jt(un);break;case 10:Lh(d.type._context);break;case 22:case 23:_f()}u=u.return}if(fr=n,Un=n=Ns(n.current,null),kr=ji=o,Jn=0,Vl=null,cf=Xu=oa=0,Si=bl=null,na!==null){for(o=0;o<na.length;o++)if(u=na[o],d=u.interleaved,d!==null){u.interleaved=null;var g=d.next,w=u.pending;if(w!==null){var k=w.next;w.next=g,d.next=k}u.pending=d}na=null}return n}function Am(n,o){do{var u=Un;try{if(Rh(),Bu.current=Wu,Uu){for(var d=cn.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Uu=!1}if(ia=0,hr=Yn=cn=null,Rl=!1,Ll=0,uf.current=null,u===null||u.return===null){Jn=1,Vl=o,Un=null;break}e:{var w=n,k=u.return,B=u,G=o;if(o=kr,B.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=G,Pe=B,Ie=Pe.tag;if((Pe.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Se=Pe.alternate;Se?(Pe.updateQueue=Se.updateQueue,Pe.memoizedState=Se.memoizedState,Pe.lanes=Se.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Ue=em(k);if(Ue!==null){Ue.flags&=-257,tm(Ue,k,B,w,o),Ue.mode&1&&Jp(w,fe,o),o=Ue,G=fe;var Ge=o.updateQueue;if(Ge===null){var Xe=new Set;Xe.add(G),o.updateQueue=Xe}else Ge.add(G);break e}else{if((o&1)===0){Jp(w,fe,o),yf();break e}G=Error(t(426))}}else if(on&&B.mode&1){var Nn=em(k);if(Nn!==null){(Nn.flags&65536)===0&&(Nn.flags|=256),tm(Nn,k,B,w,o),kh(Ba(G,B));break e}}w=G=Ba(G,B),Jn!==4&&(Jn=2),bl===null?bl=[w]:bl.push(w),w=k;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var se=Xp(w,G,o);xp(w,se);break e;case 1:B=G;var X=w.type,le=w.stateNode;if((w.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(As===null||!As.has(le)))){w.flags|=65536,o&=-o,w.lanes|=o;var Le=Yp(w,B,o);xp(w,Le);break e}}w=w.return}while(w!==null)}Mm(u)}catch(Ye){o=Ye,Un===u&&u!==null&&(Un=u=u.return);continue}break}while(!0)}function Rm(){var n=Qu.current;return Qu.current=Wu,n===null?Wu:n}function yf(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),fr===null||(oa&268435455)===0&&(Xu&268435455)===0||Ms(fr,kr)}function rc(n,o){var u=bt;bt|=2;var d=Rm();(fr!==n||kr!==o)&&(ns=null,aa(n,o));do try{l0();break}catch(g){Am(n,g)}while(!0);if(Rh(),bt=u,Qu.current=d,Un!==null)throw Error(t(261));return fr=null,kr=0,Jn}function l0(){for(;Un!==null;)Lm(Un)}function u0(){for(;Un!==null&&!pi();)Lm(Un)}function Lm(n){var o=Om(n.alternate,n,ji);n.memoizedProps=n.pendingProps,o===null?Mm(n):Un=o,uf.current=null}function Mm(n){var o=n;do{var u=o.alternate;if(n=o.return,(o.flags&32768)===0){if(u=t0(u,o,ji),u!==null){Un=u;return}}else{if(u=n0(u,o),u!==null){u.flags&=32767,Un=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jn=6,Un=null;return}}if(o=o.sibling,o!==null){Un=o;return}Un=o=n}while(o!==null);Jn===0&&(Jn=5)}function la(n,o,u){var d=Re,g=ao.transition;try{ao.transition=null,Re=1,c0(n,o,u,d)}finally{ao.transition=g,Re=d}return null}function c0(n,o,u,d){do Wa();while(Rs!==null);if((bt&6)!==0)throw Error(t(327));u=n.finishedWork;var g=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var w=u.lanes|u.childLanes;if(he(n,w),n===fr&&(Un=fr=null,kr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ju||(Ju=!0,Vm(Jr,function(){return Wa(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=ao.transition,ao.transition=null;var k=Re;Re=1;var B=bt;bt|=4,uf.current=null,i0(n,u),Tm(u,n),eo(it),An=!!Ve,it=Ve=null,n.current=u,o0(u),Gn(),bt=B,Re=k,ao.transition=w}else n.current=u;if(Ju&&(Ju=!1,Rs=n,ec=g),w=n.pendingLanes,w===0&&(As=null),sr(u.stateNode),xi(n,Ot()),o!==null)for(d=n.onRecoverableError,u=0;u<o.length;u++)g=o[u],d(g.value,{componentStack:g.stack,digest:g.digest});if(Yu)throw Yu=!1,n=ff,ff=null,n;return(ec&1)!==0&&n.tag!==0&&Wa(),w=n.pendingLanes,(w&1)!==0?n===df?Fl++:(Fl=0,df=n):Fl=0,Ps(),null}function Wa(){if(Rs!==null){var n=Ze(ec),o=ao.transition,u=Re;try{if(ao.transition=null,Re=16>n?16:n,Rs===null)var d=!1;else{if(n=Rs,Rs=null,ec=0,(bt&6)!==0)throw Error(t(331));var g=bt;for(bt|=4,$e=n.current;$e!==null;){var w=$e,k=w.child;if(($e.flags&16)!==0){var B=w.deletions;if(B!==null){for(var G=0;G<B.length;G++){var fe=B[G];for($e=fe;$e!==null;){var Pe=$e;switch(Pe.tag){case 0:case 11:case 15:Ol(8,Pe,w)}var Ie=Pe.child;if(Ie!==null)Ie.return=Pe,$e=Ie;else for(;$e!==null;){Pe=$e;var Se=Pe.sibling,Ue=Pe.return;if(_m(Pe),Pe===fe){$e=null;break}if(Se!==null){Se.return=Ue,$e=Se;break}$e=Ue}}}var Ge=w.alternate;if(Ge!==null){var Xe=Ge.child;if(Xe!==null){Ge.child=null;do{var Nn=Xe.sibling;Xe.sibling=null,Xe=Nn}while(Xe!==null)}}$e=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,$e=k;else e:for(;$e!==null;){if(w=$e,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ol(9,w,w.return)}var se=w.sibling;if(se!==null){se.return=w.return,$e=se;break e}$e=w.return}}var X=n.current;for($e=X;$e!==null;){k=$e;var le=k.child;if((k.subtreeFlags&2064)!==0&&le!==null)le.return=k,$e=le;else e:for(k=X;$e!==null;){if(B=$e,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Ku(9,B)}}catch(Ye){yn(B,B.return,Ye)}if(B===k){$e=null;break e}var Le=B.sibling;if(Le!==null){Le.return=B.return,$e=Le;break e}$e=B.return}}if(bt=g,Ps(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Kn,n)}catch{}d=!0}return d}finally{Re=u,ao.transition=o}}return!1}function Nm(n,o,u){o=Ba(u,o),o=Xp(n,o,1),n=Is(n,o,1),o=si(),n!==null&&(ee(n,1,o),xi(n,o))}function yn(n,o,u){if(n.tag===3)Nm(n,n,u);else for(;o!==null;){if(o.tag===3){Nm(o,n,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))){n=Ba(u,n),n=Yp(o,n,1),o=Is(o,n,1),n=si(),o!==null&&(ee(o,1,n),xi(o,n));break}}o=o.return}}function h0(n,o,u){var d=n.pingCache;d!==null&&d.delete(o),o=si(),n.pingedLanes|=n.suspendedLanes&u,fr===n&&(kr&u)===u&&(Jn===4||Jn===3&&(kr&130023424)===kr&&500>Ot()-hf?aa(n,0):cf|=u),xi(n,o)}function Dm(n,o){o===0&&((n.mode&1)===0?o=1:(o=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var u=si();n=Jo(n,o),n!==null&&(ee(n,o,u),xi(n,u))}function f0(n){var o=n.memoizedState,u=0;o!==null&&(u=o.retryLane),Dm(n,u)}function d0(n,o){var u=0;switch(n.tag){case 13:var d=n.stateNode,g=n.memoizedState;g!==null&&(u=g.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Dm(n,u)}var Om;Om=function(n,o,u){if(n!==null)if(n.memoizedProps!==o.pendingProps||wi.current)Ti=!0;else{if((n.lanes&u)===0&&(o.flags&128)===0)return Ti=!1,e0(n,o,u);Ti=(n.flags&131072)!==0}else Ti=!1,on&&(o.flags&1048576)!==0&&pp(o,Mu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Zu(n,o),n=o.pendingProps;var g=Ma(o,Fr.current);Fa(o,u),g=Uh(null,o,d,n,g,u);var w=jh();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ei(d)?(w=!0,Au(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Dh(o),g.updater=qu,o.stateNode=g,g._reactInternals=o,Gh(o,d,n,u),o=Yh(null,o,d,!0,w,u)):(o.tag=0,on&&w&&xh(o),oi(null,o,g,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Zu(n,o),n=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=m0(d),n=wo(d,n),g){case 0:o=Xh(null,o,d,n,u);break e;case 1:o=am(null,o,d,n,u);break e;case 11:o=nm(null,o,d,n,u);break e;case 14:o=rm(null,o,d,wo(d.type,n),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:wo(d,g),Xh(n,o,d,g,u);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:wo(d,g),am(n,o,d,g,u);case 3:e:{if(lm(o),n===null)throw Error(t(387));d=o.pendingProps,w=o.memoizedState,g=w.element,Sp(n,o),Fu(o,d,null,u);var k=o.memoizedState;if(d=k.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Ba(Error(t(423)),o),o=um(n,o,d,u,g);break e}else if(d!==g){g=Ba(Error(t(424)),o),o=um(n,o,d,u,g);break e}else for(Ui=Oo(o.stateNode.containerInfo.firstChild),Bi=o,on=!0,vo=null,u=Ep(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oa(),d===g){o=ts(n,o,u);break e}oi(n,o,d,u)}o=o.child}return o;case 5:return Cp(o),n===null&&Ih(o),d=o.type,g=o.pendingProps,w=n!==null?n.memoizedProps:null,k=g.children,yt(d,g)?k=null:w!==null&&yt(d,w)&&(o.flags|=32),sm(n,o),oi(n,o,k,u),o.child;case 6:return n===null&&Ih(o),null;case 13:return cm(n,o,u);case 4:return Oh(o,o.stateNode.containerInfo),d=o.pendingProps,n===null?o.child=Va(o,null,d,u):oi(n,o,d,u),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:wo(d,g),nm(n,o,d,g,u);case 7:return oi(n,o,o.pendingProps,u),o.child;case 8:return oi(n,o,o.pendingProps.children,u),o.child;case 12:return oi(n,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,g=o.pendingProps,w=o.memoizedProps,k=g.value,Kt(Ou,d._currentValue),d._currentValue=k,w!==null)if(Fi(w.value,k)){if(w.children===g.children&&!wi.current){o=ts(n,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var B=w.dependencies;if(B!==null){k=w.child;for(var G=B.firstContext;G!==null;){if(G.context===d){if(w.tag===1){G=es(-1,u&-u),G.tag=2;var fe=w.updateQueue;if(fe!==null){fe=fe.shared;var Pe=fe.pending;Pe===null?G.next=G:(G.next=Pe.next,Pe.next=G),fe.pending=G}}w.lanes|=u,G=w.alternate,G!==null&&(G.lanes|=u),Mh(w.return,u,o),B.lanes|=u;break}G=G.next}}else if(w.tag===10)k=w.type===o.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(t(341));k.lanes|=u,B=k.alternate,B!==null&&(B.lanes|=u),Mh(k,u,o),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===o){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}oi(n,o,g.children,u),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,Fa(o,u),g=oo(g),d=d(g),o.flags|=1,oi(n,o,d,u),o.child;case 14:return d=o.type,g=wo(d,o.pendingProps),g=wo(d.type,g),rm(n,o,d,g,u);case 15:return im(n,o,o.type,o.pendingProps,u);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:wo(d,g),Zu(n,o),o.tag=1,Ei(d)?(n=!0,Au(o)):n=!1,Fa(o,u),Kp(o,d,g),Gh(o,d,g,u),Yh(null,o,d,!0,n,u);case 19:return fm(n,o,u);case 22:return om(n,o,u)}throw Error(t(156,o.tag))};function Vm(n,o){return fi(n,o)}function p0(n,o,u,d){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(n,o,u,d){return new p0(n,o,u,d)}function vf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function m0(n){if(typeof n=="function")return vf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===K)return 11;if(n===Xt)return 14}return 2}function Ns(n,o){var u=n.alternate;return u===null?(u=lo(n.tag,o,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=o,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,o=n.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function ic(n,o,u,d,g,w){var k=2;if(d=n,typeof n=="function")vf(n)&&(k=1);else if(typeof n=="string")k=5;else e:switch(n){case H:return ua(u.children,g,w,o);case z:k=8,g|=8;break;case j:return n=lo(12,u,o,g|2),n.elementType=j,n.lanes=w,n;case U:return n=lo(13,u,o,g),n.elementType=U,n.lanes=w,n;case vt:return n=lo(19,u,o,g),n.elementType=vt,n.lanes=w,n;case Mt:return oc(u,g,w,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:k=10;break e;case W:k=9;break e;case K:k=11;break e;case Xt:k=14;break e;case Lt:k=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return o=lo(k,u,o,g),o.elementType=n,o.type=d,o.lanes=w,o}function ua(n,o,u,d){return n=lo(7,n,d,o),n.lanes=u,n}function oc(n,o,u,d){return n=lo(22,n,d,o),n.elementType=Mt,n.lanes=u,n.stateNode={isHidden:!1},n}function wf(n,o,u){return n=lo(6,n,null,o),n.lanes=u,n}function Ef(n,o,u){return o=lo(4,n.children!==null?n.children:[],n.key,o),o.lanes=u,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function g0(n,o,u,d,g){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ae(0),this.expirationTimes=ae(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ae(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Tf(n,o,u,d,g,w,k,B,G){return n=new g0(n,o,u,B,G),o===1?(o=1,w===!0&&(o|=8)):o=0,w=lo(3,null,null,o),n.current=w,w.stateNode=n,w.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(w),n}function _0(n,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fe,key:d==null?null:""+d,children:n,containerInfo:o,implementation:u}}function bm(n){if(!n)return xs;n=n._reactInternals;e:{if(or(n)!==n||n.tag!==1)throw Error(t(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ei(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(n.tag===1){var u=n.type;if(Ei(u))return hp(n,u,o)}return o}function Fm(n,o,u,d,g,w,k,B,G){return n=Tf(u,d,!0,n,g,w,k,B,G),n.context=bm(null),u=n.current,d=si(),g=Ls(u),w=es(d,g),w.callback=o??null,Is(u,w,g),n.current.lanes=g,ee(n,g,d),xi(n,d),n}function sc(n,o,u,d){var g=o.current,w=si(),k=Ls(g);return u=bm(u),o.context===null?o.context=u:o.pendingContext=u,o=es(w,k),o.payload={element:n},d=d===void 0?null:d,d!==null&&(o.callback=d),n=Is(g,o,k),n!==null&&(So(n,g,k,w),bu(n,g,k)),k}function ac(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zm(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<o?u:o}}function Sf(n,o){zm(n,o),(n=n.alternate)&&zm(n,o)}function y0(){return null}var Bm=typeof reportError=="function"?reportError:function(n){console.error(n)};function xf(n){this._internalRoot=n}lc.prototype.render=xf.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(t(409));sc(n,o,null,null)},lc.prototype.unmount=xf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;sa(function(){sc(null,n,null,null)}),o[Ht]=null}};function lc(n){this._internalRoot=n}lc.prototype.unstable_scheduleHydration=function(n){if(n){var o=Pn();n={blockedOn:null,target:n,priority:o};for(var u=0;u<Gt.length&&o!==0&&o<Gt[u].priority;u++);Gt.splice(u,0,n),u===0&&zn(n)}};function Pf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Um(){}function v0(n,o,u,d,g){if(g){if(typeof d=="function"){var w=d;d=function(){var fe=ac(k);w.call(fe)}}var k=Fm(o,d,n,0,null,!1,!1,"",Um);return n._reactRootContainer=k,n[Ht]=k.current,vs(n.nodeType===8?n.parentNode:n),sa(),k}for(;g=n.lastChild;)n.removeChild(g);if(typeof d=="function"){var B=d;d=function(){var fe=ac(G);B.call(fe)}}var G=Tf(n,0,!1,null,null,!1,!1,"",Um);return n._reactRootContainer=G,n[Ht]=G.current,vs(n.nodeType===8?n.parentNode:n),sa(function(){sc(o,G,u,d)}),G}function cc(n,o,u,d,g){var w=u._reactRootContainer;if(w){var k=w;if(typeof g=="function"){var B=g;g=function(){var G=ac(k);B.call(G)}}sc(o,k,n,g)}else k=v0(u,o,n,g,d);return ac(k)}ot=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var u=Oe(o.pendingLanes);u!==0&&(Ce(o,u|1),xi(o,Ot()),(bt&6)===0&&(Ha=Ot()+500,Ps()))}break;case 13:sa(function(){var d=Jo(n,1);if(d!==null){var g=si();So(d,n,1,g)}}),Sf(n,1)}},Pt=function(n){if(n.tag===13){var o=Jo(n,134217728);if(o!==null){var u=si();So(o,n,134217728,u)}Sf(n,134217728)}},xn=function(n){if(n.tag===13){var o=Ls(n),u=Jo(n,o);if(u!==null){var d=si();So(u,n,o,d)}Sf(n,o)}},Pn=function(){return Re},rn=function(n,o){var u=Re;try{return Re=n,o()}finally{Re=u}},rr=function(n,o,u){switch(o){case"input":if(qr(n,u),o=u.name,u.type==="radio"&&o!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==n&&d.form===n.form){var g=Ra(d);if(!g)throw Error(t(90));gr(d),qr(d,g)}}}break;case"textarea":ho(n,u);break;case"select":o=u.value,o!=null&&On(n,!!u.multiple,o,!1)}},wr=gf,Ii=sa;var w0={usingClientEntryPoint:!1,Events:[Go,Ko,Ra,vr,ir,gf]},zl={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ri(n),n===null?null:n.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Kn=hc.inject(E0),Sn=hc}catch{}}return Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0,Pi.createPortal=function(n,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(o))throw Error(t(200));return _0(n,o,null,u)},Pi.createRoot=function(n,o){if(!Pf(n))throw Error(t(299));var u=!1,d="",g=Bm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Tf(n,1,!1,null,null,u,!1,d,g),n[Ht]=o.current,vs(n.nodeType===8?n.parentNode:n),new xf(o)},Pi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Ri(o),n=n===null?null:n.stateNode,n},Pi.flushSync=function(n){return sa(n)},Pi.hydrate=function(n,o,u){if(!uc(o))throw Error(t(200));return cc(null,n,o,!0,u)},Pi.hydrateRoot=function(n,o,u){if(!Pf(n))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,g=!1,w="",k=Bm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),o=Fm(o,null,n,1,u??null,g,!1,w,k),n[Ht]=o.current,vs(n),d)for(n=0;n<d.length;n++)u=d[n],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new lc(o)},Pi.render=function(n,o,u){if(!uc(o))throw Error(t(200));return cc(null,n,o,!1,u)},Pi.unmountComponentAtNode=function(n){if(!uc(n))throw Error(t(40));return n._reactRootContainer?(sa(function(){cc(null,null,n,!1,function(){n._reactRootContainer=null,n[Ht]=null})}),!0):!1},Pi.unstable_batchedUpdates=gf,Pi.unstable_renderSubtreeIntoContainer=function(n,o,u,d){if(!uc(u))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return cc(n,o,u,!1,d)},Pi.version="18.3.1-next-f1338f8080-20240426",Pi}var tg;function F_(){if(tg)return Rf.exports;tg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rf.exports=Yw(),Rf.exports}F_();var dc={},ng;function Jw(){if(ng)return dc;ng=1;var i=F_();return dc.createRoot=i.createRoot,dc.hydrateRoot=i.hydrateRoot,dc}var eE=Jw();const z_=Hi.createContext();function tE({children:i}){const[e,t]=de.useState("explore");return Ae.jsx(z_.Provider,{value:{mode:e,setMode:t},children:i})}function th(){return de.useContext(z_)}var B_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rg=Hi.createContext&&Hi.createContext(B_),nE=["attr","size","title"];function rE(i,e){if(i==null)return{};var t=iE(i,e),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(l=0;l<c.length;l++)s=c[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function iE(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Nc(){return Nc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Nc.apply(this,arguments)}function ig(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),t.push.apply(t,s)}return t}function Dc(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ig(Object(t),!0).forEach(function(s){oE(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ig(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function oE(i,e,t){return e=sE(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function sE(i){var e=aE(i,"string");return typeof e=="symbol"?e:e+""}function aE(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function U_(i){return i&&i.map((e,t)=>Hi.createElement(e.tag,Dc({key:t},e.attr),U_(e.child)))}function ll(i){return e=>Hi.createElement(lE,Nc({attr:Dc({},i.attr)},e),U_(i.child))}function lE(i){var e=t=>{var{attr:s,size:l,title:c}=i,p=rE(i,nE),E=l||t.size||"1em",T;return t.className&&(T=t.className),i.className&&(T=(T?T+" ":"")+i.className),Hi.createElement("svg",Nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,p,{className:T,style:Dc(Dc({color:i.color||t.color},t.style),i.style),height:E,width:E,xmlns:"http://www.w3.org/2000/svg"}),c&&Hi.createElement("title",null,c),i.children)};return rg!==void 0?Hi.createElement(rg.Consumer,null,t=>e(t)):e(B_)}function uE(i){return ll({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm198.4-588.1a32 32 0 0 0-24.5.5L414.9 415 296.4 686c-3.6 8.2-3.6 17.5 0 25.7 3.4 7.8 9.7 13.9 17.7 17 3.8 1.5 7.7 2.2 11.7 2.2 4.4 0 8.7-.9 12.8-2.7l271-118.6 118.5-271a32.06 32.06 0 0 0-17.7-42.7zM576.8 534.4l26.2 26.2-42.4 42.4-26.2-26.2L380 644.4 447.5 490 422 464.4l42.4-42.4 25.5 25.5L644.4 380l-67.6 154.4zM464.4 422L422 464.4l25.5 25.6 86.9 86.8 26.2 26.2 42.4-42.4-26.2-26.2-86.8-86.9z"},child:[]}]})(i)}function cE(i){return ll({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10 2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"},child:[]}]})(i)}function hE(i){return ll({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.61713 8.71233L10.8222 6.38373C11.174 6.12735 11.6087 5.98543 12.065 6.0008C13.1764 6.02813 14.1524 6.75668 14.4919 7.82036C14.6782 8.40431 14.8481 8.79836 15.0017 9.0025C15.914 10.2155 17.3655 11 19.0002 11V13C16.8255 13 14.8825 12.0083 13.5986 10.4526L12.901 14.4085L14.9621 16.138L17.1853 22.246L15.3059 22.93L13.266 17.3256L9.87576 14.4808C9.32821 14.0382 9.03139 13.3192 9.16231 12.5767L9.67091 9.6923L8.99407 10.1841L6.86706 13.1116L5.24902 11.9361L7.60016 8.7L7.61713 8.71233ZM13.5002 5.5C12.3956 5.5 11.5002 4.60457 11.5002 3.5C11.5002 2.39543 12.3956 1.5 13.5002 1.5C14.6047 1.5 15.5002 2.39543 15.5002 3.5C15.5002 4.60457 14.6047 5.5 13.5002 5.5ZM10.5286 18.6813L7.31465 22.5116L5.78257 21.226L8.75774 17.6803L9.50426 15.5L11.2954 17L10.5286 18.6813Z"},child:[]}]})(i)}function fE(i){return ll({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11,13 C11.5,13.5 13.1299859,12.8876287 14.2620192,12.5 C15.7222222,12 17.5,12.5 17,12 C15.3609614,10.3609614 15,10 15,10 C15,10 10.5,12.5 11,13 Z M2,20 C4,20 5,19 7,19 C9,19 10,20 12,20 C14,20 15,19 17,19 C19,19 20,20 22,20 M2,16 C4,16 5,15 7,15 C9,15 10,16 12,16 C14,16 15,15 17,15 C19,15 20,16 22,16 M17.5,4 L12.2222222,7 L15.5,10.5 L12,12 M19.2222222,10 C19.774507,10 20.2222222,9.55228475 20.2222222,9 C20.2222222,8.44771525 19.774507,8 19.2222222,8 C18.6699375,8 18.2222222,8.44771525 18.2222222,9 C18.2222222,9.55228475 18.6699375,10 19.2222222,10 Z"},child:[]}]})(i)}function dE(i){return ll({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 0C348.8 0 448 35.2 448 80l0 16 0 320c0 17.7-14.3 32-32 32l0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32-192 0 0 32c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32L0 96 0 80C0 35.2 99.2 0 224 0zM64 128l0 128c0 17.7 14.3 32 32 32l256 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L96 96c-17.7 0-32 14.3-32 32zM80 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"},child:[]}]})(i)}function pE(){const{mode:i,setMode:e}=th();return console.log(i),Ae.jsxs("div",{className:"mode-card",children:[Ae.jsxs("button",{className:"button",onClick:()=>e("bike"),children:[Ae.jsx(cE,{})," bike"]}),Ae.jsxs("button",{className:"button",onClick:()=>e("walk"),children:[Ae.jsx(hE,{})," walk"]}),Ae.jsxs("button",{className:"button",onClick:()=>e("explore"),children:[Ae.jsx(uE,{})," explore"]}),Ae.jsxs("button",{className:"button",onClick:()=>e("commute"),children:[Ae.jsx(dE,{})," commute"]}),Ae.jsxs("button",{className:"button",onClick:()=>e("swim"),children:[Ae.jsx(fE,{})," swim"]})]})}var jl={exports:{}};var mE=jl.exports,og;function gE(){return og||(og=1,(function(i,e){(function(t,s){s(e)})(mE,(function(t){var s="1.9.4";function l(r){var a,f,m,S;for(f=1,m=arguments.length;f<m;f++){S=arguments[f];for(a in S)r[a]=S[a]}return r}var c=Object.create||(function(){function r(){}return function(a){return r.prototype=a,new r}})();function p(r,a){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var m=f.call(arguments,2);return function(){return r.apply(a,m.length?m.concat(f.call(arguments)):arguments)}}var E=0;function T(r){return"_leaflet_id"in r||(r._leaflet_id=++E),r._leaflet_id}function x(r,a,f){var m,S,R,q;return q=function(){m=!1,S&&(R.apply(f,S),S=!1)},R=function(){m?S=arguments:(r.apply(f,arguments),setTimeout(q,a),m=!0)},R}function A(r,a,f){var m=a[1],S=a[0],R=m-S;return r===m&&f?r:((r-S)%R+R)%R+S}function M(){return!1}function b(r,a){if(a===!1)return r;var f=Math.pow(10,a===void 0?6:a);return Math.round(r*f)/f}function $(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function J(r){return $(r).split(/\s+/)}function re(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?c(r.options):{});for(var f in a)r.options[f]=a[f];return r.options}function Y(r,a,f){var m=[];for(var S in r)m.push(encodeURIComponent(f?S.toUpperCase():S)+"="+encodeURIComponent(r[S]));return(!a||a.indexOf("?")===-1?"?":"&")+m.join("&")}var me=/\{ *([\w_ -]+) *\}/g;function pe(r,a){return r.replace(me,function(f,m){var S=a[m];if(S===void 0)throw new Error("No value provided for variable "+f);return typeof S=="function"&&(S=S(a)),S})}var xe=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Ne(r,a){for(var f=0;f<r.length;f++)if(r[f]===a)return f;return-1}var qe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Fe(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var H=0;function z(r){var a=+new Date,f=Math.max(0,16-(a-H));return H=a+f,window.setTimeout(r,f)}var j=window.requestAnimationFrame||Fe("RequestAnimationFrame")||z,Z=window.cancelAnimationFrame||Fe("CancelAnimationFrame")||Fe("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function W(r,a,f){if(f&&j===z)r.call(a);else return j.call(window,p(r,a))}function K(r){r&&Z.call(window,r)}var U={__proto__:null,extend:l,create:c,bind:p,get lastId(){return E},stamp:T,throttle:x,wrapNum:A,falseFn:M,formatNum:b,trim:$,splitWords:J,setOptions:re,getParamString:Y,template:pe,isArray:xe,indexOf:Ne,emptyImageUrl:qe,requestFn:j,cancelFn:Z,requestAnimFrame:W,cancelAnimFrame:K};function vt(){}vt.extend=function(r){var a=function(){re(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=a.__super__=this.prototype,m=c(f);m.constructor=a,a.prototype=m;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(a[S]=this[S]);return r.statics&&l(a,r.statics),r.includes&&(Xt(r.includes),l.apply(null,[m].concat(r.includes))),l(m,r),delete m.statics,delete m.includes,m.options&&(m.options=f.options?c(f.options):{},l(m.options,r.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,q=m._initHooks.length;R<q;R++)m._initHooks[R].call(this)}},a},vt.include=function(r){var a=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},vt.mergeOptions=function(r){return l(this.prototype.options,r),this},vt.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Xt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=xe(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Lt={on:function(r,a,f){if(typeof r=="object")for(var m in r)this._on(m,r[m],a);else{r=J(r);for(var S=0,R=r.length;S<R;S++)this._on(r[S],a,f)}return this},off:function(r,a,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var m in r)this._off(m,r[m],a);else{r=J(r);for(var S=arguments.length===1,R=0,q=r.length;R<q;R++)S?this._off(r[R]):this._off(r[R],a,f)}return this},_on:function(r,a,f,m){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,f)===!1){f===this&&(f=void 0);var S={fn:a,ctx:f};m&&(S.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(S)}},_off:function(r,a,f){var m,S,R;if(this._events&&(m=this._events[r],!!m)){if(arguments.length===1){if(this._firingCount)for(S=0,R=m.length;S<R;S++)m[S].fn=M;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var q=this._listens(r,a,f);if(q!==!1){var oe=m[q];this._firingCount&&(oe.fn=M,this._events[r]=m=m.slice()),m.splice(q,1)}}},fire:function(r,a,f){if(!this.listens(r,f))return this;var m=l({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var S=this._events[r];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,q=S.length;R<q;R++){var oe=S[R],ce=oe.fn;oe.once&&this.off(r,ce,oe.ctx),ce.call(oe.ctx||this,m)}this._firingCount--}}return f&&this._propagateEvent(m),this},listens:function(r,a,f,m){typeof r!="string"&&console.warn('"string" type argument expected');var S=a;typeof a!="function"&&(m=!!a,S=void 0,f=void 0);var R=this._events&&this._events[r];if(R&&R.length&&this._listens(r,S,f)!==!1)return!0;if(m){for(var q in this._eventParents)if(this._eventParents[q].listens(r,a,f,m))return!0}return!1},_listens:function(r,a,f){if(!this._events)return!1;var m=this._events[r]||[];if(!a)return!!m.length;f===this&&(f=void 0);for(var S=0,R=m.length;S<R;S++)if(m[S].fn===a&&m[S].ctx===f)return S;return!1},once:function(r,a,f){if(typeof r=="object")for(var m in r)this._on(m,r[m],a,!0);else{r=J(r);for(var S=0,R=r.length;S<R;S++)this._on(r[S],a,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[T(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[T(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var Mt=vt.extend(Lt);function _e(r,a,f){this.x=f?Math.round(r):r,this.y=f?Math.round(a):a}var ze=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(r){return this.clone()._add(ve(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(ve(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new _e(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new _e(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ze(this.x),this.y=ze(this.y),this},distanceTo:function(r){r=ve(r);var a=r.x-this.x,f=r.y-this.y;return Math.sqrt(a*a+f*f)},equals:function(r){return r=ve(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=ve(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ve(r,a,f){return r instanceof _e?r:xe(r)?new _e(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new _e(r.x,r.y):new _e(r,a,f)}function Q(r,a){if(r)for(var f=a?[r,a]:r,m=0,S=f.length;m<S;m++)this.extend(f[m])}Q.prototype={extend:function(r){var a,f;if(!r)return this;if(r instanceof _e||typeof r[0]=="number"||"x"in r)a=f=ve(r);else if(r=ye(r),a=r.min,f=r.max,!a||!f)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=f.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return ve((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return ve(this.min.x,this.max.y)},getTopRight:function(){return ve(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,f;return typeof r[0]=="number"||r instanceof _e?r=ve(r):r=ye(r),r instanceof Q?(a=r.min,f=r.max):a=f=r,a.x>=this.min.x&&f.x<=this.max.x&&a.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=ye(r);var a=this.min,f=this.max,m=r.min,S=r.max,R=S.x>=a.x&&m.x<=f.x,q=S.y>=a.y&&m.y<=f.y;return R&&q},overlaps:function(r){r=ye(r);var a=this.min,f=this.max,m=r.min,S=r.max,R=S.x>a.x&&m.x<f.x,q=S.y>a.y&&m.y<f.y;return R&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,f=this.max,m=Math.abs(a.x-f.x)*r,S=Math.abs(a.y-f.y)*r;return ye(ve(a.x-m,a.y-S),ve(f.x+m,f.y+S))},equals:function(r){return r?(r=ye(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ye(r,a){return!r||r instanceof Q?r:new Q(r,a)}function Ke(r,a){if(r)for(var f=a?[r,a]:r,m=0,S=f.length;m<S;m++)this.extend(f[m])}Ke.prototype={extend:function(r){var a=this._southWest,f=this._northEast,m,S;if(r instanceof Be)m=r,S=r;else if(r instanceof Ke){if(m=r._southWest,S=r._northEast,!m||!S)return this}else return r?this.extend(De(r)||je(r)):this;return!a&&!f?(this._southWest=new Be(m.lat,m.lng),this._northEast=new Be(S.lat,S.lng)):(a.lat=Math.min(m.lat,a.lat),a.lng=Math.min(m.lng,a.lng),f.lat=Math.max(S.lat,f.lat),f.lng=Math.max(S.lng,f.lng)),this},pad:function(r){var a=this._southWest,f=this._northEast,m=Math.abs(a.lat-f.lat)*r,S=Math.abs(a.lng-f.lng)*r;return new Ke(new Be(a.lat-m,a.lng-S),new Be(f.lat+m,f.lng+S))},getCenter:function(){return new Be((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Be(this.getNorth(),this.getWest())},getSouthEast:function(){return new Be(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Be||"lat"in r?r=De(r):r=je(r);var a=this._southWest,f=this._northEast,m,S;return r instanceof Ke?(m=r.getSouthWest(),S=r.getNorthEast()):m=S=r,m.lat>=a.lat&&S.lat<=f.lat&&m.lng>=a.lng&&S.lng<=f.lng},intersects:function(r){r=je(r);var a=this._southWest,f=this._northEast,m=r.getSouthWest(),S=r.getNorthEast(),R=S.lat>=a.lat&&m.lat<=f.lat,q=S.lng>=a.lng&&m.lng<=f.lng;return R&&q},overlaps:function(r){r=je(r);var a=this._southWest,f=this._northEast,m=r.getSouthWest(),S=r.getNorthEast(),R=S.lat>a.lat&&m.lat<f.lat,q=S.lng>a.lng&&m.lng<f.lng;return R&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=je(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function je(r,a){return r instanceof Ke?r:new Ke(r,a)}function Be(r,a,f){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,f!==void 0&&(this.alt=+f)}Be.prototype={equals:function(r,a){if(!r)return!1;r=De(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+b(this.lat,r)+", "+b(this.lng,r)+")"},distanceTo:function(r){return ht.distance(this,De(r))},wrap:function(){return ht.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,f=a/Math.cos(Math.PI/180*this.lat);return je([this.lat-a,this.lng-f],[this.lat+a,this.lng+f])},clone:function(){return new Be(this.lat,this.lng,this.alt)}};function De(r,a,f){return r instanceof Be?r:xe(r)&&typeof r[0]!="object"?r.length===3?new Be(r[0],r[1],r[2]):r.length===2?new Be(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Be(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new Be(r,a,f)}var dt={latLngToPoint:function(r,a){var f=this.projection.project(r),m=this.scale(a);return this.transformation._transform(f,m)},pointToLatLng:function(r,a){var f=this.scale(a),m=this.transformation.untransform(r,f);return this.projection.unproject(m)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,f=this.scale(r),m=this.transformation.transform(a.min,f),S=this.transformation.transform(a.max,f);return new Q(m,S)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?A(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?A(r.lat,this.wrapLat,!0):r.lat,m=r.alt;return new Be(f,a,m)},wrapLatLngBounds:function(r){var a=r.getCenter(),f=this.wrapLatLng(a),m=a.lat-f.lat,S=a.lng-f.lng;if(m===0&&S===0)return r;var R=r.getSouthWest(),q=r.getNorthEast(),oe=new Be(R.lat-m,R.lng-S),ce=new Be(q.lat-m,q.lng-S);return new Ke(oe,ce)}},ht=l({},dt,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var f=Math.PI/180,m=r.lat*f,S=a.lat*f,R=Math.sin((a.lat-r.lat)*f/2),q=Math.sin((a.lng-r.lng)*f/2),oe=R*R+Math.cos(m)*Math.cos(S)*q*q,ce=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*ce}}),_t=6378137,qt={R:_t,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,f=this.MAX_LATITUDE,m=Math.max(Math.min(f,r.lat),-f),S=Math.sin(m*a);return new _e(this.R*r.lng*a,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(r){var a=180/Math.PI;return new Be((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:(function(){var r=_t*Math.PI;return new Q([-r,-r],[r,r])})()};function vn(r,a,f,m){if(xe(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=f,this._d=m}vn.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new _e((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function gr(r,a,f,m){return new vn(r,a,f,m)}var Ut=l({},ht,{code:"EPSG:3857",projection:qt,transformation:(function(){var r=.5/(Math.PI*qt.R);return gr(r,.5,-r,.5)})()}),qn=l({},Ut,{code:"EPSG:900913"});function Wi(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Mr(r,a){var f="",m,S,R,q,oe,ce;for(m=0,R=r.length;m<R;m++){for(oe=r[m],S=0,q=oe.length;S<q;S++)ce=oe[S],f+=(S?"L":"M")+ce.x+" "+ce.y;f+=a?be.svg?"z":"x":""}return f||"M0 0"}var qr=document.documentElement.style,_r="ActiveXObject"in window,jt=_r&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),On=Yt("webkit"),$n=Yt("android"),tn=Yt("android 2")||Yt("android 3"),ho=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$r=$n&&Yt("Google")&&ho<537&&!("AudioNode"in window),ai=!!window.opera,li=!Bt&&Yt("chrome"),tr=Yt("gecko")&&!On&&!ai&&!_r,fo=!li&&Yt("safari"),Zr=Yt("phantom"),Gr="OTransition"in qr,qi=navigator.platform.indexOf("Win")===0,nr=_r&&"transition"in qr,ui="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tn,$i="MozPerspective"in qr,yr=!window.L_DISABLE_3D&&(nr||ui||$i)&&!Gr&&!Zr,Nr=typeof orientation<"u"||Yt("mobile"),ci=Nr&&On,wn=Nr&&ui,rr=!window.PointerEvent&&window.MSPointerEvent,Zn=!!(window.PointerEvent||rr),tt="ontouchstart"in window||!!window.TouchEvent,Kr=!window.L_NO_TOUCH&&(tt||Zn),vr=Nr&&ai,ir=Nr&&tr,wr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ii=(function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",M,a),window.removeEventListener("testPassiveEventSupport",M,a)}catch{}return r})(),dn=(function(){return!!document.createElement("canvas").getContext})(),ki=!!(document.createElementNS&&Wi("svg").createSVGRect),Qr=!!ki&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Dr=!ki&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}})(),Xr=navigator.platform.indexOf("Mac")===0,po=navigator.platform.indexOf("Linux")===0;function Yt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var be={ie:_r,ielt9:jt,edge:Bt,webkit:On,android:$n,android23:tn,androidStock:$r,opera:ai,chrome:li,gecko:tr,safari:fo,phantom:Zr,opera12:Gr,win:qi,ie3d:nr,webkit3d:ui,gecko3d:$i,any3d:yr,mobile:Nr,mobileWebkit:ci,mobileWebkit3d:wn,msPointer:rr,pointer:Zn,touch:Kr,touchNative:tt,mobileOpera:vr,mobileGecko:ir,retina:wr,passiveEvents:Ii,canvas:dn,svg:ki,vml:Dr,inlineSvg:Qr,mac:Xr,linux:po},Ai=be.msPointer?"MSPointerDown":"pointerdown",pn=be.msPointer?"MSPointerMove":"pointermove",Zi=be.msPointer?"MSPointerUp":"pointerup",hi=be.msPointer?"MSPointerCancel":"pointercancel",Yr={touchstart:Ai,touchmove:pn,touchend:Zi,touchcancel:hi},or={touchstart:Ot,touchmove:Gn,touchend:Gn,touchcancel:Gn},Vn={},mo=!1;function Gi(r,a,f){return a==="touchstart"&&pi(),or[a]?(f=or[a].bind(this,f),r.addEventListener(Yr[a],f,!1),f):(console.warn("wrong event specified:",a),M)}function Ri(r,a,f){if(!Yr[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(Yr[a],f,!1)}function Er(r){Vn[r.pointerId]=r}function fi(r){Vn[r.pointerId]&&(Vn[r.pointerId]=r)}function di(r){delete Vn[r.pointerId]}function pi(){mo||(document.addEventListener(Ai,Er,!0),document.addEventListener(pn,fi,!0),document.addEventListener(Zi,di,!0),document.addEventListener(hi,di,!0),mo=!0)}function Gn(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var f in Vn)a.touches.push(Vn[f]);a.changedTouches=[a],r(a)}}function Ot(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ft(a),Gn(r,a)}function En(r){var a={},f,m;for(m in r)f=r[m],a[m]=f&&f.bind?f.bind(r):f;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Li=200;function Mi(r,a){r.addEventListener("dblclick",a);var f=0,m;function S(R){if(R.detail!==1){m=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var q=lr(R);if(!(q.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!q.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var oe=Date.now();oe-f<=Li?(m++,m===2&&a(En(R))):m=1,f=oe}}}return r.addEventListener("click",S),{dblclick:a,simDblclick:S}}function Jr(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var mi=ae(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tn=ae(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Kn=Tn==="webkitTransition"||Tn==="OTransition"?Tn+"End":"transitionend";function Sn(r){return typeof r=="string"?document.getElementById(r):r}function sr(r,a){var f=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!f||f==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(r,null);f=m?m[a]:null}return f==="auto"?null:f}function nt(r,a,f){var m=document.createElement(r);return m.className=a||"",f&&f.appendChild(m),m}function wt(r){var a=r.parentNode;a&&a.removeChild(r)}function sn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function bn(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function nn(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Tr(r,a){if(r.classList!==void 0)return r.classList.contains(a);var f=I(r);return f.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(f)}function Oe(r,a){if(r.classList!==void 0)for(var f=J(a),m=0,S=f.length;m<S;m++)r.classList.add(f[m]);else if(!Tr(r,a)){var R=I(r);y(r,(R?R+" ":"")+a)}}function xt(r,a){r.classList!==void 0?r.classList.remove(a):y(r,$((" "+I(r)+" ").replace(" "+a+" "," ")))}function y(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function I(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function D(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&F(r,a)}function F(r,a){var f=!1,m="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(m)}catch{if(a===1)return}a=Math.round(a*100),f?(f.Enabled=a!==100,f.Opacity=a):r.style.filter+=" progid:"+m+"(opacity="+a+")"}function ae(r){for(var a=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in a)return r[f];return!1}function ee(r,a,f){var m=a||new _e(0,0);r.style[mi]=(be.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(f?" scale("+f+")":"")}function he(r,a){r._leaflet_pos=a,be.any3d?ee(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Ce(r){return r._leaflet_pos||new _e(0,0)}var Re,Ze,ot;if("onselectstart"in document)Re=function(){Je(window,"selectstart",Ft)},Ze=function(){Vt(window,"selectstart",Ft)};else{var Pt=ae(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Re=function(){if(Pt){var r=document.documentElement.style;ot=r[Pt],r[Pt]="none"}},Ze=function(){Pt&&(document.documentElement.style[Pt]=ot,ot=void 0)}}function xn(){Je(window,"dragstart",Ft)}function Pn(){Vt(window,"dragstart",Ft)}var rn,mn;function Fn(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Cn(),rn=r,mn=r.style.outlineStyle,r.style.outlineStyle="none",Je(window,"keydown",Cn))}function Cn(){rn&&(rn.style.outlineStyle=mn,rn=void 0,mn=void 0,Vt(window,"keydown",Cn))}function In(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Zt(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var ar={__proto__:null,TRANSFORM:mi,TRANSITION:Tn,TRANSITION_END:Kn,get:Sn,getStyle:sr,create:nt,remove:wt,empty:sn,toFront:bn,toBack:nn,hasClass:Tr,addClass:Oe,removeClass:xt,setClass:y,getClass:I,setOpacity:D,testProp:ae,setTransform:ee,setPosition:he,getPosition:Ce,get disableTextSelection(){return Re},get enableTextSelection(){return Ze},disableImageDrag:xn,enableImageDrag:Pn,preventOutline:Fn,restoreOutline:Cn,getSizedParentNode:In,getScale:Zt};function Je(r,a,f,m){if(a&&typeof a=="object")for(var S in a)Ao(r,S,a[S],f);else{a=J(a);for(var R=0,q=a.length;R<q;R++)Ao(r,a[R],f,m)}return this}var Gt="_leaflet_events";function Vt(r,a,f,m){if(arguments.length===1)Ni(r),delete r[Gt];else if(a&&typeof a=="object")for(var S in a)zn(r,S,a[S],f);else if(a=J(a),arguments.length===2)Ni(r,function(oe){return Ne(a,oe)!==-1});else for(var R=0,q=a.length;R<q;R++)zn(r,a[R],f,m);return this}function Ni(r,a){for(var f in r[Gt]){var m=f.split(/\d/)[0];(!a||a(m))&&zn(r,m,null,null,f)}}var Sr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ao(r,a,f,m){var S=a+T(f)+(m?"_"+T(m):"");if(r[Gt]&&r[Gt][S])return this;var R=function(oe){return f.call(m||r,oe||window.event)},q=R;!be.touchNative&&be.pointer&&a.indexOf("touch")===0?R=Gi(r,a,R):be.touch&&a==="dblclick"?R=Mi(r,R):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Sr[a]||a,R,be.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(R=function(oe){oe=oe||window.event,Ki(r,oe)&&q(oe)},r.addEventListener(Sr[a],R,!1)):r.addEventListener(a,q,!1):r.attachEvent("on"+a,R),r[Gt]=r[Gt]||{},r[Gt][S]=R}function zn(r,a,f,m,S){S=S||a+T(f)+(m?"_"+T(m):"");var R=r[Gt]&&r[Gt][S];if(!R)return this;!be.touchNative&&be.pointer&&a.indexOf("touch")===0?Ri(r,a,R):be.touch&&a==="dblclick"?Jr(r,R):"removeEventListener"in r?r.removeEventListener(Sr[a]||a,R,!1):r.detachEvent("on"+a,R),r[Gt][S]=null}function Et(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Di(r){return Ao(r,"wheel",Et),this}function It(r){return Je(r,"mousedown touchstart dblclick contextmenu",Et),r._leaflet_disable_click=!0,this}function Ft(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function kn(r){return Ft(r),Et(r),this}function lr(r){if(r.composedPath)return r.composedPath();for(var a=[],f=r.target;f;)a.push(f),f=f.parentNode;return a}function An(r,a){if(!a)return new _e(r.clientX,r.clientY);var f=Zt(a),m=f.boundingClientRect;return new _e((r.clientX-m.left)/f.x-a.clientLeft,(r.clientY-m.top)/f.y-a.clientTop)}var xr=be.linux&&be.chrome?window.devicePixelRatio:be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ei(r){return be.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/xr:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ki(r,a){var f=a.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Or={__proto__:null,on:Je,off:Vt,stopPropagation:Et,disableScrollPropagation:Di,disableClickPropagation:It,preventDefault:Ft,stop:kn,getPropagationPath:lr,getMousePosition:An,getWheelDelta:ei,isExternalTarget:Ki,addListener:Je,removeListener:Vt},Oi=Mt.extend({run:function(r,a,f,m){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Ce(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,f=this._duration*1e3;a<f?this._runFrame(this._easeOut(a/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var f=this._startPos.add(this._offset.multiplyBy(r));a&&f._round(),he(this._el,f),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),mt=Mt.extend({options:{crs:Ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=re(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(De(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tn&&be.any3d&&!be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Je(this._proxy,Kn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,f){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(De(r),a,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=l({animate:f.animate},f.zoom),f.pan=l({animate:f.animate,duration:f.duration},f.pan));var m=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,f.zoom):this._tryAnimatedPan(r,f.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,f){var m=this.getZoomScale(a),S=this.getSize().divideBy(2),R=r instanceof _e?r:this.latLngToContainerPoint(r),q=R.subtract(S).multiplyBy(1-1/m),oe=this.containerPointToLatLng(S.add(q));return this.setView(oe,a,{zoom:f})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():je(r);var f=ve(a.paddingTopLeft||a.padding||[0,0]),m=ve(a.paddingBottomRight||a.padding||[0,0]),S=this.getBoundsZoom(r,!1,f.add(m));if(S=typeof a.maxZoom=="number"?Math.min(a.maxZoom,S):S,S===1/0)return{center:r.getCenter(),zoom:S};var R=m.subtract(f).divideBy(2),q=this.project(r.getSouthWest(),S),oe=this.project(r.getNorthEast(),S),ce=this.unproject(q.add(oe).divideBy(2).add(R),S);return{center:ce,zoom:S}},fitBounds:function(r,a){if(r=je(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,a);return this.setView(f.center,f.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=ve(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Oi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Oe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,f){if(f=f||{},f.animate===!1||!be.any3d)return this.setView(r,a,f);this._stop();var m=this.project(this.getCenter()),S=this.project(r),R=this.getSize(),q=this._zoom;r=De(r),a=a===void 0?q:a;var oe=Math.max(R.x,R.y),ce=oe*this.getZoomScale(q,a),Te=S.distanceTo(m)||1,Ve=1.42,it=Ve*Ve;function yt(Ht){var Ts=Ht?-1:1,wh=Ht?ce:oe,Eh=ce*ce-oe*oe+Ts*it*it*Te*Te,Zo=2*wh*it*Te,Go=Eh/Zo,Ko=Math.sqrt(Go*Go+1)-Go,Ra=Ko<1e-9?-18:Math.log(Ko);return Ra}function Xn(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function Bn(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}function ii(Ht){return Xn(Ht)/Bn(Ht)}var br=yt(0);function ws(Ht){return oe*(Bn(br)/Bn(br+Ve*Ht))}function Pl(Ht){return oe*(Bn(br)*ii(br+Ve*Ht)-Xn(br))/it}function Oo(Ht){return 1-Math.pow(1-Ht,1.5)}var Iu=Date.now(),$o=(yt(1)-br)/Ve,no=f.duration?1e3*f.duration:1e3*$o*.8;function Es(){var Ht=(Date.now()-Iu)/no,Ts=Oo(Ht)*$o;Ht<=1?(this._flyToFrame=W(Es,this),this._move(this.unproject(m.add(S.subtract(m).multiplyBy(Pl(Ts)/Te)),q),this.getScaleZoom(oe/ws(Ts),q),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Es.call(this),this},flyToBounds:function(r,a){var f=this._getBoundsCenterZoom(r,a);return this.flyTo(f.center,f.zoom,a)},setMaxBounds:function(r){return r=je(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var f=this.getCenter(),m=this._limitCenter(f,this._zoom,je(r));return f.equals(m)||this.panTo(m,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var f=ve(a.paddingTopLeft||a.padding||[0,0]),m=ve(a.paddingBottomRight||a.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(r),q=this.getPixelBounds(),oe=ye([q.min.add(f),q.max.subtract(m)]),ce=oe.getSize();if(!oe.contains(R)){this._enforcingBounds=!0;var Te=R.subtract(oe.getCenter()),Ve=oe.extend(R).getSize().subtract(ce);S.x+=Te.x<0?-Ve.x:Ve.x,S.y+=Te.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(S),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),m=a.divideBy(2).round(),S=f.divideBy(2).round(),R=m.subtract(S);return!R.x&&!R.y?this:(r.animate&&r.pan?this.panBy(R):(r.pan&&this._rawPanBy(R),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=p(this._handleGeolocationResponse,this),f=p(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,f,r):navigator.geolocation.getCurrentPosition(a,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,f=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,f=r.coords.longitude,m=new Be(a,f),S=m.toBounds(r.coords.accuracy*2),R=this._locateOptions;if(R.setView){var q=this.getBoundsZoom(S);this.setView(m,R.maxZoom?Math.min(q,R.maxZoom):q)}var oe={latlng:m,bounds:S,timestamp:r.timestamp};for(var ce in r.coords)typeof r.coords[ce]=="number"&&(oe[ce]=r.coords[ce]);this.fire("locationfound",oe)}},addHandler:function(r,a){if(!a)return this;var f=this[r]=new a(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)wt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),m=nt("div",f,a||this._mapPane);return r&&(this._panes[r]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new Ke(a,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,f){r=je(r),f=ve(f||[0,0]);var m=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),q=r.getNorthWest(),oe=r.getSouthEast(),ce=this.getSize().subtract(f),Te=ye(this.project(oe,m),this.project(q,m)).getSize(),Ve=be.any3d?this.options.zoomSnap:1,it=ce.x/Te.x,yt=ce.y/Te.y,Xn=a?Math.max(it,yt):Math.min(it,yt);return m=this.getScaleZoom(Xn,m),Ve&&(m=Math.round(m/(Ve/100))*(Ve/100),m=a?Math.ceil(m/Ve)*Ve:Math.floor(m/Ve)*Ve),Math.max(S,Math.min(R,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _e(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var f=this._getTopLeftPoint(r,a);return new Q(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var f=this.options.crs;return a=a===void 0?this._zoom:a,f.scale(r)/f.scale(a)},getScaleZoom:function(r,a){var f=this.options.crs;a=a===void 0?this._zoom:a;var m=f.zoom(r*f.scale(a));return isNaN(m)?1/0:m},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(De(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(ve(r),a)},layerPointToLatLng:function(r){var a=ve(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(De(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(De(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(je(r))},distance:function(r,a){return this.options.crs.distance(De(r),De(a))},containerPointToLayerPoint:function(r){return ve(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return ve(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(ve(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(De(r)))},mouseEventToContainerPoint:function(r){return An(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=Sn(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Je(a,"scroll",this._onScroll,this),this._containerId=T(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&be.any3d,Oe(r,"leaflet-container"+(be.touch?" leaflet-touch":"")+(be.retina?" leaflet-retina":"")+(be.ielt9?" leaflet-oldie":"")+(be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=sr(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),he(this._mapPane,new _e(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(r.markerPane,"leaflet-zoom-hide"),Oe(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,f){he(this._mapPane,new _e(0,0));var m=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var S=this._zoom!==a;this._moveStart(S,f)._move(r,a)._moveEnd(S),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,f,m){a===void 0&&(a=this._zoom);var S=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),m?f&&f.pinch&&this.fire("zoom",f):((S||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){he(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[T(this._container)]=this;var a=r?Vt:Je;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),be.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var f=[],m,S=a==="mouseout"||a==="mouseover",R=r.target||r.srcElement,q=!1;R;){if(m=this._targets[T(R)],m&&(a==="click"||a==="preclick")&&this._draggableMoved(m)){q=!0;break}if(m&&m.listens(a,!0)&&(S&&!Ki(R,r)||(f.push(m),S))||R===this._container)break;R=R.parentNode}return!f.length&&!q&&!S&&this.listens(a,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var f=r.type;f==="mousedown"&&Fn(a),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,f){if(r.type==="click"){var m=l({},r);m.type="preclick",this._fireDOMEvent(m,m.type,f)}var S=this._findEventTargets(r,a);if(f){for(var R=[],q=0;q<f.length;q++)f[q].listens(a,!0)&&R.push(f[q]);S=R.concat(S)}if(S.length){a==="contextmenu"&&Ft(r);var oe=S[0],ce={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Te=oe.getLatLng&&(!oe._radius||oe._radius<=10);ce.containerPoint=Te?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(r),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=Te?oe.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(a,ce,!0),ce.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&Ne(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Ce(this._mapPane)||new _e(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var f=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var f=this.getSize()._divideBy(2);return this.project(r,a)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,f){var m=this._getNewPixelOrigin(f,a);return this.project(r,a)._subtract(m)},_latLngBoundsToNewLayerBounds:function(r,a,f){var m=this._getNewPixelOrigin(f,a);return ye([this.project(r.getSouthWest(),a)._subtract(m),this.project(r.getNorthWest(),a)._subtract(m),this.project(r.getSouthEast(),a)._subtract(m),this.project(r.getNorthEast(),a)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,f){if(!f)return r;var m=this.project(r,a),S=this.getSize().divideBy(2),R=new Q(m.subtract(S),m.add(S)),q=this._getBoundsOffset(R,f,a);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(m.add(q),a)},_limitOffset:function(r,a){if(!a)return r;var f=this.getPixelBounds(),m=new Q(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(m,a))},_getBoundsOffset:function(r,a,f){var m=ye(this.project(a.getNorthEast(),f),this.project(a.getSouthWest(),f)),S=m.min.subtract(r.min),R=m.max.subtract(r.max),q=this._rebound(S.x,-R.x),oe=this._rebound(S.y,-R.y);return new _e(q,oe)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),f=this.getMaxZoom(),m=be.any3d?this.options.zoomSnap:1;return m&&(r=Math.round(r/m)*m),Math.max(a,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var f=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,a),!0)},_createAnimProxy:function(){var r=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var f=mi,m=this._proxy.style[f];ee(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),m===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();ee(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(a),S=this._getCenterOffset(r)._divideBy(1-1/m);return f.animate!==!0&&!this.getSize().contains(S)?!1:(W(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,f,m){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ur(r,a){return new mt(r,a)}var Rn=vt.extend({options:{position:"topright"},initialize:function(r){re(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),f=this.getPosition(),m=r._controlCorners[f];return Oe(a,"leaflet-control"),f.indexOf("bottom")!==-1?m.insertBefore(a,m.firstChild):m.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Pr=function(r){return new Rn(r)};mt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",f=this._controlContainer=nt("div",a+"control-container",this._container);function m(S,R){var q=a+S+" "+a+R;r[S+R]=nt("div",q,f)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)wt(this._controlCorners[r]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wo=Rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,f,m){return f<m?-1:m<f?1:0}},initialize:function(r,a,f){re(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in r)this._addLayer(r[m],m);for(m in a)this._addLayer(a[m],m,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Rn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(T(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=nt("div",r),f=this.options.collapsed;a.setAttribute("aria-haspopup",!0),It(a),Di(a);var m=this._section=nt("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Je(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=nt("a",r+"-toggle",a);S.href="#",S.title="Layers",S.setAttribute("role","button"),Je(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Ft(R),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=nt("div",r+"-base",m),this._separator=nt("div",r+"-separator",m),this._overlaysList=nt("div",r+"-overlays",m),a.appendChild(m)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&T(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:f}),this.options.sortLayers&&this._layers.sort(p(function(m,S){return this.options.sortFunction(m.layer,S.layer,m.name,S.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sn(this._baseLayersList),sn(this._overlaysList),this._layerControlInputs=[];var r,a,f,m,S=0;for(f=0;f<this._layers.length;f++)m=this._layers[f],this._addItem(m),a=a||m.overlay,r=r||!m.overlay,S+=m.overlay?0:1;return this.options.hideSingleBase&&(r=r&&S>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(T(r.target)),f=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,a)},_createRadioElement:function(r,a){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=f,m.firstChild},_addItem:function(r){var a=document.createElement("label"),f=this._map.hasLayer(r.layer),m;r.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=f):m=this._createRadioElement("leaflet-base-layers_"+T(this),f),this._layerControlInputs.push(m),m.layerId=T(r.layer),Je(m,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+r.name;var R=document.createElement("span");a.appendChild(R),R.appendChild(m),R.appendChild(S);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,f,m=[],S=[];this._handlingClick=!0;for(var R=r.length-1;R>=0;R--)a=r[R],f=this._getLayer(a.layerId).layer,a.checked?m.push(f):a.checked||S.push(f);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<m.length;R++)this._map.hasLayer(m[R])||this._map.addLayer(m[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,f,m=this._map.getZoom(),S=r.length-1;S>=0;S--)a=r[S],f=this._getLayer(a.layerId).layer,a.disabled=f.options.minZoom!==void 0&&m<f.options.minZoom||f.options.maxZoom!==void 0&&m>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Je(r,"click",Ft),this.expand();var a=this;setTimeout(function(){Vt(r,"click",Ft),a._preventClick=!1})}}),gi=function(r,a,f){return new Wo(r,a,f)},Cr=Rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",f=nt("div",a+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,a+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,a+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,f,m,S){var R=nt("a",f,m);return R.innerHTML=r,R.href="#",R.title=a,R.setAttribute("role","button"),R.setAttribute("aria-label",a),It(R),Je(R,"click",kn),Je(R,"click",S,this),Je(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";xt(this._zoomInButton,a),xt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Oe(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Oe(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});mt.mergeOptions({zoomControl:!0}),mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cr,this.addControl(this.zoomControl))});var Qi=function(r){return new Cr(r)},an=Rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",f=nt("div",a),m=this.options;return this._addScales(m,a+"-line",f),r.on(m.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,f){r.metric&&(this._mScale=nt("div",a,f)),r.imperial&&(this._iScale=nt("div",a,f))},_update:function(){var r=this._map,a=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),f=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,f,a/r)},_updateImperial:function(r){var a=r*3.2808399,f,m,S;a>5280?(f=a/5280,m=this._getRoundNum(f),this._updateScale(this._iScale,m+" mi",m/f)):(S=this._getRoundNum(a),this._updateScale(this._iScale,S+" ft",S/a))},_updateScale:function(r,a,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),f=r/a;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,a*f}}),_i=function(r){return new an(r)},ti='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yi=Rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(be.inlineSvg?ti+" ":"")+"Leaflet</a>"},initialize:function(r){re(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),It(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});mt.mergeOptions({attributionControl:!0}),mt.addInitHook(function(){this.options.attributionControl&&new yi().addTo(this)});var Xi=function(r){return new yi(r)};Rn.Layers=Wo,Rn.Zoom=Cr,Rn.Scale=an,Rn.Attribution=yi,Pr.layers=gi,Pr.zoom=Qi,Pr.scale=_i,Pr.attribution=Xi;var gn=vt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(r,a){return r.addHandler(a,this),this};var vi={Events:Lt},Ln=be.touch?"touchstart mousedown":"mousedown",Qn=Mt.extend({options:{clickTolerance:3},initialize:function(r,a,f,m){re(this,m),this._element=r,this._dragStartTarget=a||r,this._preventOutline=f},enable:function(){this._enabled||(Je(this._dragStartTarget,Ln,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qn._dragging===this&&this.finishDrag(!0),Vt(this._dragStartTarget,Ln,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Tr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Qn._dragging===this&&this.finishDrag();return}if(!(Qn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Qn._dragging=this,this._preventOutline&&Fn(this._element),xn(),Re(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,f=In(this._element);this._startPoint=new _e(a.clientX,a.clientY),this._startPos=Ce(this._element),this._parentScale=Zt(f);var m=r.type==="mousedown";Je(document,m?"mousemove":"touchmove",this._onMove,this),Je(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,f=new _e(a.clientX,a.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ft(r),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),he(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vt(document,"mousemove touchmove",this._onMove,this),Vt(document,"mouseup touchend touchcancel",this._onUp,this),Pn(),Ze();var a=this._moved&&this._moving;this._moving=!1,Qn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function go(r,a,f){var m,S=[1,4,2,8],R,q,oe,ce,Te,Ve,it,yt;for(R=0,Ve=r.length;R<Ve;R++)r[R]._code=ue(r[R],a);for(oe=0;oe<4;oe++){for(it=S[oe],m=[],R=0,Ve=r.length,q=Ve-1;R<Ve;q=R++)ce=r[R],Te=r[q],ce._code&it?Te._code&it||(yt=te(Te,ce,it,a,f),yt._code=ue(yt,a),m.push(yt)):(Te._code&it&&(yt=te(Te,ce,it,a,f),yt._code=ue(yt,a),m.push(yt)),m.push(ce));r=m}return r}function Ro(r,a){var f,m,S,R,q,oe,ce,Te,Ve;if(!r||r.length===0)throw new Error("latlngs not passed");Tt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var it=De([0,0]),yt=je(r),Xn=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());Xn<1700&&(it=Yi(r));var Bn=r.length,ii=[];for(f=0;f<Bn;f++){var br=De(r[f]);ii.push(a.project(De([br.lat-it.lat,br.lng-it.lng])))}for(oe=ce=Te=0,f=0,m=Bn-1;f<Bn;m=f++)S=ii[f],R=ii[m],q=S.y*R.x-R.y*S.x,ce+=(S.x+R.x)*q,Te+=(S.y+R.y)*q,oe+=q*3;oe===0?Ve=ii[0]:Ve=[ce/oe,Te/oe];var ws=a.unproject(ve(Ve));return De([ws.lat+it.lat,ws.lng+it.lng])}function Yi(r){for(var a=0,f=0,m=0,S=0;S<r.length;S++){var R=De(r[S]);a+=R.lat,f+=R.lng,m++}return De([a/m,f/m])}var _n={__proto__:null,clipPolygon:go,polygonCenter:Ro,centroid:Yi};function ln(r,a){if(!a||!r.length)return r.slice();var f=a*a;return r=v(r,f),r=Vi(r,f),r}function _o(r,a,f){return Math.sqrt(rt(r,a,f,!0))}function cs(r,a,f){return rt(r,a,f)}function Vi(r,a){var f=r.length,m=typeof Uint8Array<"u"?Uint8Array:Array,S=new m(f);S[0]=S[f-1]=1,h(r,S,a,0,f-1);var R,q=[];for(R=0;R<f;R++)S[R]&&q.push(r[R]);return q}function h(r,a,f,m,S){var R=0,q,oe,ce;for(oe=m+1;oe<=S-1;oe++)ce=rt(r[oe],r[m],r[S],!0),ce>R&&(q=oe,R=ce);R>f&&(a[q]=1,h(r,a,f,m,q),h(r,a,f,q,S))}function v(r,a){for(var f=[r[0]],m=1,S=0,R=r.length;m<R;m++)Me(r[m],r[S])>a&&(f.push(r[m]),S=m);return S<R-1&&f.push(r[R-1]),f}var P;function O(r,a,f,m,S){var R=m?P:ue(r,f),q=ue(a,f),oe,ce,Te;for(P=q;;){if(!(R|q))return[r,a];if(R&q)return!1;oe=R||q,ce=te(r,a,oe,f,S),Te=ue(ce,f),oe===R?(r=ce,R=Te):(a=ce,q=Te)}}function te(r,a,f,m,S){var R=a.x-r.x,q=a.y-r.y,oe=m.min,ce=m.max,Te,Ve;return f&8?(Te=r.x+R*(ce.y-r.y)/q,Ve=ce.y):f&4?(Te=r.x+R*(oe.y-r.y)/q,Ve=oe.y):f&2?(Te=ce.x,Ve=r.y+q*(ce.x-r.x)/R):f&1&&(Te=oe.x,Ve=r.y+q*(oe.x-r.x)/R),new _e(Te,Ve,S)}function ue(r,a){var f=0;return r.x<a.min.x?f|=1:r.x>a.max.x&&(f|=2),r.y<a.min.y?f|=4:r.y>a.max.y&&(f|=8),f}function Me(r,a){var f=a.x-r.x,m=a.y-r.y;return f*f+m*m}function rt(r,a,f,m){var S=a.x,R=a.y,q=f.x-S,oe=f.y-R,ce=q*q+oe*oe,Te;return ce>0&&(Te=((r.x-S)*q+(r.y-R)*oe)/ce,Te>1?(S=f.x,R=f.y):Te>0&&(S+=q*Te,R+=oe*Te)),q=r.x-S,oe=r.y-R,m?q*q+oe*oe:new _e(S,R)}function Tt(r){return!xe(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Rt(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tt(r)}function _(r,a){var f,m,S,R,q,oe,ce,Te;if(!r||r.length===0)throw new Error("latlngs not passed");Tt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ve=De([0,0]),it=je(r),yt=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());yt<1700&&(Ve=Yi(r));var Xn=r.length,Bn=[];for(f=0;f<Xn;f++){var ii=De(r[f]);Bn.push(a.project(De([ii.lat-Ve.lat,ii.lng-Ve.lng])))}for(f=0,m=0;f<Xn-1;f++)m+=Bn[f].distanceTo(Bn[f+1])/2;if(m===0)Te=Bn[0];else for(f=0,R=0;f<Xn-1;f++)if(q=Bn[f],oe=Bn[f+1],S=q.distanceTo(oe),R+=S,R>m){ce=(R-m)/S,Te=[oe.x-ce*(oe.x-q.x),oe.y-ce*(oe.y-q.y)];break}var br=a.unproject(ve(Te));return De([br.lat+Ve.lat,br.lng+Ve.lng])}var C={__proto__:null,simplify:ln,pointToSegmentDistance:_o,closestPointOnSegment:cs,clipSegment:O,_getEdgeIntersection:te,_getBitCode:ue,_sqClosestPointOnSegment:rt,isFlat:Tt,_flat:Rt,polylineCenter:_},N={project:function(r){return new _e(r.lng,r.lat)},unproject:function(r){return new Be(r.y,r.x)},bounds:new Q([-180,-90],[180,90])},V={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,f=this.R,m=r.lat*a,S=this.R_MINOR/f,R=Math.sqrt(1-S*S),q=R*Math.sin(m),oe=Math.tan(Math.PI/4-m/2)/Math.pow((1-q)/(1+q),R/2);return m=-f*Math.log(Math.max(oe,1e-10)),new _e(r.lng*a*f,m)},unproject:function(r){for(var a=180/Math.PI,f=this.R,m=this.R_MINOR/f,S=Math.sqrt(1-m*m),R=Math.exp(-r.y/f),q=Math.PI/2-2*Math.atan(R),oe=0,ce=.1,Te;oe<15&&Math.abs(ce)>1e-7;oe++)Te=S*Math.sin(q),Te=Math.pow((1-Te)/(1+Te),S/2),ce=Math.PI/2-2*Math.atan(R*Te)-q,q+=ce;return new Be(q*a,r.x*a/f)}},ie={__proto__:null,LonLat:N,Mercator:V,SphericalMercator:qt},ne=l({},ht,{code:"EPSG:3395",projection:V,transformation:(function(){var r=.5/(Math.PI*V.R);return gr(r,.5,-r,.5)})()}),ge=l({},ht,{code:"EPSG:4326",projection:N,transformation:gr(1/180,1,-1/180,.5)}),ke=l({},dt,{projection:N,transformation:gr(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var f=a.lng-r.lng,m=a.lat-r.lat;return Math.sqrt(f*f+m*m)},infinite:!0});dt.Earth=ht,dt.EPSG3395=ne,dt.EPSG3857=Ut,dt.EPSG900913=qn,dt.EPSG4326=ge,dt.Simple=ke;var Qe=Mt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[T(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[T(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var f=this.getEvents();a.on(f,this),this.once("remove",function(){a.off(f,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});mt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=T(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=T(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return T(r)in this._layers},eachLayer:function(r,a){for(var f in this._layers)r.call(a,this._layers[f]);return this},_addLayers:function(r){r=r?xe(r)?r:[r]:[];for(var a=0,f=r.length;a<f;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[T(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=T(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,f=this._getZoomSpan();for(var m in this._zoomBoundLayers){var S=this._zoomBoundLayers[m].options;r=S.minZoom===void 0?r:Math.min(r,S.minZoom),a=S.maxZoom===void 0?a:Math.max(a,S.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lt=Qe.extend({initialize:function(r,a){re(this,a),this._layers={};var f,m;if(r)for(f=0,m=r.length;f<m;f++)this.addLayer(r[f])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),f,m;for(f in this._layers)m=this._layers[f],m[r]&&m[r].apply(m,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var f in this._layers)r.call(a,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return T(r)}}),ut=function(r,a){return new lt(r,a)},Ct=lt.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),lt.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),lt.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ke;for(var a in this._layers){var f=this._layers[a];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),cr=function(r,a){return new Ct(r,a)},Mn=vt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){re(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(f,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(m,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(r,a){var f=this.options,m=f[a+"Size"];typeof m=="number"&&(m=[m,m]);var S=ve(m),R=ve(a==="shadow"&&f.shadowAnchor||f.iconAnchor||S&&S.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(f.className||""),R&&(r.style.marginLeft=-R.x+"px",r.style.marginTop=-R.y+"px"),S&&(r.style.width=S.x+"px",r.style.height=S.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return be.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Vr(r){return new Mn(r)}var bi=Mn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof bi.imagePath!="string"&&(bi.imagePath=this._detectIconPath()),(this.options.imagePath||bi.imagePath)+Mn.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(f,m,S){var R=m.exec(f);return R&&R[S]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=nt("div","leaflet-default-icon-path",document.body),a=sr(r,"background-image")||sr(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),hs=gn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Qn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,f=a._map,m=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=Ce(a._icon),q=f.getPixelBounds(),oe=f.getPixelOrigin(),ce=ye(q.min._subtract(oe).add(S),q.max._subtract(oe).subtract(S));if(!ce.contains(R)){var Te=ve((Math.max(ce.max.x,R.x)-ce.max.x)/(q.max.x-ce.max.x)-(Math.min(ce.min.x,R.x)-ce.min.x)/(q.min.x-ce.min.x),(Math.max(ce.max.y,R.y)-ce.max.y)/(q.max.y-ce.max.y)-(Math.min(ce.min.y,R.y)-ce.min.y)/(q.min.y-ce.min.y)).multiplyBy(m);f.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),he(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=W(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,f=a._shadow,m=Ce(a._icon),S=a._map.layerPointToLatLng(m);f&&he(f,m),a._latlng=S,r.latlng=S,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ni=Qe.extend({options:{icon:new bi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){re(this,a),this._latlng=De(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=De(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),m=!1;f!==this._icon&&(this._icon&&this._removeIcon(),m=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Oe(f,a),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Je(f,"focus",this._panOnFocus,this);var S=r.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(Oe(S,a),S.alt=""),this._shadow=S,r.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&he(this._icon,r),this._shadow&&he(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hs)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hs(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&D(this._icon,r),this._shadow&&D(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,f=a.iconSize?ve(a.iconSize):ve(0,0),m=a.iconAnchor?ve(a.iconAnchor):ve(0,0);r.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:f.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gh(r,a){return new ni(r,a)}var Lo=Qe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return re(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wa=Lo.extend({options:{fill:!0,radius:10},initialize:function(r,a){re(this,a),this._latlng=De(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=De(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Lo.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,f=this._clickTolerance(),m=[r+f,a+f];this._pxBounds=new Q(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _u(r,a){return new wa(r,a)}var Ea=wa.extend({initialize:function(r,a,f){if(typeof a=="number"&&(a=l({},f,{radius:a})),re(this,a),this._latlng=De(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ke(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Lo.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,f=this._map,m=f.options.crs;if(m.distance===ht.distance){var S=Math.PI/180,R=this._mRadius/ht.R/S,q=f.project([a+R,r]),oe=f.project([a-R,r]),ce=q.add(oe).divideBy(2),Te=f.unproject(ce).lat,Ve=Math.acos((Math.cos(R*S)-Math.sin(a*S)*Math.sin(Te*S))/(Math.cos(a*S)*Math.cos(Te*S)))/S;(isNaN(Ve)||Ve===0)&&(Ve=R/Math.cos(Math.PI/180*a)),this._point=ce.subtract(f.getPixelOrigin()),this._radius=isNaN(Ve)?0:ce.x-f.project([Te,r-Ve]).x,this._radiusY=ce.y-q.y}else{var it=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(it).x}this._updateBounds()}});function Gs(r,a,f){return new Ea(r,a,f)}var ri=Lo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){re(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,f=null,m=rt,S,R,q=0,oe=this._parts.length;q<oe;q++)for(var ce=this._parts[q],Te=1,Ve=ce.length;Te<Ve;Te++){S=ce[Te-1],R=ce[Te];var it=m(r,S,R,!0);it<a&&(a=it,f=m(r,S,R))}return f&&(f.distance=Math.sqrt(a)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=De(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ke,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],f=Tt(r),m=0,S=r.length;m<S;m++)f?(a[m]=De(r[m]),this._bounds.extend(a[m])):a[m]=this._convertLatLngs(r[m]);return a},_project:function(){var r=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new _e(r,r);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,f){var m=r[0]instanceof Be,S=r.length,R,q;if(m){for(q=[],R=0;R<S;R++)q[R]=this._map.latLngToLayerPoint(r[R]),f.extend(q[R]);a.push(q)}else for(R=0;R<S;R++)this._projectLatlngs(r[R],a,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,f,m,S,R,q,oe,ce;for(f=0,S=0,R=this._rings.length;f<R;f++)for(ce=this._rings[f],m=0,q=ce.length;m<q-1;m++)oe=O(ce[m],ce[m+1],r,m,!0),oe&&(a[S]=a[S]||[],a[S].push(oe[0]),(oe[1]!==ce[m+1]||m===q-2)&&(a[S].push(oe[1]),S++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,f=0,m=r.length;f<m;f++)r[f]=ln(r[f],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var f,m,S,R,q,oe,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,R=this._parts.length;f<R;f++)for(oe=this._parts[f],m=0,q=oe.length,S=q-1;m<q;S=m++)if(!(!a&&m===0)&&_o(r,oe[S],oe[m])<=ce)return!0;return!1}});function _h(r,a){return new ri(r,a)}ri._flat=Rt;var yo=ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ro(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=ri.prototype._convertLatLngs.call(this,r),f=a.length;return f>=2&&a[0]instanceof Be&&a[0].equals(a[f-1])&&a.pop(),a},_setLatLngs:function(r){ri.prototype._setLatLngs.call(this,r),Tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,f=new _e(a,a);if(r=new Q(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,S=this._rings.length,R;m<S;m++)R=go(this._rings[m],r,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,f,m,S,R,q,oe,ce,Te;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(R=0,ce=this._parts.length;R<ce;R++)for(f=this._parts[R],q=0,Te=f.length,oe=Te-1;q<Te;oe=q++)m=f[q],S=f[oe],m.y>r.y!=S.y>r.y&&r.x<(S.x-m.x)*(r.y-m.y)/(S.y-m.y)+m.x&&(a=!a);return a||ri.prototype._containsPoint.call(this,r,!0)}});function yh(r,a){return new yo(r,a)}var Ji=Ct.extend({initialize:function(r,a){re(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=xe(r)?r:r.features,f,m,S;if(a){for(f=0,m=a.length;f<m;f++)S=a[f],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(r))return this;var q=fs(r,R);return q?(q.feature=Ca(r),q.defaultOptions=q.options,this.resetStyle(q),R.onEachFeature&&R.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function fs(r,a){var f=r.type==="Feature"?r.geometry:r,m=f?f.coordinates:null,S=[],R=a&&a.pointToLayer,q=a&&a.coordsToLatLng||Sa,oe,ce,Te,Ve;if(!m&&!f)return null;switch(f.type){case"Point":return oe=q(m),Ta(R,r,oe,a);case"MultiPoint":for(Te=0,Ve=m.length;Te<Ve;Te++)oe=q(m[Te]),S.push(Ta(R,r,oe,a));return new Ct(S);case"LineString":case"MultiLineString":return ce=Ks(m,f.type==="LineString"?0:1,q),new ri(ce,a);case"Polygon":case"MultiPolygon":return ce=Ks(m,f.type==="Polygon"?1:2,q),new yo(ce,a);case"GeometryCollection":for(Te=0,Ve=f.geometries.length;Te<Ve;Te++){var it=fs({geometry:f.geometries[Te],type:"Feature",properties:r.properties},a);it&&S.push(it)}return new Ct(S);case"FeatureCollection":for(Te=0,Ve=f.features.length;Te<Ve;Te++){var yt=fs(f.features[Te],a);yt&&S.push(yt)}return new Ct(S);default:throw new Error("Invalid GeoJSON object.")}}function Ta(r,a,f,m){return r?r(a,f):new ni(f,m&&m.markersInheritOptions&&m)}function Sa(r){return new Be(r[1],r[0],r[2])}function Ks(r,a,f){for(var m=[],S=0,R=r.length,q;S<R;S++)q=a?Ks(r[S],a-1,f):(f||Sa)(r[S]),m.push(q);return m}function xa(r,a){return r=De(r),r.alt!==void 0?[b(r.lng,a),b(r.lat,a),b(r.alt,a)]:[b(r.lng,a),b(r.lat,a)]}function Pa(r,a,f,m){for(var S=[],R=0,q=r.length;R<q;R++)S.push(a?Pa(r[R],Tt(r[R])?0:a-1,f,m):xa(r[R],m));return!a&&f&&S.length>0&&S.push(S[0].slice()),S}function ds(r,a){return r.feature?l({},r.feature,{geometry:a}):Ca(a)}function Ca(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ml={toGeoJSON:function(r){return ds(this,{type:"Point",coordinates:xa(this.getLatLng(),r)})}};ni.include(ml),Ea.include(ml),wa.include(ml),ri.include({toGeoJSON:function(r){var a=!Tt(this._latlngs),f=Pa(this._latlngs,a?1:0,!1,r);return ds(this,{type:(a?"Multi":"")+"LineString",coordinates:f})}}),yo.include({toGeoJSON:function(r){var a=!Tt(this._latlngs),f=a&&!Tt(this._latlngs[0]),m=Pa(this._latlngs,f?2:a?1:0,!0,r);return a||(m=[m]),ds(this,{type:(f?"Multi":"")+"Polygon",coordinates:m})}}),lt.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(f){a.push(f.toGeoJSON(r).geometry.coordinates)}),ds(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var f=a==="GeometryCollection",m=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(r);if(f)m.push(R.geometry);else{var q=Ca(R);q.type==="FeatureCollection"?m.push.apply(m,q.features):m.push(q)}}}),f?ds(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function yu(r,a){return new Ji(r,a)}var Fi=yu,Mo=Qe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,f){this._url=r,this._bounds=je(a),re(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&bn(this._image),this},bringToBack:function(){return this._map&&nn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=je(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:nt("img");if(Oe(a,"leaflet-image-layer"),this._zoomAnimated&&Oe(a,"leaflet-zoom-animated"),this.options.className&&Oe(a,this.options.className),a.onselectstart=M,a.onmousemove=M,a.onload=p(this.fire,this,"load"),a.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ee(this._image,f,a)},_reset:function(){var r=this._image,a=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=a.getSize();he(r,a.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){D(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),vu=function(r,a,f){return new Mo(r,a,f)},gl=Mo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:nt("video");if(Oe(a,"leaflet-image-layer"),this._zoomAnimated&&Oe(a,"leaflet-zoom-animated"),this.options.className&&Oe(a,this.options.className),a.onselectstart=M,a.onmousemove=M,a.onloadeddata=p(this.fire,this,"load"),r){for(var f=a.getElementsByTagName("source"),m=[],S=0;S<f.length;S++)m.push(f[S].src);this._url=f.length>0?m:[a.src];return}xe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var q=nt("source");q.src=this._url[R],a.appendChild(q)}}});function wu(r,a,f){return new gl(r,a,f)}var _l=Mo.extend({_initImage:function(){var r=this._image=this._url;Oe(r,"leaflet-image-layer"),this._zoomAnimated&&Oe(r,"leaflet-zoom-animated"),this.options.className&&Oe(r,this.options.className),r.onselectstart=M,r.onmousemove=M}});function yl(r,a,f){return new _l(r,a,f)}var eo=Qe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof Be||xe(r))?(this._latlng=De(r),re(this,a)):(re(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&D(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&D(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(D(this._container,0),this._removeTimeout=setTimeout(p(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=De(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bn(this._container),this},bringToBack:function(){return this._map&&nn(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof Ct){a=null;var f=this._source._layers;for(var m in f)if(f[m]._map){a=f[m];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=ve(this.options.offset),f=this._getAnchor();this._zoomAnimated?he(this._container,r.add(f)):a=a.add(r).add(f);var m=this._containerBottom=-a.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=m+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});mt.include({_initOverlay:function(r,a,f,m){var S=a;return S instanceof r||(S=new r(m).setContent(a)),f&&S.setLatLng(f),S}}),Qe.include({_initOverlay:function(r,a,f,m){var S=f;return S instanceof r?(re(S,m),S._source=this):(S=a&&!m?a:new r(m,this),S.setContent(f)),S}});var Ia=eo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,eo.prototype.openOn.call(this,r)},onAdd:function(r){eo.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Lo||this._source.on("preclick",Et))},onRemove:function(r){eo.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Lo||this._source.off("preclick",Et))},getEvents:function(){var r=eo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=nt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=nt("div",r+"-content-wrapper",a);if(this._contentNode=nt("div",r+"-content",f),It(a),Di(this._contentNode),Je(a,"contextmenu",Et),this._tipContainer=nt("div",r+"-tip-container",a),this._tip=nt("div",r+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=nt("a",r+"-close-button",a);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Je(m,"click",function(S){Ft(S),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),a.width=f+1+"px",a.whiteSpace="",a.height="";var m=r.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&m>S?(a.height=S+"px",Oe(r,R)):xt(r,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();he(this._container,a.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(sr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+a,m=this._containerWidth,S=new _e(this._containerLeft,-f-this._containerBottom);S._add(Ce(this._container));var R=r.layerPointToContainerPoint(S),q=ve(this.options.autoPanPadding),oe=ve(this.options.autoPanPaddingTopLeft||q),ce=ve(this.options.autoPanPaddingBottomRight||q),Te=r.getSize(),Ve=0,it=0;R.x+m+ce.x>Te.x&&(Ve=R.x+m-Te.x+ce.x),R.x-Ve-oe.x<0&&(Ve=R.x-oe.x),R.y+f+ce.y>Te.y&&(it=R.y+f-Te.y+ce.y),R.y-it-oe.y<0&&(it=R.y-oe.y),(Ve||it)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Ve,it]))}},_getAnchor:function(){return ve(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ps=function(r,a){return new Ia(r,a)};mt.mergeOptions({closePopupOnClick:!0}),mt.include({openPopup:function(r,a,f){return this._initOverlay(Ia,r,a,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Qe.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Ia,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ct||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){kn(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Lo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ms=eo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){eo.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){eo.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=eo.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,f,m=this._map,S=this._container,R=m.latLngToContainerPoint(m.getCenter()),q=m.layerPointToContainerPoint(r),oe=this.options.direction,ce=S.offsetWidth,Te=S.offsetHeight,Ve=ve(this.options.offset),it=this._getAnchor();oe==="top"?(a=ce/2,f=Te):oe==="bottom"?(a=ce/2,f=0):oe==="center"?(a=ce/2,f=Te/2):oe==="right"?(a=0,f=Te/2):oe==="left"?(a=ce,f=Te/2):q.x<R.x?(oe="right",a=0,f=Te/2):(oe="left",a=ce+(Ve.x+it.x)*2,f=Te/2),r=r.subtract(ve(a,f,!0)).add(Ve).add(it),xt(S,"leaflet-tooltip-right"),xt(S,"leaflet-tooltip-left"),xt(S,"leaflet-tooltip-top"),xt(S,"leaflet-tooltip-bottom"),Oe(S,"leaflet-tooltip-"+oe),he(S,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&D(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return ve(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qs=function(r,a){return new ms(r,a)};mt.include({openTooltip:function(r,a,f){return this._initOverlay(ms,r,a,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Qe.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ms,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[a](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ct||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(Je(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Je(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,f,m;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),m=this._map.containerPointToLayerPoint(f),a=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(a)}});var ka=Mn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(sn(a),a.appendChild(f.html)):a.innerHTML=f.html!==!1?f.html:"",f.bgPos){var m=ve(f.bgPos);a.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Eu(r){return new ka(r)}Mn.Default=bi;var No=Qe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){re(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),wt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(nn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof _e?r:new _e(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,f=-r(-1/0,1/0),m=0,S=a.length,R;m<S;m++)R=a[m].style.zIndex,a[m]!==this._container&&R&&(f=r(f,+R));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be.ielt9){D(this._container,this.options.opacity);var r=+new Date,a=!1,f=!1;for(var m in this._tiles){var S=this._tiles[m];if(!(!S.current||!S.loaded)){var R=Math.min(1,(r-S.loaded)/200);D(S.el,R),R<1?a=!0:(S.active?f=!0:this._onOpaqueTile(S),S.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),a&&(K(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:M,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=a-Math.abs(r-f),this._onUpdateLevel(f)):(wt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var m=this._levels[r],S=this._map;return m||(m=this._levels[r]={},m.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=a,m.origin=S.project(S.unproject(S.getPixelOrigin()),r).round(),m.zoom=r,this._setZoomTransform(m,S.getCenter(),S.getZoom()),M(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:M,_onRemoveLevel:M,_onCreateLevel:M,_pruneTiles:function(){if(this._map){var r,a,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var m=a.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)wt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,f,m){var S=Math.floor(r/2),R=Math.floor(a/2),q=f-1,oe=new _e(+S,+R);oe.z=+q;var ce=this._tileCoordsToKey(oe),Te=this._tiles[ce];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),q>m?this._retainParent(S,R,q,m):!1)},_retainChildren:function(r,a,f,m){for(var S=2*r;S<2*r+2;S++)for(var R=2*a;R<2*a+2;R++){var q=new _e(S,R);q.z=f+1;var oe=this._tileCoordsToKey(q),ce=this._tiles[oe];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);f+1<m&&this._retainChildren(S,R,f+1,m)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,f,m){var S=Math.round(a);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!m||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,a)},_setZoomTransform:function(r,a,f){var m=this._map.getZoomScale(f,r.zoom),S=r.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(a,f)).round();be.any3d?ee(r.el,S,m):he(r.el,S)},_resetGrid:function(){var r=this._map,a=r.options.crs,f=this._tileSize=this.getTileSize(),m=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],m).x/f.x),Math.ceil(r.project([0,a.wrapLng[1]],m).x/f.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],m).y/f.x),Math.ceil(r.project([a.wrapLat[1],0],m).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,f=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),m=a.getZoomScale(f,this._tileZoom),S=a.project(r,this._tileZoom).floor(),R=a.getSize().divideBy(m*2);return new Q(S.subtract(R),S.add(R))},_update:function(r){var a=this._map;if(a){var f=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(r),S=this._pxBoundsToTileRange(m),R=S.getCenter(),q=[],oe=this.options.keepBuffer,ce=new Q(S.getBottomLeft().subtract([oe,-oe]),S.getTopRight().add([oe,-oe]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Ve=this._tiles[Te].coords;(Ve.z!==this._tileZoom||!ce.contains(new _e(Ve.x,Ve.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var it=S.min.y;it<=S.max.y;it++)for(var yt=S.min.x;yt<=S.max.x;yt++){var Xn=new _e(yt,it);if(Xn.z=this._tileZoom,!!this._isValidTile(Xn)){var Bn=this._tiles[this._tileCoordsToKey(Xn)];Bn?Bn.current=!0:q.push(Xn)}}if(q.sort(function(br,ws){return br.distanceTo(R)-ws.distanceTo(R)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ii=document.createDocumentFragment();for(yt=0;yt<q.length;yt++)this._addTile(q[yt],ii);this._level.el.appendChild(ii)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var f=this._globalTileRange;if(!a.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!a.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(r);return je(this.options.bounds).overlaps(m)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,f=this.getTileSize(),m=r.scaleBy(f),S=m.add(f),R=a.unproject(m,r.z),q=a.unproject(S,r.z);return[R,q]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),f=new Ke(a[0],a[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),f=new _e(+a[0],+a[1]);return f.z=+a[2],f},_removeTile:function(r){var a=this._tiles[r];a&&(wt(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Oe(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=M,r.onmousemove=M,be.ielt9&&this.options.opacity<1&&D(r,this.options.opacity)},_addTile:function(r,a){var f=this._getTilePos(r),m=this._tileCoordsToKey(r),S=this.createTile(this._wrapCoords(r),p(this._tileReady,this,r));this._initTile(S),this.createTile.length<2&&W(p(this._tileReady,this,r,null,S)),he(S,f),this._tiles[m]={el:S,coords:r,current:!0},a.appendChild(S),this.fire("tileloadstart",{tile:S,coords:r})},_tileReady:function(r,a,f){a&&this.fire("tileerror",{error:a,tile:f,coords:r});var m=this._tileCoordsToKey(r);f=this._tiles[m],f&&(f.loaded=+new Date,this._map._fadeAnimated?(D(f.el,0),K(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),a||(Oe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new _e(this._wrapX?A(r.x,this._wrapX):r.x,this._wrapY?A(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new Q(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function gs(r){return new No(r)}var Do=No.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=re(this,a),a.detectRetina&&be.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var f=document.createElement("img");return Je(f,"load",p(this._tileOnLoad,this,a,f)),Je(f,"error",p(this._tileOnError,this,a,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var a={r:be.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=f),a["-y"]=f}return pe(this._url,l(a,this.options))},_tileOnLoad:function(r,a){be.ielt9?setTimeout(p(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,f){var m=this.options.errorTileUrl;m&&a.getAttribute("src")!==m&&(a.src=m),r(f,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,f=this.options.zoomReverse,m=this.options.zoomOffset;return f&&(r=a-r),r+m},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=M,a.onerror=M,!a.complete)){a.src=qe;var f=this._tiles[r].coords;wt(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:f})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",qe),No.prototype._removeTile.call(this,r)},_tileReady:function(r,a,f){if(!(!this._map||f&&f.getAttribute("src")===qe))return No.prototype._tileReady.call(this,r,a,f)}});function vl(r,a){return new Do(r,a)}var Xs=Do.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var f=l({},this.defaultWmsParams);for(var m in a)m in this.options||(f[m]=a[m]);a=re(this,a);var S=a.detectRetina&&be.retina?2:1,R=this.getTileSize();f.width=R.x*S,f.height=R.y*S,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Do.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),f=this._crs,m=ye(f.project(a[0]),f.project(a[1])),S=m.min,R=m.max,q=(this._wmsVersion>=1.3&&this._crs===ge?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),oe=Do.prototype.getTileUrl.call(this,r);return oe+Y(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,a){return l(this.wmsParams,r),a||this.redraw(),this}});function Tu(r,a){return new Xs(r,a)}Do.WMS=Xs,vl.wms=Tu;var to=Qe.extend({options:{padding:.1},initialize:function(r){re(this,r),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var f=this._map.getZoomScale(a,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,a),R=m.multiplyBy(-f).add(S).subtract(this._map._getNewPixelOrigin(r,a));be.any3d?ee(this._container,R,f):he(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),f=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new Q(f,f.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wl=to.extend({options:{tolerance:0},getEvents:function(){var r=to.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){to.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Je(r,"mousemove",this._onMouseMove,this),Je(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Je(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,wt(this._container),Vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){to.prototype._update.call(this);var r=this._bounds,a=this._container,f=r.getSize(),m=be.retina?2:1;he(a,r.min),a.width=m*f.x,a.height=m*f.y,a.style.width=f.x+"px",a.style.height=f.y+"px",be.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){to.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[T(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,f=a.next,m=a.prev;f?f.prev=m:this._drawLast=m,m?m.next=f:this._drawFirst=f,delete r._order,delete this._layers[T(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),f=[],m,S;for(S=0;S<a.length;S++){if(m=Number(a[S]),isNaN(m))return;f.push(m)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var f=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)r=m.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var f,m,S,R,q=r._parts,oe=q.length,ce=this._ctx;if(oe){for(ce.beginPath(),f=0;f<oe;f++){for(m=0,S=q[f].length;m<S;m++)R=q[f][m],ce[m?"lineTo":"moveTo"](R.x,R.y);a&&ce.closePath()}this._fillStroke(ce,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,f=this._ctx,m=Math.max(Math.round(r._radius),1),S=(Math.max(Math.round(r._radiusY),1)||m)/m;S!==1&&(f.save(),f.scale(1,S)),f.beginPath(),f.arc(a.x,a.y/S,m,0,Math.PI*2,!1),S!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,a){var f=a.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),f,m,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(m=f);this._fireEvent(m?[m]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(xt(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var f,m,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(a)&&(m=f);m!==this._hoveredLayer&&(this._handleMouseOut(r),m&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([m],r,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,f){this._map._fireDOMEvent(a,f||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var f=a.next,m=a.prev;if(f)f.prev=m;else return;m?m.next=f:f&&(this._drawFirst=f),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var f=a.next,m=a.prev;if(m)m.next=f;else return;f?f.prev=m:m&&(this._drawLast=m),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function El(r){return be.canvas?new wl(r):null}var _s=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Su={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(to.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=_s("shape");Oe(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=_s("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;wt(a),r.removeInteractiveTarget(a),delete this._layers[T(r)]},_updateStyle:function(r){var a=r._stroke,f=r._fill,m=r.options,S=r._container;S.stroked=!!m.stroke,S.filled=!!m.fill,m.stroke?(a||(a=r._stroke=_s("stroke")),S.appendChild(a),a.weight=m.weight+"px",a.color=m.color,a.opacity=m.opacity,m.dashArray?a.dashStyle=xe(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=m.lineCap.replace("butt","flat"),a.joinstyle=m.lineJoin):a&&(S.removeChild(a),r._stroke=null),m.fill?(f||(f=r._fill=_s("fill")),S.appendChild(f),f.color=m.fillColor||m.color,f.opacity=m.fillOpacity):f&&(S.removeChild(f),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),f=Math.round(r._radius),m=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+f+","+m+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){bn(r._container)},_bringToBack:function(r){nn(r._container)}},zi=be.vml?_s:Wi,qo=to.extend({_initContainer:function(){this._container=zi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),Vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){to.prototype._update.call(this);var r=this._bounds,a=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,f.setAttribute("width",a.x),f.setAttribute("height",a.y)),he(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=zi("path");r.options.className&&Oe(a,r.options.className),r.options.interactive&&Oe(a,"leaflet-interactive"),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){wt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[T(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,f=r.options;a&&(f.stroke?(a.setAttribute("stroke",f.color),a.setAttribute("stroke-opacity",f.opacity),a.setAttribute("stroke-width",f.weight),a.setAttribute("stroke-linecap",f.lineCap),a.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?a.setAttribute("stroke-dasharray",f.dashArray):a.removeAttribute("stroke-dasharray"),f.dashOffset?a.setAttribute("stroke-dashoffset",f.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),f.fill?(a.setAttribute("fill",f.fillColor||f.color),a.setAttribute("fill-opacity",f.fillOpacity),a.setAttribute("fill-rule",f.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,Mr(r._parts,a))},_updateCircle:function(r){var a=r._point,f=Math.max(Math.round(r._radius),1),m=Math.max(Math.round(r._radiusY),1)||f,S="a"+f+","+m+" 0 1,0 ",R=r._empty()?"M0 0":"M"+(a.x-f)+","+a.y+S+f*2+",0 "+S+-f*2+",0 ";this._setPath(r,R)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){bn(r._path)},_bringToBack:function(r){nn(r._path)}});be.vml&&qo.include(Su);function Aa(r){return be.svg||be.vml?new qo(r):null}mt.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&El(r)||Aa(r)}});var xu=yo.extend({initialize:function(r,a){yo.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=je(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function vh(r,a){return new xu(r,a)}qo.create=zi,qo.pointsToPath=Mr,Ji.geometryToLayer=fs,Ji.coordsToLatLng=Sa,Ji.coordsToLatLngs=Ks,Ji.latLngToCoords=xa,Ji.latLngsToCoords=Pa,Ji.getFeature=ds,Ji.asFeature=Ca,mt.mergeOptions({boxZoom:!0});var ys=gn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Re(),xn(),this._startPoint=this._map.mouseEventToContainerPoint(r),Je(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new Q(this._point,this._startPoint),f=a.getSize();he(this._box,a.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(wt(this._box),xt(this._container,"leaflet-crosshair")),Ze(),Pn(),Vt(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var a=new Ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mt.addInitHook("addHandler","boxZoom",ys),mt.mergeOptions({doubleClickZoom:!0});var Pu=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,f=a.getZoom(),m=a.options.zoomDelta,S=r.originalEvent.shiftKey?f-m:f+m;a.options.doubleClickZoom==="center"?a.setZoom(S):a.setZoomAround(r.containerPoint,S)}});mt.addInitHook("addHandler","doubleClickZoom",Pu),mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tl=gn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Qn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=je(this._map.options.maxBounds);this._offsetLimit=ye(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),f=this._initialWorldOffset,m=this._draggable._newPos.x,S=(m-a+f)%r+a-f,R=(m+a+f)%r-a-f,q=Math.abs(S+f)<Math.abs(R+f)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var a=this._map,f=a.options,m=!f.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),m)a.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,q=f.easeLinearity,oe=S.multiplyBy(q/R),ce=oe.distanceTo([0,0]),Te=Math.min(f.inertiaMaxSpeed,ce),Ve=oe.multiplyBy(Te/ce),it=Te/(f.inertiaDeceleration*q),yt=Ve.multiplyBy(-it/2).round();!yt.x&&!yt.y?a.fire("moveend"):(yt=a._limitOffset(yt,a.options.maxBounds),W(function(){a.panBy(yt,{duration:it,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});mt.addInitHook("addHandler","dragging",Tl),mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Sl=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Je(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,f=r.scrollTop||a.scrollTop,m=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(m,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},f=this.keyCodes,m,S;for(m=0,S=f.left.length;m<S;m++)a[f.left[m]]=[-1*r,0];for(m=0,S=f.right.length;m<S;m++)a[f.right[m]]=[r,0];for(m=0,S=f.down.length;m<S;m++)a[f.down[m]]=[0,r];for(m=0,S=f.up.length;m<S;m++)a[f.up[m]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},f=this.keyCodes,m,S;for(m=0,S=f.zoomIn.length;m<S;m++)a[f.zoomIn[m]]=r;for(m=0,S=f.zoomOut.length;m<S;m++)a[f.zoomOut[m]]=-r},_addHooks:function(){Je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,f=this._map,m;if(a in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(m=this._panKeys[a],r.shiftKey&&(m=ve(m).multiplyBy(3)),f.options.maxBounds&&(m=f._limitOffset(ve(m),f.options.maxBounds)),f.options.worldCopyJump){var S=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(m)));f.panTo(S)}else f.panBy(m)}else if(a in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;kn(r)}}});mt.addInitHook("addHandler","keyboard",Sl),mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $t=gn.extend({addHooks:function(){Je(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=ei(r),f=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var m=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),kn(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,R=f?Math.ceil(S/f)*f:S,q=r._limitZoom(a+(this._delta>0?R:-R))-a;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+q):r.setZoomAround(this._lastMousePos,a+q))}});mt.addInitHook("addHandler","scrollWheelZoom",$t);var xl=600;mt.mergeOptions({tapHold:be.touchNative&&be.safari&&be.mobile,tapTolerance:15});var Ys=gn.extend({addHooks:function(){Je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new _e(a.clientX,a.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Je(document,"touchend",Ft),Je(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),xl),Je(document,"touchend touchcancel contextmenu",this._cancel,this),Je(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Vt(document,"touchend",Ft),Vt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new _e(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});f._simulated=!0,a.target.dispatchEvent(f)}});mt.addInitHook("addHandler","tapHold",Ys),mt.mergeOptions({touchZoom:be.touch,bounceAtZoomLimits:!0});var vs=gn.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var f=a.mouseEventToContainerPoint(r.touches[0]),m=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(f.add(m)._divideBy(2))),this._startDist=f.distanceTo(m),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Je(document,"touchmove",this._onTouchMove,this),Je(document,"touchend touchcancel",this._onTouchEnd,this),Ft(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,f=a.mouseEventToContainerPoint(r.touches[0]),m=a.mouseEventToContainerPoint(r.touches[1]),S=f.distanceTo(m)/this._startDist;if(this._zoom=a.getScaleZoom(S,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&S<1||this._zoom>a.getMaxZoom()&&S>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=f._add(m)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var q=p(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(q,this,!0),Ft(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mt.addInitHook("addHandler","touchZoom",vs),mt.BoxZoom=ys,mt.DoubleClickZoom=Pu,mt.Drag=Tl,mt.Keyboard=Sl,mt.ScrollWheelZoom=$t,mt.TapHold=Ys,mt.TouchZoom=vs,t.Bounds=Q,t.Browser=be,t.CRS=dt,t.Canvas=wl,t.Circle=Ea,t.CircleMarker=wa,t.Class=vt,t.Control=Rn,t.DivIcon=ka,t.DivOverlay=eo,t.DomEvent=Or,t.DomUtil=ar,t.Draggable=Qn,t.Evented=Mt,t.FeatureGroup=Ct,t.GeoJSON=Ji,t.GridLayer=No,t.Handler=gn,t.Icon=Mn,t.ImageOverlay=Mo,t.LatLng=Be,t.LatLngBounds=Ke,t.Layer=Qe,t.LayerGroup=lt,t.LineUtil=C,t.Map=mt,t.Marker=ni,t.Mixin=vi,t.Path=Lo,t.Point=_e,t.PolyUtil=_n,t.Polygon=yo,t.Polyline=ri,t.Popup=Ia,t.PosAnimation=Oi,t.Projection=ie,t.Rectangle=xu,t.Renderer=to,t.SVG=qo,t.SVGOverlay=_l,t.TileLayer=Do,t.Tooltip=ms,t.Transformation=vn,t.Util=U,t.VideoOverlay=gl,t.bind=p,t.bounds=ye,t.canvas=El,t.circle=Gs,t.circleMarker=_u,t.control=Pr,t.divIcon=Eu,t.extend=l,t.featureGroup=cr,t.geoJSON=yu,t.geoJson=Fi,t.gridLayer=gs,t.icon=Vr,t.imageOverlay=vu,t.latLng=De,t.latLngBounds=je,t.layerGroup=ut,t.map=ur,t.marker=gh,t.point=ve,t.polygon=yh,t.polyline=_h,t.popup=ps,t.rectangle=vh,t.setOptions=re,t.stamp=T,t.svg=Aa,t.svgOverlay=yl,t.tileLayer=vl,t.tooltip=Qs,t.transformation=gr,t.version=s,t.videoOverlay=wu;var Cu=window.L;t.noConflict=function(){return window.L=Cu,this},window.L=t}))})(jl,jl.exports)),jl.exports}var cu=gE();const _E=Yc(cu);function yE(i,e){const t=de.useRef(e);de.useEffect(function(){e!==t.current&&i.attributionControl!=null&&(t.current!=null&&i.attributionControl.removeAttribution(t.current),e!=null&&i.attributionControl.addAttribution(e)),t.current=e},[i,e])}const vE=1;function wE(i){return Object.freeze({__version:vE,map:i})}function j_(i,e){return Object.freeze({...i,...e})}const H_=de.createContext(null),W_=H_.Provider;function xd(){const i=de.useContext(H_);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function q_(i){function e(t,s){const{instance:l,context:c}=i(t).current;return de.useImperativeHandle(s,()=>l),t.children==null?null:Hi.createElement(W_,{value:c},t.children)}return de.forwardRef(e)}function EE(i){function e(t,s){const{instance:l}=i(t).current;return de.useImperativeHandle(s,()=>l),null}return de.forwardRef(e)}function $_(i,e){const t=de.useRef();de.useEffect(function(){return e!=null&&i.instance.on(e),t.current=e,function(){t.current!=null&&i.instance.off(t.current),t.current=null}},[i,e])}function Pd(i,e){const t=i.pane??e.pane;return t?{...i,pane:t}:i}function Cd(i,e,t){return Object.freeze({instance:i,context:e,container:t})}function Id(i,e){return e==null?function(s,l){const c=de.useRef();return c.current||(c.current=i(s,l)),c}:function(s,l){const c=de.useRef();c.current||(c.current=i(s,l));const p=de.useRef(s),{instance:E}=c.current;return de.useEffect(function(){p.current!==s&&(e(E,s,p.current),p.current=s)},[E,s,l]),c}}function Z_(i,e){de.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){e.layerContainer?.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function G_(i){return function(t){const s=xd(),l=i(Pd(t,s),s);return yE(s.map,t.attribution),$_(l.current,t.eventHandlers),Z_(l.current,s),l}}function TE(i,e){const t=de.useRef();de.useEffect(function(){if(e.pathOptions!==t.current){const l=e.pathOptions??{};i.instance.setStyle(l),t.current=l}},[i,e])}function SE(i){return function(t){const s=xd(),l=i(Pd(t,s),s);return $_(l.current,t.eventHandlers),Z_(l.current,s),TE(l.current,t),l}}function xE(i,e){const t=Id(i,e),s=G_(t);return q_(s)}function PE(i,e){const t=Id(i,e),s=SE(t);return q_(s)}function CE(i,e){const t=Id(i,e),s=G_(t);return EE(s)}function IE(i,e,t){const{opacity:s,zIndex:l}=e;s!=null&&s!==t.opacity&&i.setOpacity(s),l!=null&&l!==t.zIndex&&i.setZIndex(l)}function kE(){return xd().map}function Zf(){return Zf=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Zf.apply(this,arguments)}function AE({bounds:i,boundsOptions:e,center:t,children:s,className:l,id:c,placeholder:p,style:E,whenReady:T,zoom:x,...A},M){const[b]=de.useState({className:l,id:c,style:E}),[$,J]=de.useState(null);de.useImperativeHandle(M,()=>$?.map??null,[$]);const re=de.useCallback(me=>{if(me!==null&&$===null){const pe=new cu.Map(me,A);t!=null&&x!=null?pe.setView(t,x):i!=null&&pe.fitBounds(i,e),T!=null&&pe.whenReady(T),J(wE(pe))}},[]);de.useEffect(()=>()=>{$?.map.remove()},[$]);const Y=$?Hi.createElement(W_,{value:$},s):p??null;return Hi.createElement("div",Zf({},b,{ref:re}),Y)}const K_=de.forwardRef(AE),Q_=xE(function({position:e,...t},s){const l=new cu.Marker(e,t);return Cd(l,j_(s,{overlayContainer:l}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),X_=PE(function({positions:e,...t},s){const l=new cu.Polyline(e,t);return Cd(l,j_(s,{overlayContainer:l}))},function(e,t,s){t.positions!==s.positions&&e.setLatLngs(t.positions)}),Y_=CE(function({url:e,...t},s){const l=new cu.TileLayer(e,Pd(t,s));return Cd(l,s)},function(e,t,s){IE(e,t,s);const{url:l}=t;l!=null&&l!==s.url&&e.setUrl(l)});var RE=15e3,Gf=1e3,Kf=60*Gf,Pc=60*Kf,Nf=24*Pc,LE="http://www.topografix.com/GPX/gpx_style/0/2",pc=new L.Icon.Default,ME={startIcon:pc,endIcon:pc,wptIcons:{"":pc},wptTypeIcons:{"":pc},pointMatchers:[]},NE={iconSize:[33,45],iconAnchor:[16,45],clickable:!1},DE={color:"blue"},OE={parseElements:["track","route","waypoint"],joinTrackSegments:!0};L.GPX=L.FeatureGroup.extend({initialize:function(i,e){e.max_point_interval=e.max_point_interval||RE,e.markers=this._merge_objs(ME,e.markers||{}),e.marker_options=this._merge_objs(NE,e.marker_options||{}),e.polyline_options=e.polyline_options||[],e.gpx_options=this._merge_objs(OE,e.gpx_options||{}),L.Util.setOptions(this,e),L.GPXTrackIcon=L.Icon.extend({options:e.marker_options}),this._gpx=i,this._layers={},this._prepare_markers(e.markers),this._init_info(),i&&this._parse(i,e,this.options.async)},get_duration_string:function(i,e){var t="";i>=Nf&&(t+=Math.floor(i/Nf)+"d ",i=i%Nf),i>=Pc&&(t+=Math.floor(i/Pc)+":",i=i%Pc);var s=Math.floor(i/Kf);i=i%Kf,s<10&&(t+="0"),t+=s+"'";var l=Math.floor(i/Gf);return i=i%Gf,l<10&&(t+="0"),t+=l,!e&&i>0?t+="."+Math.round(Math.floor(i)*1e3)/1e3:t+='"',t},get_duration_string_iso:function(i,e){var t=this.get_duration_string(i,e);return t.replace("'",":").replace('"',"")},_toFixed_helper:function(i,e=0){return typeof i=="number"?i.toFixed(e):"?"},to_miles:function(i){return i/1.60934},to_ft:function(i){return i*3.28084},m_to_km:function(i){return i/1e3},m_to_mi:function(i){return i/1609.34},ms_to_kmh:function(i){return i*3.6},ms_to_mih:function(i){return i/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/(3600*1e3))},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/(3600*1e3))},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/(3600*1e3))},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/(3600*1e3))},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var i=this;return this._info.elevation._points.map(function(e){return i._prepare_data_point(e,i.m_to_km,null,function(t,s){return i._toFixed_helper(t,2)+" km, "+i._toFixed_helper(s,0)+" m"})})},get_elevation_data_imp:function(){var i=this;return this._info.elevation._points.map(function(e){return i._prepare_data_point(e,i.m_to_mi,i.to_ft,function(t,s){return i._toFixed_helper(t,2)+" mi, "+i._toFixed_helper(s,0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var i=this;return this._info.speed._points.map(function(e){return i._prepare_data_point(e,i.m_to_km,i.ms_to_kmh,function(t,s){return i._toFixed_helper(t,2)+" km, "+i._toFixed_helper(s,2)+" km/h"})})},get_speed_data_imp:function(){var i=this;return this._info.speed._points.map(function(e){return i._prepare_data_point(e,i.m_to_mi,i.ms_to_mih,function(t,s){return i._toFixed_helper(t,2)+" mi, "+i._toFixed_helper(s,2)+" mi/h"})})},get_speed_max:function(){return this.m_to_km(this._info.speed.max)*3600},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var i=this;return this._info.hr._points.map(function(e){return i._prepare_data_point(e,i.m_to_km,null,function(t,s){return i._toFixed_helper(t,2)+" km, "+i._toFixed_helper(s,0)+" bpm"})})},get_heartrate_data_imp:function(){var i=this;return this._info.hr._points.map(function(e){return i._prepare_data_point(e,i.m_to_mi,null,function(t,s){return i._toFixed_helper(t,2)+" mi, "+i._toFixed_helper(s,0)+" bpm"})})},get_cadence_data:function(){var i=this;return this._info.cad._points.map(function(e){return i._prepare_data_point(e,i.m_to_km,null,function(t,s){return i._toFixed_helper(t,2)+" km, "+i._toFixed_helper(s,0)+" rpm"})})},get_temp_data:function(){var i=this;return this._info.atemp._points.map(function(e){return i._prepare_data_point(e,i.m_to_km,null,function(t,s){return i._toFixed_helper(t,2)+" km, "+i._toFixed_helper(s,0)+" degrees"})})},get_cadence_data_imp:function(){var i=this;return this._info.cad._points.map(function(e){return i._prepare_data_point(e,i.m_to_mi,null,function(t,s){return i._toFixed_helper(t,2)+" mi, "+i._toFixed_helper(s,0)+" rpm"})})},get_temp_data_imp:function(){var i=this;return this._info.atemp._points.map(function(e){return i._prepare_data_point(e,i.m_to_mi,null,function(t,s){return i._toFixed_helper(t,2)+" mi, "+i._toFixed_helper(s,0)+" degrees"})})},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(i,e){var t={};for(var s in i)t[s]=i[s];for(var s in e)t[s]=e[s];return t},_prepare_data_point:function(i,e,t,s){var l=[e&&e(i[0])||i[0],t&&t(i[1])||i[1]];return l.push(s&&s(l[0],l[1])||l[0]+": "+l[1]),l},_prepare_markers:function(i){function e(t){return new L.GPXTrackIcon({iconUrl:t})}return Object.entries(i).forEach(([t,s])=>{t==="wptIcons"||t==="wptTypeIcons"?i[t]=this._prepare_markers(s):t==="pointMatchers"?i[t]=s.map(l=>(typeof l.icon=="string"&&(l.icon=e(l.icon)),l)):typeof s=="string"?i[t]=e(s):typeof s=="object"&&s!==null&&(i[t]=s)}),i},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(i,e,t,s){s==null&&(s=this.options.async),t==null&&(t=this.options);var l=this,c=new window.XMLHttpRequest;c.open("GET",i,s);try{c.overrideMimeType("text/xml")}catch{}c.onloadend=function(){c.status==200?e(c.responseXML,t):l.fire("error",{err:"Error fetching resource: "+i})},c.send(null)},_parse:function(i,e,t){var s=this,l=function(p,E){var T=s._parse_gpx_data(p,E);if(!T){s.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(E.gpx_options.parseElements)});return}s.addLayer(T),s.fire("loaded",{layers:T,element:p})};if(i.substr(0,1)==="<"){var c=new DOMParser;t?setTimeout(function(){l(c.parseFromString(i,"text/xml"),e)}):l(c.parseFromString(i,"text/xml"),e)}else this._load_xml(i,l,e,t)},_parse_gpx_data:function(i,e){var t,s,l=[],c=i.getElementsByTagName("name");c.length>0&&(this._info.name=c[0].textContent);var p=i.getElementsByTagName("desc");p.length>0&&(this._info.desc=p[0].textContent);var E=i.getElementsByTagName("author");E.length>0&&(this._info.author=E[0].textContent);var T=i.getElementsByTagName("copyright");T.length>0&&(this._info.copyright=T[0].textContent);var x=e.gpx_options.parseElements;if(x.indexOf("route")>-1){var A=i.getElementsByTagName("rte");for(t=0;t<A.length;t++){var M=A[t],b=this._extract_styling(M),$=this._get_polyline_options(e.polyline_options,t);l=l.concat(this._parse_segment(A[t],e,b,$,"rtept"))}}if(x.indexOf("track")>-1){var J=i.getElementsByTagName("trk");for(t=0;t<J.length;t++){var re=J[t],b=this._extract_styling(re),$=this._get_polyline_options(e.polyline_options,t);if(e.gpx_options.joinTrackSegments)l=l.concat(this._parse_segment(re,e,b,$,"trkpt"));else{var Y=re.getElementsByTagName("trkseg");for(K=0;K<Y.length;K++)l=l.concat(this._parse_segment(Y[K],e,b,$,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),x.indexOf("waypoint")>-1)for(s=i.getElementsByTagName("wpt"),t=0;t<s.length;t++){var me=new L.LatLng(s[t].getAttribute("lat"),s[t].getAttribute("lon")),pe=s[t].getElementsByTagName("name"),c=pe.length>0?pe[0].textContent:"",xe=s[t].getElementsByTagName("desc"),p=xe.length>0?xe[0].textContent:"",Ne=s[t].getElementsByTagName("sym"),qe=Ne.length>0?Ne[0].textContent:null,Fe=s[t].getElementsByTagName("type"),H=Fe.length>0?Fe[0].textContent:null,z=e.markers.wptIcons,j=e.markers.wptTypeIcons,Z=e.markers.pointMatchers||[],W;if(z&&qe&&z[qe])W=z[qe];else if(j&&H&&j[H])W=j[H];else if(Z.length>0){for(var K=0;K<Z.length;K++)if(Z[K].regex.test(c)){W=Z[K].icon;break}}else z&&z[""]&&(W=z[""]);if(!W){console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",qe,H,c,s[t]);continue}var U=new L.Marker(me,{clickable:e.marker_options.clickable,title:c,icon:W,type:"waypoint"});U.bindPopup("<b>"+c+"</b>"+(p.length>0?"<br>"+p:"")).openPopup(),this.fire("addpoint",{point:U,point_type:"waypoint",element:s[t]}),l.push(U)}if(l.length>1)return new L.FeatureGroup(l);if(l.length==1)return l[0]},_parse_segment:function(i,e,t,s,l){var c=i.getElementsByTagName(l);if(!c.length)return[];for(var p=[],E=[],T=[],x=null,A=0;A<c.length;A++){var M,b=new L.LatLng(c[A].getAttribute("lat"),c[A].getAttribute("lon"));b.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},M=c[A].getElementsByTagName("time"),M.length>0?b.meta.time=new Date(Date.parse(M[0].textContent)):b.meta.time=new Date("1970-01-01T00:00:00");var $=x!=null?Math.abs(b.meta.time-x.meta.time):0;M=c[A].getElementsByTagName("ele"),M.length>0?b.meta.ele=parseFloat(M[0].textContent):b.meta.ele=x!=null?x.meta.ele:null;var J=x!=null?b.meta.ele-x.meta.ele:0,re=x!=null?this._dist3d(x,b):0;if(M=c[A].getElementsByTagName("speed"),M.length>0?b.meta.speed=parseFloat(M[0].textContent):b.meta.speed=$>0?1e3*re/$:0,M=c[A].getElementsByTagName("name"),M.length>0){for(var Y=M[0].textContent,me=e.markers.pointMatchers||[],pe=0;pe<me.length;pe++)if(me[pe].regex.test(Y)){E.push({label:Y,coords:b,icon:me[pe].icon,element:c[A]});break}}this._info.length+=re,M=c[A].getElementsByTagNameNS("*","hr"),M.length>0&&(b.meta.hr=parseInt(M[0].textContent),this._info.hr._points.push([this._info.length,b.meta.hr]),this._info.hr._total+=b.meta.hr),M=c[A].getElementsByTagNameNS("*","cad"),M.length>0&&(b.meta.cad=parseInt(M[0].textContent),this._info.cad._points.push([this._info.length,b.meta.cad]),this._info.cad._total+=b.meta.cad),M=c[A].getElementsByTagNameNS("*","atemp"),M.length>0&&(b.meta.atemp=parseInt(M[0].textContent),this._info.atemp._points.push([this._info.length,b.meta.atemp]),this._info.atemp._total+=b.meta.atemp),b.meta.ele>this._info.elevation.max&&(this._info.elevation.max=b.meta.ele),b.meta.ele<this._info.elevation.min&&(this._info.elevation.min=b.meta.ele),this._info.elevation._points.push([this._info.length,b.meta.ele]),b.meta.speed>this._info.speed.max&&(this._info.speed.max=b.meta.speed),this._info.speed._points.push([this._info.length,b.meta.speed]),x==null&&this._info.duration.start==null&&(this._info.duration.start=b.meta.time),this._info.duration.end=b.meta.time,this._info.duration.total+=$,$<e.max_point_interval&&(this._info.duration.moving+=$),J>0?this._info.elevation.gain+=J:this._info.elevation.loss+=Math.abs(J),x=b,p.push(b)}var xe=new L.Polyline(p,this._extract_styling(i,t,s));if(this.fire("addline",{line:xe,element:i}),T.push(xe),e.markers.startIcon){var Ne=new L.Marker(p[0],{clickable:e.marker_options.clickable,icon:e.markers.startIcon});this.fire("addpoint",{point:Ne,point_type:"start",element:c[0],line:i}),T.push(Ne)}if(e.markers.endIcon){var Ne=new L.Marker(p[p.length-1],{clickable:e.marker_options.clickable,icon:e.markers.endIcon});this.fire("addpoint",{point:Ne,point_type:"end",element:c[c.length-1],line:i}),T.push(Ne)}for(var A=0;A<E.length;A++){var Ne=new L.Marker(E[A].coords,{clickable:e.marker_options.clickable,title:E[A].label,icon:E[A].icon});this.fire("addpoint",{point:Ne,point_type:"label",element:E[A].element}),T.push(Ne)}return T},_get_polyline_options:function(i,e){return Array.isArray(i)?i[e]||{}:i},_extract_styling:function(i,e,t){var s=this._merge_objs(DE,e),l=i.getElementsByTagNameNS(LE,"line");if(l.length>0){var c=l[0].getElementsByTagName("color");c.length>0&&(s.color="#"+c[0].textContent);var c=l[0].getElementsByTagName("opacity");c.length>0&&(s.opacity=c[0].textContent);var c=l[0].getElementsByTagName("weight");c.length>0&&(s.weight=c[0].textContent);var c=l[0].getElementsByTagName("linecap");c.length>0&&(s.lineCap=c[0].textContent);var c=l[0].getElementsByTagName("linejoin");c.length>0&&(s.lineJoin=c[0].textContent);var c=l[0].getElementsByTagName("dasharray");c.length>0&&(s.dashArray=c[0].textContent);var c=l[0].getElementsByTagName("dashoffset");c.length>0&&(s.dashOffset=c[0].textContent)}return this._merge_objs(s,t)},_dist2d:function(i,e){var t=6371e3,s=this._deg2rad(e.lat-i.lat),l=this._deg2rad(e.lng-i.lng),c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(this._deg2rad(i.lat))*Math.cos(this._deg2rad(e.lat))*Math.sin(l/2)*Math.sin(l/2),p=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),E=t*p;return E},_dist3d:function(i,e){var t=this._dist2d(i,e),s=Math.abs(e.meta.ele-i.meta.ele);return Math.sqrt(Math.pow(t,2)+Math.pow(s,2))},_deg2rad:function(i){return i*Math.PI/180}});const VE=()=>{};var sg={};const J_=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},bE=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const l=i[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[t++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[t++],p=i[t++],E=i[t++],T=((l&7)<<18|(c&63)<<12|(p&63)<<6|E&63)-65536;e[s++]=String.fromCharCode(55296+(T>>10)),e[s++]=String.fromCharCode(56320+(T&1023))}else{const c=i[t++],p=i[t++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,E=p?i[l+1]:0,T=l+2<i.length,x=T?i[l+2]:0,A=c>>2,M=(c&3)<<4|E>>4;let b=(E&15)<<2|x>>6,$=x&63;T||($=64,p||(b=64)),s.push(t[A],t[M],t[b],t[$])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(J_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):bE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const c=t[i.charAt(l++)],E=l<i.length?t[i.charAt(l)]:0;++l;const x=l<i.length?t[i.charAt(l)]:64;++l;const M=l<i.length?t[i.charAt(l)]:64;if(++l,c==null||E==null||x==null||M==null)throw new FE;const b=c<<2|E>>4;if(s.push(b),x!==64){const $=E<<4&240|x>>2;if(s.push($),M!==64){const J=x<<6&192|M;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zE=function(i){const e=J_(i);return ey.encodeByteArray(e,!0)},Oc=function(i){return zE(i).replace(/\./g,"")},BE=function(i){try{return ey.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jE=()=>UE().__FIREBASE_DEFAULTS__,HE=()=>{if(typeof process>"u"||typeof sg>"u")return;const i=sg.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},WE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&BE(i[1]);return e&&JSON.parse(e)},kd=()=>{try{return VE()||jE()||HE()||WE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qE=i=>kd()?.emulatorHosts?.[i],$E=i=>{const e=qE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ty=()=>kd()?.config;class ZE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ad(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GE(i){return(await fetch(i,{credentials:"include"})).ok}function KE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Oc(JSON.stringify(t)),Oc(JSON.stringify(p)),""].join(".")}const $l={};function QE(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function XE(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let ag=!1;function YE(i,e){if(typeof window>"u"||typeof document>"u"||!Ad(window.location.host)||$l[i]===e||$l[i]||ag)return;$l[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",c=QE().prod.length>0;function p(){const b=document.getElementById(s);b&&b.remove()}function E(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function T(b,$){b.setAttribute("width","24"),b.setAttribute("id",$),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function x(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ag=!0,p()},b}function A(b,$){b.setAttribute("id",$),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function M(){const b=XE(s),$=t("text"),J=document.getElementById($)||document.createElement("span"),re=t("learnmore"),Y=document.getElementById(re)||document.createElement("a"),me=t("preprendIcon"),pe=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const xe=b.element;E(xe),A(Y,re);const Ne=x();T(pe,me),xe.append(pe,J,Y,Ne),document.body.appendChild(xe)}c?(J.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}function JE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){const i=kd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t1(){return!e1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n1(){try{return typeof indexedDB=="object"}catch{return!1}}function r1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}const i1="FirebaseError";class ul extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=i1,Object.setPrototypeOf(this,ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ny.prototype.create)}}class ny{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?o1(c,s):"Error",E=`${this.serviceName}: ${p} (${l}).`;return new ul(l,E,s)}}function o1(i,e){return i.replace(s1,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const s1=/\{\$([^}]+)}/g;function Vc(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const c=i[l],p=e[l];if(lg(c)&&lg(p)){if(!Vc(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function lg(i){return i!==null&&typeof i=="object"}function Ja(i){return i&&i._delegate?i._delegate:i}class Yl{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class a1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ZE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u1(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,p]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(c);s===E&&p.resolve(l)}return l}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l1(i){return i===ha?void 0:i}function u1(i){return i.instantiationMode==="EAGER"}class c1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Dt||(Dt={}));const h1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},f1=Dt.INFO,d1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},p1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=d1[e];if(l)console[l](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ry{constructor(e){this.name=e,this._logLevel=f1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const m1=(i,e)=>e.some(t=>i instanceof t);let ug,cg;function g1(){return ug||(ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return cg||(cg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,Qf=new WeakMap,oy=new WeakMap,Df=new WeakMap,Rd=new WeakMap;function y1(i){const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{t(bs(i.result)),l()},p=()=>{s(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(t=>{t instanceof IDBCursor&&iy.set(t,i)}).catch(()=>{}),Rd.set(e,i),e}function v1(i){if(Qf.has(i))return;const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{t(),l()},p=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Qf.set(i,e)}let Xf={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Qf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||oy.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function w1(i){Xf=i(Xf)}function E1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Of(this),e,...t);return oy.set(s,e.sort?e.sort():[e]),bs(s)}:_1().includes(i)?function(...e){return i.apply(Of(this),e),bs(iy.get(this))}:function(...e){return bs(i.apply(Of(this),e))}}function T1(i){return typeof i=="function"?E1(i):(i instanceof IDBTransaction&&v1(i),m1(i,g1())?new Proxy(i,Xf):i)}function bs(i){if(i instanceof IDBRequest)return y1(i);if(Df.has(i))return Df.get(i);const e=T1(i);return e!==i&&(Df.set(i,e),Rd.set(e,i)),e}const Of=i=>Rd.get(i);function S1(i,e,{blocked:t,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),E=bs(p);return s&&p.addEventListener("upgradeneeded",T=>{s(bs(p.result),T.oldVersion,T.newVersion,bs(p.transaction),T)}),t&&p.addEventListener("blocked",T=>t(T.oldVersion,T.newVersion,T)),E.then(T=>{c&&T.addEventListener("close",()=>c()),l&&T.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),E}const x1=["get","getKey","getAll","getAllKeys","count"],P1=["put","add","delete","clear"],Vf=new Map;function hg(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=P1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||x1.includes(t)))return;const c=async function(p,...E){const T=this.transaction(p,l?"readwrite":"readonly");let x=T.store;return s&&(x=x.index(E.shift())),(await Promise.all([x[t](...E),l&&T.done]))[0]};return Vf.set(e,c),c}w1(i=>({...i,get:(e,t,s)=>hg(e,t)||i.get(e,t,s),has:(e,t)=>!!hg(e,t)||i.has(e,t)}));class C1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function I1(i){return i.getComponent()?.type==="VERSION"}const Yf="@firebase/app",fg="0.14.6";const ss=new ry("@firebase/app"),k1="@firebase/app-compat",A1="@firebase/analytics-compat",R1="@firebase/analytics",L1="@firebase/app-check-compat",M1="@firebase/app-check",N1="@firebase/auth",D1="@firebase/auth-compat",O1="@firebase/database",V1="@firebase/data-connect",b1="@firebase/database-compat",F1="@firebase/functions",z1="@firebase/functions-compat",B1="@firebase/installations",U1="@firebase/installations-compat",j1="@firebase/messaging",H1="@firebase/messaging-compat",W1="@firebase/performance",q1="@firebase/performance-compat",$1="@firebase/remote-config",Z1="@firebase/remote-config-compat",G1="@firebase/storage",K1="@firebase/storage-compat",Q1="@firebase/firestore",X1="@firebase/ai",Y1="@firebase/firestore-compat",J1="firebase",eT="12.6.0";const Jf="[DEFAULT]",tT={[Yf]:"fire-core",[k1]:"fire-core-compat",[R1]:"fire-analytics",[A1]:"fire-analytics-compat",[M1]:"fire-app-check",[L1]:"fire-app-check-compat",[N1]:"fire-auth",[D1]:"fire-auth-compat",[O1]:"fire-rtdb",[V1]:"fire-data-connect",[b1]:"fire-rtdb-compat",[F1]:"fire-fn",[z1]:"fire-fn-compat",[B1]:"fire-iid",[U1]:"fire-iid-compat",[j1]:"fire-fcm",[H1]:"fire-fcm-compat",[W1]:"fire-perf",[q1]:"fire-perf-compat",[$1]:"fire-rc",[Z1]:"fire-rc-compat",[G1]:"fire-gcs",[K1]:"fire-gcs-compat",[Q1]:"fire-fst",[Y1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};const bc=new Map,nT=new Map,ed=new Map;function dg(i,e){try{i.container.addComponent(e)}catch(t){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Fc(i){const e=i.name;if(ed.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,i);for(const t of bc.values())dg(t,i);for(const t of nT.values())dg(t,i);return!0}function rT(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function iT(i){return i==null?!1:i.settings!==void 0}const oT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new ny("app","Firebase",oT);class sT{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const aT=eT;function sy(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Jf,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(t||(t=ty()),!t)throw Fs.create("no-options");const c=bc.get(l);if(c){if(Vc(t,c.options)&&Vc(s,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const p=new c1(l);for(const T of ed.values())p.addComponent(T);const E=new sT(t,s,p);return bc.set(l,E),E}function lT(i=Jf){const e=bc.get(i);if(!e&&i===Jf&&ty())return sy();if(!e)throw Fs.create("no-app",{appName:i});return e}function Ka(i,e,t){let s=tT[i]??i;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(p.join(" "));return}Fc(new Yl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const uT="firebase-heartbeat-database",cT=1,Jl="firebase-heartbeat-store";let bf=null;function ay(){return bf||(bf=S1(uT,cT,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fs.create("idb-open",{originalErrorMessage:i.message})})),bf}async function hT(i){try{const t=(await ay()).transaction(Jl),s=await t.objectStore(Jl).get(ly(i));return await t.done,s}catch(e){if(e instanceof ul)ss.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e?.message});ss.warn(t.message)}}}async function pg(i,e){try{const s=(await ay()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,ly(i)),await s.done}catch(t){if(t instanceof ul)ss.warn(t.message);else{const s=Fs.create("idb-set",{originalErrorMessage:t?.message});ss.warn(s.message)}}}function ly(i){return`${i.name}!${i.options.appId}`}const fT=1024,dT=30;class pT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>dT){const l=_T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mg(),{heartbeatsToSend:t,unsentEntries:s}=mT(this._heartbeatsCache.heartbeats),l=Oc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ss.warn(e),""}}}function mg(){return new Date().toISOString().substring(0,10)}function mT(i,e=fT){const t=[];let s=i.slice();for(const l of i){const c=t.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),gg(t)>e){c.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),gg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n1()?r1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gg(i){return Oc(JSON.stringify({version:2,heartbeats:i})).length}function _T(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function yT(i){Fc(new Yl("platform-logger",e=>new C1(e),"PRIVATE")),Fc(new Yl("heartbeat",e=>new pT(e),"PRIVATE")),Ka(Yf,fg,i),Ka(Yf,fg,"esm2020"),Ka("fire-js","")}yT("");var _g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zs,uy;(function(){var i;function e(H,z){function j(){}j.prototype=z.prototype,H.F=z.prototype,H.prototype=new j,H.prototype.constructor=H,H.D=function(Z,W,K){for(var U=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)U[vt-2]=arguments[vt];return z.prototype[W].apply(Z,U)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(H,z,j){j||(j=0);const Z=Array(16);if(typeof z=="string")for(var W=0;W<16;++W)Z[W]=z.charCodeAt(j++)|z.charCodeAt(j++)<<8|z.charCodeAt(j++)<<16|z.charCodeAt(j++)<<24;else for(W=0;W<16;++W)Z[W]=z[j++]|z[j++]<<8|z[j++]<<16|z[j++]<<24;z=H.g[0],j=H.g[1],W=H.g[2];let K=H.g[3],U;U=z+(K^j&(W^K))+Z[0]+3614090360&4294967295,z=j+(U<<7&4294967295|U>>>25),U=K+(W^z&(j^W))+Z[1]+3905402710&4294967295,K=z+(U<<12&4294967295|U>>>20),U=W+(j^K&(z^j))+Z[2]+606105819&4294967295,W=K+(U<<17&4294967295|U>>>15),U=j+(z^W&(K^z))+Z[3]+3250441966&4294967295,j=W+(U<<22&4294967295|U>>>10),U=z+(K^j&(W^K))+Z[4]+4118548399&4294967295,z=j+(U<<7&4294967295|U>>>25),U=K+(W^z&(j^W))+Z[5]+1200080426&4294967295,K=z+(U<<12&4294967295|U>>>20),U=W+(j^K&(z^j))+Z[6]+2821735955&4294967295,W=K+(U<<17&4294967295|U>>>15),U=j+(z^W&(K^z))+Z[7]+4249261313&4294967295,j=W+(U<<22&4294967295|U>>>10),U=z+(K^j&(W^K))+Z[8]+1770035416&4294967295,z=j+(U<<7&4294967295|U>>>25),U=K+(W^z&(j^W))+Z[9]+2336552879&4294967295,K=z+(U<<12&4294967295|U>>>20),U=W+(j^K&(z^j))+Z[10]+4294925233&4294967295,W=K+(U<<17&4294967295|U>>>15),U=j+(z^W&(K^z))+Z[11]+2304563134&4294967295,j=W+(U<<22&4294967295|U>>>10),U=z+(K^j&(W^K))+Z[12]+1804603682&4294967295,z=j+(U<<7&4294967295|U>>>25),U=K+(W^z&(j^W))+Z[13]+4254626195&4294967295,K=z+(U<<12&4294967295|U>>>20),U=W+(j^K&(z^j))+Z[14]+2792965006&4294967295,W=K+(U<<17&4294967295|U>>>15),U=j+(z^W&(K^z))+Z[15]+1236535329&4294967295,j=W+(U<<22&4294967295|U>>>10),U=z+(W^K&(j^W))+Z[1]+4129170786&4294967295,z=j+(U<<5&4294967295|U>>>27),U=K+(j^W&(z^j))+Z[6]+3225465664&4294967295,K=z+(U<<9&4294967295|U>>>23),U=W+(z^j&(K^z))+Z[11]+643717713&4294967295,W=K+(U<<14&4294967295|U>>>18),U=j+(K^z&(W^K))+Z[0]+3921069994&4294967295,j=W+(U<<20&4294967295|U>>>12),U=z+(W^K&(j^W))+Z[5]+3593408605&4294967295,z=j+(U<<5&4294967295|U>>>27),U=K+(j^W&(z^j))+Z[10]+38016083&4294967295,K=z+(U<<9&4294967295|U>>>23),U=W+(z^j&(K^z))+Z[15]+3634488961&4294967295,W=K+(U<<14&4294967295|U>>>18),U=j+(K^z&(W^K))+Z[4]+3889429448&4294967295,j=W+(U<<20&4294967295|U>>>12),U=z+(W^K&(j^W))+Z[9]+568446438&4294967295,z=j+(U<<5&4294967295|U>>>27),U=K+(j^W&(z^j))+Z[14]+3275163606&4294967295,K=z+(U<<9&4294967295|U>>>23),U=W+(z^j&(K^z))+Z[3]+4107603335&4294967295,W=K+(U<<14&4294967295|U>>>18),U=j+(K^z&(W^K))+Z[8]+1163531501&4294967295,j=W+(U<<20&4294967295|U>>>12),U=z+(W^K&(j^W))+Z[13]+2850285829&4294967295,z=j+(U<<5&4294967295|U>>>27),U=K+(j^W&(z^j))+Z[2]+4243563512&4294967295,K=z+(U<<9&4294967295|U>>>23),U=W+(z^j&(K^z))+Z[7]+1735328473&4294967295,W=K+(U<<14&4294967295|U>>>18),U=j+(K^z&(W^K))+Z[12]+2368359562&4294967295,j=W+(U<<20&4294967295|U>>>12),U=z+(j^W^K)+Z[5]+4294588738&4294967295,z=j+(U<<4&4294967295|U>>>28),U=K+(z^j^W)+Z[8]+2272392833&4294967295,K=z+(U<<11&4294967295|U>>>21),U=W+(K^z^j)+Z[11]+1839030562&4294967295,W=K+(U<<16&4294967295|U>>>16),U=j+(W^K^z)+Z[14]+4259657740&4294967295,j=W+(U<<23&4294967295|U>>>9),U=z+(j^W^K)+Z[1]+2763975236&4294967295,z=j+(U<<4&4294967295|U>>>28),U=K+(z^j^W)+Z[4]+1272893353&4294967295,K=z+(U<<11&4294967295|U>>>21),U=W+(K^z^j)+Z[7]+4139469664&4294967295,W=K+(U<<16&4294967295|U>>>16),U=j+(W^K^z)+Z[10]+3200236656&4294967295,j=W+(U<<23&4294967295|U>>>9),U=z+(j^W^K)+Z[13]+681279174&4294967295,z=j+(U<<4&4294967295|U>>>28),U=K+(z^j^W)+Z[0]+3936430074&4294967295,K=z+(U<<11&4294967295|U>>>21),U=W+(K^z^j)+Z[3]+3572445317&4294967295,W=K+(U<<16&4294967295|U>>>16),U=j+(W^K^z)+Z[6]+76029189&4294967295,j=W+(U<<23&4294967295|U>>>9),U=z+(j^W^K)+Z[9]+3654602809&4294967295,z=j+(U<<4&4294967295|U>>>28),U=K+(z^j^W)+Z[12]+3873151461&4294967295,K=z+(U<<11&4294967295|U>>>21),U=W+(K^z^j)+Z[15]+530742520&4294967295,W=K+(U<<16&4294967295|U>>>16),U=j+(W^K^z)+Z[2]+3299628645&4294967295,j=W+(U<<23&4294967295|U>>>9),U=z+(W^(j|~K))+Z[0]+4096336452&4294967295,z=j+(U<<6&4294967295|U>>>26),U=K+(j^(z|~W))+Z[7]+1126891415&4294967295,K=z+(U<<10&4294967295|U>>>22),U=W+(z^(K|~j))+Z[14]+2878612391&4294967295,W=K+(U<<15&4294967295|U>>>17),U=j+(K^(W|~z))+Z[5]+4237533241&4294967295,j=W+(U<<21&4294967295|U>>>11),U=z+(W^(j|~K))+Z[12]+1700485571&4294967295,z=j+(U<<6&4294967295|U>>>26),U=K+(j^(z|~W))+Z[3]+2399980690&4294967295,K=z+(U<<10&4294967295|U>>>22),U=W+(z^(K|~j))+Z[10]+4293915773&4294967295,W=K+(U<<15&4294967295|U>>>17),U=j+(K^(W|~z))+Z[1]+2240044497&4294967295,j=W+(U<<21&4294967295|U>>>11),U=z+(W^(j|~K))+Z[8]+1873313359&4294967295,z=j+(U<<6&4294967295|U>>>26),U=K+(j^(z|~W))+Z[15]+4264355552&4294967295,K=z+(U<<10&4294967295|U>>>22),U=W+(z^(K|~j))+Z[6]+2734768916&4294967295,W=K+(U<<15&4294967295|U>>>17),U=j+(K^(W|~z))+Z[13]+1309151649&4294967295,j=W+(U<<21&4294967295|U>>>11),U=z+(W^(j|~K))+Z[4]+4149444226&4294967295,z=j+(U<<6&4294967295|U>>>26),U=K+(j^(z|~W))+Z[11]+3174756917&4294967295,K=z+(U<<10&4294967295|U>>>22),U=W+(z^(K|~j))+Z[2]+718787259&4294967295,W=K+(U<<15&4294967295|U>>>17),U=j+(K^(W|~z))+Z[9]+3951481745&4294967295,H.g[0]=H.g[0]+z&4294967295,H.g[1]=H.g[1]+(W+(U<<21&4294967295|U>>>11))&4294967295,H.g[2]=H.g[2]+W&4294967295,H.g[3]=H.g[3]+K&4294967295}s.prototype.v=function(H,z){z===void 0&&(z=H.length);const j=z-this.blockSize,Z=this.C;let W=this.h,K=0;for(;K<z;){if(W==0)for(;K<=j;)l(this,H,K),K+=this.blockSize;if(typeof H=="string"){for(;K<z;)if(Z[W++]=H.charCodeAt(K++),W==this.blockSize){l(this,Z),W=0;break}}else for(;K<z;)if(Z[W++]=H[K++],W==this.blockSize){l(this,Z),W=0;break}}this.h=W,this.o+=z},s.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var z=1;z<H.length-8;++z)H[z]=0;z=this.o*8;for(var j=H.length-8;j<H.length;++j)H[j]=z&255,z/=256;for(this.v(H),H=Array(16),z=0,j=0;j<4;++j)for(let Z=0;Z<32;Z+=8)H[z++]=this.g[j]>>>Z&255;return H};function c(H,z){var j=E;return Object.prototype.hasOwnProperty.call(j,H)?j[H]:j[H]=z(H)}function p(H,z){this.h=z;const j=[];let Z=!0;for(let W=H.length-1;W>=0;W--){const K=H[W]|0;Z&&K==z||(j[W]=K,Z=!1)}this.g=j}var E={};function T(H){return-128<=H&&H<128?c(H,function(z){return new p([z|0],z<0?-1:0)}):new p([H|0],H<0?-1:0)}function x(H){if(isNaN(H)||!isFinite(H))return M;if(H<0)return Y(x(-H));const z=[];let j=1;for(let Z=0;H>=j;Z++)z[Z]=H/j|0,j*=4294967296;return new p(z,0)}function A(H,z){if(H.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(H.charAt(0)=="-")return Y(A(H.substring(1),z));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=x(Math.pow(z,8));let Z=M;for(let K=0;K<H.length;K+=8){var W=Math.min(8,H.length-K);const U=parseInt(H.substring(K,K+W),z);W<8?(W=x(Math.pow(z,W)),Z=Z.j(W).add(x(U))):(Z=Z.j(j),Z=Z.add(x(U)))}return Z}var M=T(0),b=T(1),$=T(16777216);i=p.prototype,i.m=function(){if(re(this))return-Y(this).m();let H=0,z=1;for(let j=0;j<this.g.length;j++){const Z=this.i(j);H+=(Z>=0?Z:4294967296+Z)*z,z*=4294967296}return H},i.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(J(this))return"0";if(re(this))return"-"+Y(this).toString(H);const z=x(Math.pow(H,6));var j=this;let Z="";for(;;){const W=Ne(j,z).g;j=me(j,W.j(z));let K=((j.g.length>0?j.g[0]:j.h)>>>0).toString(H);if(j=W,J(j))return K+Z;for(;K.length<6;)K="0"+K;Z=K+Z}},i.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function J(H){if(H.h!=0)return!1;for(let z=0;z<H.g.length;z++)if(H.g[z]!=0)return!1;return!0}function re(H){return H.h==-1}i.l=function(H){return H=me(this,H),re(H)?-1:J(H)?0:1};function Y(H){const z=H.g.length,j=[];for(let Z=0;Z<z;Z++)j[Z]=~H.g[Z];return new p(j,~H.h).add(b)}i.abs=function(){return re(this)?Y(this):this},i.add=function(H){const z=Math.max(this.g.length,H.g.length),j=[];let Z=0;for(let W=0;W<=z;W++){let K=Z+(this.i(W)&65535)+(H.i(W)&65535),U=(K>>>16)+(this.i(W)>>>16)+(H.i(W)>>>16);Z=U>>>16,K&=65535,U&=65535,j[W]=U<<16|K}return new p(j,j[j.length-1]&-2147483648?-1:0)};function me(H,z){return H.add(Y(z))}i.j=function(H){if(J(this)||J(H))return M;if(re(this))return re(H)?Y(this).j(Y(H)):Y(Y(this).j(H));if(re(H))return Y(this.j(Y(H)));if(this.l($)<0&&H.l($)<0)return x(this.m()*H.m());const z=this.g.length+H.g.length,j=[];for(var Z=0;Z<2*z;Z++)j[Z]=0;for(Z=0;Z<this.g.length;Z++)for(let W=0;W<H.g.length;W++){const K=this.i(Z)>>>16,U=this.i(Z)&65535,vt=H.i(W)>>>16,Xt=H.i(W)&65535;j[2*Z+2*W]+=U*Xt,pe(j,2*Z+2*W),j[2*Z+2*W+1]+=K*Xt,pe(j,2*Z+2*W+1),j[2*Z+2*W+1]+=U*vt,pe(j,2*Z+2*W+1),j[2*Z+2*W+2]+=K*vt,pe(j,2*Z+2*W+2)}for(H=0;H<z;H++)j[H]=j[2*H+1]<<16|j[2*H];for(H=z;H<2*z;H++)j[H]=0;return new p(j,0)};function pe(H,z){for(;(H[z]&65535)!=H[z];)H[z+1]+=H[z]>>>16,H[z]&=65535,z++}function xe(H,z){this.g=H,this.h=z}function Ne(H,z){if(J(z))throw Error("division by zero");if(J(H))return new xe(M,M);if(re(H))return z=Ne(Y(H),z),new xe(Y(z.g),Y(z.h));if(re(z))return z=Ne(H,Y(z)),new xe(Y(z.g),z.h);if(H.g.length>30){if(re(H)||re(z))throw Error("slowDivide_ only works with positive integers.");for(var j=b,Z=z;Z.l(H)<=0;)j=qe(j),Z=qe(Z);var W=Fe(j,1),K=Fe(Z,1);for(Z=Fe(Z,2),j=Fe(j,2);!J(Z);){var U=K.add(Z);U.l(H)<=0&&(W=W.add(j),K=U),Z=Fe(Z,1),j=Fe(j,1)}return z=me(H,W.j(z)),new xe(W,z)}for(W=M;H.l(z)>=0;){for(j=Math.max(1,Math.floor(H.m()/z.m())),Z=Math.ceil(Math.log(j)/Math.LN2),Z=Z<=48?1:Math.pow(2,Z-48),K=x(j),U=K.j(z);re(U)||U.l(H)>0;)j-=Z,K=x(j),U=K.j(z);J(K)&&(K=b),W=W.add(K),H=me(H,U)}return new xe(W,H)}i.B=function(H){return Ne(this,H).h},i.and=function(H){const z=Math.max(this.g.length,H.g.length),j=[];for(let Z=0;Z<z;Z++)j[Z]=this.i(Z)&H.i(Z);return new p(j,this.h&H.h)},i.or=function(H){const z=Math.max(this.g.length,H.g.length),j=[];for(let Z=0;Z<z;Z++)j[Z]=this.i(Z)|H.i(Z);return new p(j,this.h|H.h)},i.xor=function(H){const z=Math.max(this.g.length,H.g.length),j=[];for(let Z=0;Z<z;Z++)j[Z]=this.i(Z)^H.i(Z);return new p(j,this.h^H.h)};function qe(H){const z=H.g.length+1,j=[];for(let Z=0;Z<z;Z++)j[Z]=H.i(Z)<<1|H.i(Z-1)>>>31;return new p(j,H.h)}function Fe(H,z){const j=z>>5;z%=32;const Z=H.g.length-j,W=[];for(let K=0;K<Z;K++)W[K]=z>0?H.i(K+j)>>>z|H.i(K+j+1)<<32-z:H.i(K+j);return new p(W,H.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uy=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=x,p.fromString=A,zs=p}).apply(typeof _g<"u"?_g:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cy,Hl,hy,Cc,td,fy,dy,py;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var v=0;v<h.length;++v){var P=h[v];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var s=t(this);function l(h,v){if(v)e:{var P=s;h=h.split(".");for(var O=0;O<h.length-1;O++){var te=h[O];if(!(te in P))break e;P=P[te]}h=h[h.length-1],O=P[h],v=v(O),v!=O&&v!=null&&e(P,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var P=[],O;for(O in v)Object.prototype.hasOwnProperty.call(v,O)&&P.push([O,v[O]]);return P}});var c=c||{},p=this||self;function E(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function T(h,v,P){return h.call.apply(h.bind,arguments)}function x(h,v,P){return x=T,x.apply(null,arguments)}function A(h,v){var P=Array.prototype.slice.call(arguments,1);return function(){var O=P.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function M(h,v){function P(){}P.prototype=v.prototype,h.Z=v.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(O,te,ue){for(var Me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Me[rt-2]=arguments[rt];return v.prototype[te].apply(O,Me)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function $(h){const v=h.length;if(v>0){const P=Array(v);for(let O=0;O<v;O++)P[O]=h[O];return P}return[]}function J(h,v){for(let O=1;O<arguments.length;O++){const te=arguments[O];var P=typeof te;if(P=P!="object"?P:te?Array.isArray(te)?"array":P:"null",P=="array"||P=="object"&&typeof te.length=="number"){P=h.length||0;const ue=te.length||0;h.length=P+ue;for(let Me=0;Me<ue;Me++)h[P+Me]=te[Me]}else h.push(te)}}class re{constructor(v,P){this.i=v,this.j=P,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(h){p.setTimeout(()=>{throw h},0)}function me(){var h=H;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class pe{constructor(){this.h=this.g=null}add(v,P){const O=xe.get();O.set(v,P),this.h?this.h.next=O:this.g=O,this.h=O}}var xe=new re(()=>new Ne,h=>h.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(v,P){this.h=v,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,Fe=!1,H=new pe,z=()=>{const h=Promise.resolve(void 0);qe=()=>{h.then(j)}};function j(){for(var h;h=me();){try{h.h.call(h.g)}catch(P){Y(P)}var v=xe;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}Fe=!1}function Z(){this.u=this.u,this.C=this.C}Z.prototype.u=!1,Z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Z.prototype[Symbol.dispose]=function(){this.dispose()},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};p.addEventListener("test",P,v),p.removeEventListener("test",P,v)}catch{}return h})();function U(h){return/^[\s\xa0]*$/.test(h)}function vt(h,v){W.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}M(vt,W),vt.prototype.init=function(h,v){const P=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(P=="mouseover"?v=h.fromElement:P=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),Lt=0;function Mt(h,v,P,O,te){this.listener=h,this.proxy=null,this.src=v,this.type=P,this.capture=!!O,this.ha=te,this.key=++Lt,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h,v,P){for(const O in h)v.call(P,h[O],O,h)}function ve(h,v){for(const P in h)v.call(void 0,h[P],P,h)}function Q(h){const v={};for(const P in h)v[P]=h[P];return v}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(h,v){let P,O;for(let te=1;te<arguments.length;te++){O=arguments[te];for(P in O)h[P]=O[P];for(let ue=0;ue<ye.length;ue++)P=ye[ue],Object.prototype.hasOwnProperty.call(O,P)&&(h[P]=O[P])}}function je(h){this.src=h,this.g={},this.h=0}je.prototype.add=function(h,v,P,O,te){const ue=h.toString();h=this.g[ue],h||(h=this.g[ue]=[],this.h++);const Me=De(h,v,O,te);return Me>-1?(v=h[Me],P||(v.fa=!1)):(v=new Mt(v,this.src,ue,!!O,te),v.fa=P,h.push(v)),v};function Be(h,v){const P=v.type;if(P in h.g){var O=h.g[P],te=Array.prototype.indexOf.call(O,v,void 0),ue;(ue=te>=0)&&Array.prototype.splice.call(O,te,1),ue&&(_e(v),h.g[P].length==0&&(delete h.g[P],h.h--))}}function De(h,v,P,O){for(let te=0;te<h.length;++te){const ue=h[te];if(!ue.da&&ue.listener==v&&ue.capture==!!P&&ue.ha==O)return te}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),ht={};function _t(h,v,P,O,te){if(Array.isArray(v)){for(let ue=0;ue<v.length;ue++)_t(h,v[ue],P,O,te);return null}return P=_r(P),h&&h[Xt]?h.J(v,P,E(O)?!!O.capture:!1,te):qt(h,v,P,!1,O,te)}function qt(h,v,P,O,te,ue){if(!v)throw Error("Invalid event type");const Me=E(te)?!!te.capture:!!te;let rt=Mr(h);if(rt||(h[dt]=rt=new je(h)),P=rt.add(v,P,O,Me,ue),P.proxy)return P;if(O=vn(),P.proxy=O,O.src=h,O.listener=P,h.addEventListener)K||(te=Me),te===void 0&&(te=!1),h.addEventListener(v.toString(),O,te);else if(h.attachEvent)h.attachEvent(qn(v.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return P}function vn(){function h(P){return v.call(h.src,h.listener,P)}const v=Wi;return h}function gr(h,v,P,O,te){if(Array.isArray(v))for(var ue=0;ue<v.length;ue++)gr(h,v[ue],P,O,te);else O=E(O)?!!O.capture:!!O,P=_r(P),h&&h[Xt]?(h=h.i,ue=String(v).toString(),ue in h.g&&(v=h.g[ue],P=De(v,P,O,te),P>-1&&(_e(v[P]),Array.prototype.splice.call(v,P,1),v.length==0&&(delete h.g[ue],h.h--)))):h&&(h=Mr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=De(v,P,O,te)),(P=h>-1?v[h]:null)&&Ut(P))}function Ut(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Xt])Be(v.i,h);else{var P=h.type,O=h.proxy;v.removeEventListener?v.removeEventListener(P,O,h.capture):v.detachEvent?v.detachEvent(qn(P),O):v.addListener&&v.removeListener&&v.removeListener(O),(P=Mr(v))?(Be(P,h),P.h==0&&(P.src=null,v[dt]=null)):_e(h)}}}function qn(h){return h in ht?ht[h]:ht[h]="on"+h}function Wi(h,v){if(h.da)h=!0;else{v=new vt(v,this);const P=h.listener,O=h.ha||h.src;h.fa&&Ut(h),h=P.call(O,v)}return h}function Mr(h){return h=h[dt],h instanceof je?h:null}var qr="__closure_events_fn_"+(Math.random()*1e9>>>0);function _r(h){return typeof h=="function"?h:(h[qr]||(h[qr]=function(v){return h.handleEvent(v)}),h[qr])}function jt(){Z.call(this),this.i=new je(this),this.M=this,this.G=null}M(jt,Z),jt.prototype[Xt]=!0,jt.prototype.removeEventListener=function(h,v,P,O){gr(this,h,v,P,O)};function Bt(h,v){var P,O=h.G;if(O)for(P=[];O;O=O.G)P.push(O);if(h=h.M,O=v.type||v,typeof v=="string")v=new W(v,h);else if(v instanceof W)v.target=v.target||h;else{var te=v;v=new W(O,h),Ke(v,te)}te=!0;let ue,Me;if(P)for(Me=P.length-1;Me>=0;Me--)ue=v.g=P[Me],te=On(ue,O,!0,v)&&te;if(ue=v.g=h,te=On(ue,O,!0,v)&&te,te=On(ue,O,!1,v)&&te,P)for(Me=0;Me<P.length;Me++)ue=v.g=P[Me],te=On(ue,O,!1,v)&&te}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const P=h.g[v];for(let O=0;O<P.length;O++)_e(P[O]);delete h.g[v],h.h--}}this.G=null},jt.prototype.J=function(h,v,P,O){return this.i.add(String(h),v,!1,P,O)},jt.prototype.K=function(h,v,P,O){return this.i.add(String(h),v,!0,P,O)};function On(h,v,P,O){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let te=!0;for(let ue=0;ue<v.length;++ue){const Me=v[ue];if(Me&&!Me.da&&Me.capture==P){const rt=Me.listener,Tt=Me.ha||Me.src;Me.fa&&Be(h.i,Me),te=rt.call(Tt,O)!==!1&&te}}return te&&!O.defaultPrevented}function $n(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:p.setTimeout(h,v||0)}function tn(h){h.g=$n(()=>{h.g=null,h.i&&(h.i=!1,tn(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ho extends Z{constructor(v,P){super(),this.m=v,this.l=P,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:tn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(h){Z.call(this),this.h=h,this.g={}}M($r,Z);var ai=[];function li(h){ze(h.g,function(v,P){this.g.hasOwnProperty(P)&&Ut(v)},h),h.g={}}$r.prototype.N=function(){$r.Z.N.call(this),li(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=p.JSON.stringify,fo=p.JSON.parse,Zr=class{stringify(h){return p.JSON.stringify(h,void 0)}parse(h){return p.JSON.parse(h,void 0)}};function Gr(){}function qi(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ui(){W.call(this,"d")}M(ui,W);function $i(){W.call(this,"c")}M($i,W);var yr={},Nr=null;function ci(){return Nr=Nr||new jt}yr.Ia="serverreachability";function wn(h){W.call(this,yr.Ia,h)}M(wn,W);function rr(h){const v=ci();Bt(v,new wn(v))}yr.STAT_EVENT="statevent";function Zn(h,v){W.call(this,yr.STAT_EVENT,h),this.stat=v}M(Zn,W);function tt(h){const v=ci();Bt(v,new Zn(v,h))}yr.Ja="timingevent";function Kr(h,v){W.call(this,yr.Ja,h),this.size=v}M(Kr,W);function vr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){h()},v)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function wr(h,v,P,O,te,ue){h.info(function(){if(h.g)if(ue){var Me="",rt=ue.split("&");for(let Rt=0;Rt<rt.length;Rt++){var Tt=rt[Rt].split("=");if(Tt.length>1){const _=Tt[0];Tt=Tt[1];const C=_.split("_");Me=C.length>=2&&C[1]=="type"?Me+(_+"="+Tt+"&"):Me+(_+"=redacted&")}}}else Me=null;else Me=ue;return"XMLHTTP REQ ("+O+") [attempt "+te+"]: "+v+`
`+P+`
`+Me})}function Ii(h,v,P,O,te,ue,Me){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+te+"]: "+v+`
`+P+`
`+ue+" "+Me})}function dn(h,v,P,O){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qr(h,P)+(O?" "+O:"")})}function ki(h,v){h.info(function(){return"TIMEOUT: "+v})}ir.prototype.info=function(){};function Qr(h,v){if(!h.g)return v;if(!v)return null;try{const ue=JSON.parse(v);if(ue){for(h=0;h<ue.length;h++)if(Array.isArray(ue[h])){var P=ue[h];if(!(P.length<2)){var O=P[1];if(Array.isArray(O)&&!(O.length<1)){var te=O[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Me=1;Me<O.length;Me++)O[Me]=""}}}}return tr(ue)}catch{return v}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function Yt(){}M(Yt,Gr),Yt.prototype.g=function(){return new XMLHttpRequest},po=new Yt;function be(h){return encodeURIComponent(String(h))}function Ai(h){var v=1;h=h.split(":");const P=[];for(;v>0&&h.length;)P.push(h.shift()),v--;return h.length&&P.push(h.join(":")),P}function pn(h,v,P,O){this.j=h,this.i=v,this.l=P,this.S=O||1,this.V=new $r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var hi={},Yr={};function or(h,v,P){h.M=1,h.A=xt(sn(v)),h.u=P,h.R=!0,Vn(h,null)}function Vn(h,v){h.F=Date.now(),Er(h),h.B=sn(h.A);var P=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),Pn(P.i,"t",O),h.C=0,P=h.j.L,h.h=new Zi,h.g=Ro(h.j,P?v:null,!h.u),h.P>0&&(h.O=new ho(x(h.Y,h,h.g),h.P)),v=h.V,P=h.g,O=h.ba;var te="readystatechange";Array.isArray(te)||(te&&(ai[0]=te.toString()),te=ai);for(let ue=0;ue<te.length;ue++){const Me=_t(P,te[ue],O||v.handleEvent,!1,v.h||v);if(!Me)break;v.g[Me.key]=Me}v=h.J?Q(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),rr(),wr(h.i,h.v,h.B,h.l,h.S,h.u)}pn.prototype.ba=function(h){h=h.target;const v=this.O;v&&xr(h)==3?v.j():this.Y(h)},pn.prototype.Y=function(h){try{if(h==this.g)e:{const rt=xr(this.g),Tt=this.g.ya(),Rt=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||ei(this.g)))){this.K||rt!=4||Tt==7||(Tt==8||Rt<=0?rr(3):rr(2)),di(this);var v=this.g.ca();this.X=v;var P=mo(this);if(this.o=v==200,Ii(this.i,this.v,this.B,this.l,this.S,rt,v),this.o){if(this.U&&!this.L){t:{if(this.g){var O,te=this.g;if((O=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(O)){var ue=O;break t}}ue=null}if(h=ue)dn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ot(this,h);else{this.o=!1,this.m=3,tt(12),Gn(this),pi(this);break e}}if(this.R){h=!0;let _;for(;!this.K&&this.C<P.length;)if(_=Ri(this,P),_==Yr){rt==4&&(this.m=4,tt(14),h=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(_==hi){this.m=4,tt(15),dn(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else dn(this.i,this.l,_,null),Ot(this,_);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.m=1,tt(16),h=!1),this.o=this.o&&h,!h)dn(this.i,this.l,P,"[Invalid Chunked Response]"),Gn(this),pi(this);else if(P.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ti(Me),Me.P=!0,tt(11))}}else dn(this.i,this.l,P,null),Ot(this,P);rt==4&&Gn(this),this.o&&!this.K&&(rt==4?gn(this.j,this):(this.o=!1,Er(this)))}else Ki(this.g),v==400&&P.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),Gn(this),pi(this)}}}catch{}finally{}};function mo(h){if(!Gi(h))return h.g.la();const v=ei(h.g);if(v==="")return"";let P="";const O=v.length,te=xr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Gn(h),pi(h),"";h.h.i=new p.TextDecoder}for(let ue=0;ue<O;ue++)h.h.h=!0,P+=h.h.i.decode(v[ue],{stream:!(te&&ue==O-1)});return v.length=0,h.h.g+=P,h.C=0,h.h.g}function Gi(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ri(h,v){var P=h.C,O=v.indexOf(`
`,P);return O==-1?Yr:(P=Number(v.substring(P,O)),isNaN(P)?hi:(O+=1,O+P>v.length?Yr:(v=v.slice(O,O+P),h.C=O+P,v)))}pn.prototype.cancel=function(){this.K=!0,Gn(this)};function Er(h){h.T=Date.now()+h.H,fi(h,h.H)}function fi(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vr(x(h.aa,h),v)}function di(h){h.D&&(p.clearTimeout(h.D),h.D=null)}pn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ki(this.i,this.B),this.M!=2&&(rr(),tt(17)),Gn(this),this.m=2,pi(this)):fi(this,this.T-h)};function pi(h){h.j.I==0||h.K||gn(h.j,h)}function Gn(h){di(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,li(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ot(h,v){try{var P=h.j;if(P.I!=0&&(P.g==h||mi(P.h,h))){if(!h.L&&mi(P.h,h)&&P.I==3){try{var O=P.Ba.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var te=O;if(te[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)Xi(P),ur(P);else break e;_i(P),tt(18)}}else P.xa=te[1],0<P.xa-P.K&&te[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=vr(x(P.Va,P),6e3));Jr(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ln(P,11)}else if((h.L||P.g==h)&&Xi(P),!U(v))for(te=P.Ba.g.parse(v),v=0;v<te.length;v++){let Rt=te[v];const _=Rt[0];if(!(_<=P.K))if(P.K=_,Rt=Rt[1],P.I==2)if(Rt[0]=="c"){P.M=Rt[1],P.ba=Rt[2];const C=Rt[3];C!=null&&(P.ka=C,P.j.info("VER="+P.ka));const N=Rt[4];N!=null&&(P.za=N,P.j.info("SVER="+P.za));const V=Rt[5];V!=null&&typeof V=="number"&&V>0&&(O=1.5*V,P.O=O,P.j.info("backChannelRequestTimeoutMs_="+O)),O=P;const ie=h.g;if(ie){const ne=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var ue=O.h;ue.g||ne.indexOf("spdy")==-1&&ne.indexOf("quic")==-1&&ne.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Tn(ue,ue.h),ue.h=null))}if(O.G){const ge=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(O.wa=ge,Oe(O.J,O.G,ge))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),O=P;var Me=h;if(O.na=go(O,O.L?O.ba:null,O.W),Me.L){Kn(O.h,Me);var rt=Me,Tt=O.O;Tt&&(rt.H=Tt),rt.D&&(di(rt),Er(rt)),O.g=Me}else an(O);P.i.length>0&&Pr(P)}else Rt[0]!="stop"&&Rt[0]!="close"||Ln(P,7);else P.I==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Ln(P,7):mt(P):Rt[0]!="noop"&&P.l&&P.l.qa(Rt),P.A=0)}}rr(4)}catch{}}var En=class{constructor(h,v){this.g=h,this.map=v}};function Li(h){this.l=h||10,p.PerformanceNavigationTiming?(h=p.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Jr(h){return h.h?1:h.g?h.g.size:0}function mi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Tn(h,v){h.g?h.g.add(v):h.h=v}function Kn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Li.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sn(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const P of h.g.values())v=v.concat(P.G);return v}return $(h.i)}var sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nt(h,v){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const O=h[P].indexOf("=");let te,ue=null;O>=0?(te=h[P].substring(0,O),ue=h[P].substring(O+1)):te=h[P],v(te,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function wt(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof wt?(this.l=h.l,bn(this,h.j),this.o=h.o,this.g=h.g,nn(this,h.u),this.h=h.h,Tr(this,rn(h.i)),this.m=h.m):h&&(v=String(h).match(sr))?(this.l=!1,bn(this,v[1]||"",!0),this.o=y(v[2]||""),this.g=y(v[3]||"",!0),nn(this,v[4]),this.h=y(v[5]||"",!0),Tr(this,v[6]||"",!0),this.m=y(v[7]||"")):(this.l=!1,this.i=new Re(null,this.l))}wt.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(I(v,F,!0),":");var P=this.g;return(P||v=="file")&&(h.push("//"),(v=this.o)&&h.push(I(v,F,!0),"@"),h.push(be(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(I(P,P.charAt(0)=="/"?ee:ae,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",I(P,Ce)),h.join("")},wt.prototype.resolve=function(h){const v=sn(this);let P=!!h.j;P?bn(v,h.j):P=!!h.o,P?v.o=h.o:P=!!h.g,P?v.g=h.g:P=h.u!=null;var O=h.h;if(P)nn(v,h.u);else if(P=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var te=v.h.lastIndexOf("/");te!=-1&&(O=v.h.slice(0,te+1)+O)}if(te=O,te==".."||te==".")O="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){O=te.lastIndexOf("/",0)==0,te=te.split("/");const ue=[];for(let Me=0;Me<te.length;){const rt=te[Me++];rt=="."?O&&Me==te.length&&ue.push(""):rt==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),O&&Me==te.length&&ue.push("")):(ue.push(rt),O=!0)}O=ue.join("/")}else O=te}return P?v.h=O:P=h.i.toString()!=="",P?Tr(v,rn(h.i)):P=!!h.m,P&&(v.m=h.m),v};function sn(h){return new wt(h)}function bn(h,v,P){h.j=P?y(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function nn(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Tr(h,v,P){v instanceof Re?(h.i=v,Fn(h.i,h.l)):(P||(v=I(v,he)),h.i=new Re(v,h.l))}function Oe(h,v,P){h.i.set(v,P)}function xt(h){return Oe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function y(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function I(h,v,P){return typeof h=="string"?(h=encodeURI(h).replace(v,D),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function D(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var F=/[#\/\?@]/g,ae=/[#\?:]/g,ee=/[#\?]/g,he=/[#\?@]/g,Ce=/#/g;function Re(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ze(h){h.g||(h.g=new Map,h.h=0,h.i&&nt(h.i,function(v,P){h.add(decodeURIComponent(v.replace(/\+/g," ")),P)}))}i=Re.prototype,i.add=function(h,v){Ze(this),this.i=null,h=mn(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(v),this.h+=1,this};function ot(h,v){Ze(h),v=mn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Pt(h,v){return Ze(h),v=mn(h,v),h.g.has(v)}i.forEach=function(h,v){Ze(this),this.g.forEach(function(P,O){P.forEach(function(te){h.call(v,te,O,this)},this)},this)};function xn(h,v){Ze(h);let P=[];if(typeof v=="string")Pt(h,v)&&(P=P.concat(h.g.get(mn(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)P=P.concat(h[v]);return P}i.set=function(h,v){return Ze(this),this.i=null,h=mn(this,h),Pt(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=xn(this,h),h.length>0?String(h[0]):v):v};function Pn(h,v,P){ot(h,v),P.length>0&&(h.i=null,h.g.set(mn(h,v),$(P)),h.h+=P.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let O=0;O<v.length;O++){var P=v[O];const te=be(P);P=xn(this,P);for(let ue=0;ue<P.length;ue++){let Me=te;P[ue]!==""&&(Me+="="+be(P[ue])),h.push(Me)}}return this.i=h.join("&")};function rn(h){const v=new Re;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function mn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Fn(h,v){v&&!h.j&&(Ze(h),h.i=null,h.g.forEach(function(P,O){const te=O.toLowerCase();O!=te&&(ot(this,O),Pn(this,te,P))},h)),h.j=v}function Cn(h,v){const P=new ir;if(p.Image){const O=new Image;O.onload=A(Zt,P,"TestLoadImage: loaded",!0,v,O),O.onerror=A(Zt,P,"TestLoadImage: error",!1,v,O),O.onabort=A(Zt,P,"TestLoadImage: abort",!1,v,O),O.ontimeout=A(Zt,P,"TestLoadImage: timeout",!1,v,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else v(!1)}function In(h,v){const P=new ir,O=new AbortController,te=setTimeout(()=>{O.abort(),Zt(P,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:O.signal}).then(ue=>{clearTimeout(te),ue.ok?Zt(P,"TestPingServer: ok",!0,v):Zt(P,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(te),Zt(P,"TestPingServer: error",!1,v)})}function Zt(h,v,P,O,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),O(P)}catch{}}function ar(){this.g=new Zr}function Je(h){this.i=h.Sb||null,this.h=h.ab||!1}M(Je,Gr),Je.prototype.g=function(){return new Gt(this.i,this.h)};function Gt(h,v){jt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}M(Gt,jt),i=Gt.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Sr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||p).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vt(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vt(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ni(this):Sr(this),this.readyState==3&&Vt(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ni(this))},i.Na=function(h){this.g&&(this.response=h,Ni(this))},i.ga=function(){this.g&&Ni(this)};function Ni(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Sr(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var P=v.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=v.next();return h.join(`\r
`)};function Sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ao(h){let v="";return ze(h,function(P,O){v+=O,v+=":",v+=P,v+=`\r
`}),v}function zn(h,v,P){e:{for(O in P){var O=!1;break e}O=!0}O||(P=Ao(P),typeof h=="string"?P!=null&&be(P):Oe(h,v,P))}function Et(h){jt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}M(Et,jt);var Di=/^https?$/i,It=["POST","PUT"];i=Et.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,P,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=b(x(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ue){Ft(this,ue);return}if(h=P||"",P=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var te in O)P.set(te,O[te]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ue of O.keys())P.set(ue,O.get(ue));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(P.keys()).find(ue=>ue.toLowerCase()=="content-type"),te=p.FormData&&h instanceof p.FormData,!(Array.prototype.indexOf.call(It,v,void 0)>=0)||O||te||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Me]of P)this.g.setRequestHeader(ue,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ue){Ft(this,ue)}};function Ft(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,kn(h),An(h)}function kn(h){h.A||(h.A=!0,Bt(h,"complete"),Bt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Bt(this,"complete"),Bt(this,"abort"),An(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),An(this,!0)),Et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},i.Xa=function(){lr(this)};function lr(h){if(h.h&&typeof c<"u"){if(h.v&&xr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Bt(h,"readystatechange"),xr(h)==4){h.h=!1;try{const ue=h.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var P;if(!(P=v)){var O;if(O=ue===0){let Me=String(h.D).match(sr)[1]||null;!Me&&p.self&&p.self.location&&(Me=p.self.location.protocol.slice(0,-1)),O=!Di.test(Me?Me.toLowerCase():"")}P=O}if(P)Bt(h,"complete"),Bt(h,"success");else{h.o=6;try{var te=xr(h)>2?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.ca()+"]",kn(h)}}finally{An(h)}}}}function An(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,v||Bt(h,"ready");try{P.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function xr(h){return h.g?h.g.readyState:0}i.ca=function(){try{return xr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),fo(v)}};function ei(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const v={};h=(h.g&&xr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(U(h[O]))continue;var P=Ai(h[O]);const te=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ue=v[te]||[];v[te]=ue,ue.push(P)}ve(v,function(O){return O.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(h,v,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||v}function Oi(h){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,h),this.Za=Or("retryDelaySeedMs",1e4,h),this.Ta=Or("forwardChannelMaxRetries",2,h),this.va=Or("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Li(h&&h.concurrentRequestLimit),this.Ba=new ar,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Oi.prototype,i.ka=8,i.I=1,i.connect=function(h,v,P,O){tt(0),this.W=h,this.H=v||{},P&&O!==void 0&&(this.H.OSID=P,this.H.OAID=O),this.F=this.X,this.J=go(this,null,this.W),Pr(this)};function mt(h){if(Rn(h),h.I==3){var v=h.V++,P=sn(h.J);if(Oe(P,"SID",h.M),Oe(P,"RID",v),Oe(P,"TYPE","terminate"),Cr(h,P),v=new pn(h,h.j,v),v.M=2,v.A=xt(sn(P)),P=!1,p.navigator&&p.navigator.sendBeacon)try{P=p.navigator.sendBeacon(v.A.toString(),"")}catch{}!P&&p.Image&&(new Image().src=v.A,P=!0),P||(v.g=Ro(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Er(v)}Qn(h)}function ur(h){h.g&&(ti(h),h.g.cancel(),h.g=null)}function Rn(h){ur(h),h.v&&(p.clearTimeout(h.v),h.v=null),Xi(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&p.clearTimeout(h.m),h.m=null)}function Pr(h){if(!Mi(h.h)&&!h.m){h.m=!0;var v=h.Ea;qe||z(),Fe||(qe(),Fe=!0),H.add(v,h),h.D=0}}function Wo(h,v){return Jr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vr(x(h.Ea,h,v),vi(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const te=new pn(this,this.j,h);let ue=this.o;if(this.U&&(ue?(ue=Q(ue),Ke(ue,this.U)):ue=this.U),this.u!==null||this.R||(te.J=ue,ue=null),this.S)e:{for(var v=0,P=0;P<this.i.length;P++){t:{var O=this.i[P];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,v>4096){v=P;break e}if(v===4096||P===this.i.length-1){v=P+1;break e}}v=1e3}else v=1e3;v=Qi(this,te,v),P=sn(this.J),Oe(P,"RID",h),Oe(P,"CVER",22),this.G&&Oe(P,"X-HTTP-Session-Id",this.G),Cr(this,P),ue&&(this.R?v="headers="+be(Ao(ue))+"&"+v:this.u&&zn(P,this.u,ue)),Tn(this.h,te),this.Ra&&Oe(P,"TYPE","init"),this.S?(Oe(P,"$req",v),Oe(P,"SID","null"),te.U=!0,or(te,P,null)):or(te,P,v),this.I=2}}else this.I==3&&(h?gi(this,h):this.i.length==0||Mi(this.h)||gi(this))};function gi(h,v){var P;v?P=v.l:P=h.V++;const O=sn(h.J);Oe(O,"SID",h.M),Oe(O,"RID",P),Oe(O,"AID",h.K),Cr(h,O),h.u&&h.o&&zn(O,h.u,h.o),P=new pn(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Qi(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Tn(h.h,P),or(P,O,v)}function Cr(h,v){h.H&&ze(h.H,function(P,O){Oe(v,O,P)}),h.l&&ze({},function(P,O){Oe(v,O,P)})}function Qi(h,v,P){P=Math.min(h.i.length,P);const O=h.l?x(h.l.Ka,h.l,h):null;e:{var te=h.i;let rt=-1;for(;;){const Tt=["count="+P];rt==-1?P>0?(rt=te[0].g,Tt.push("ofs="+rt)):rt=0:Tt.push("ofs="+rt);let Rt=!0;for(let _=0;_<P;_++){var ue=te[_].g;const C=te[_].map;if(ue-=rt,ue<0)rt=Math.max(0,te[_].g-100),Rt=!1;else try{ue="req"+ue+"_"||"";try{var Me=C instanceof Map?C:Object.entries(C);for(const[N,V]of Me){let ie=V;E(V)&&(ie=tr(V)),Tt.push(ue+N+"="+encodeURIComponent(ie))}}catch(N){throw Tt.push(ue+"type="+encodeURIComponent("_badmap")),N}}catch{O&&O(C)}}if(Rt){Me=Tt.join("&");break e}}Me=void 0}return h=h.i.splice(0,P),v.G=h,Me}function an(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;qe||z(),Fe||(qe(),Fe=!0),H.add(v,h),h.A=0}}function _i(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vr(x(h.Da,h),vi(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,yi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vr(x(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),ur(this),yi(this))};function ti(h){h.B!=null&&(p.clearTimeout(h.B),h.B=null)}function yi(h){h.g=new pn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=sn(h.na);Oe(v,"RID","rpc"),Oe(v,"SID",h.M),Oe(v,"AID",h.K),Oe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Oe(v,"TO",h.ia),Oe(v,"TYPE","xmlhttp"),Cr(h,v),h.u&&h.o&&zn(v,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=xt(sn(v)),P.u=null,P.R=!0,Vn(P,h)}i.Va=function(){this.C!=null&&(this.C=null,ur(this),_i(this),tt(19))};function Xi(h){h.C!=null&&(p.clearTimeout(h.C),h.C=null)}function gn(h,v){var P=null;if(h.g==v){Xi(h),ti(h),h.g=null;var O=2}else if(mi(h.h,v))P=v.G,Kn(h.h,v),O=1;else return;if(h.I!=0){if(v.o)if(O==1){P=v.u?v.u.length:0,v=Date.now()-v.F;var te=h.D;O=ci(),Bt(O,new Kr(O,P)),Pr(h)}else an(h);else if(te=v.m,te==3||te==0&&v.X>0||!(O==1&&Wo(h,v)||O==2&&_i(h)))switch(P&&P.length>0&&(v=h.h,v.i=v.i.concat(P)),te){case 1:Ln(h,5);break;case 4:Ln(h,10);break;case 3:Ln(h,6);break;default:Ln(h,2)}}}function vi(h,v){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*v}function Ln(h,v){if(h.j.info("Error code "+v),v==2){var P=x(h.bb,h),O=h.Ua;const te=!O;O=new wt(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||bn(O,"https"),xt(O),te?Cn(O.toString(),P):In(O.toString(),P)}else tt(2);h.I=0,h.l&&h.l.pa(v),Qn(h),Rn(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Qn(h){if(h.I=0,h.ja=[],h.l){const v=Sn(h.h);(v.length!=0||h.i.length!=0)&&(J(h.ja,v),J(h.ja,h.i),h.h.i.length=0,$(h.i),h.i.length=0),h.l.oa()}}function go(h,v,P){var O=P instanceof wt?sn(P):new wt(P);if(O.g!="")v&&(O.g=v+"."+O.g),nn(O,O.u);else{var te=p.location;O=te.protocol,v=v?v+"."+te.hostname:te.hostname,te=+te.port;const ue=new wt(null);O&&bn(ue,O),v&&(ue.g=v),te&&nn(ue,te),P&&(ue.h=P),O=ue}return P=h.G,v=h.wa,P&&v&&Oe(O,P,v),Oe(O,"VER",h.ka),Cr(h,O),O}function Ro(h,v,P){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Et(new Je({ab:P})):new Et(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yi(){}i=Yi.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function _n(){}_n.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){jt.call(this),this.g=new Oi(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!U(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Vi(this)}M(ln,jt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){mt(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=tr(h),h=P);v.i.push(new En(v.Ya++,h)),v.I==3&&Pr(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,mt(this.g),delete this.g,ln.Z.N.call(this)};function _o(h){ui.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const P in v){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}M(_o,ui);function cs(){$i.call(this),this.status=1}M(cs,$i);function Vi(h){this.g=h}M(Vi,Yi),Vi.prototype.ra=function(){Bt(this.g,"a")},Vi.prototype.qa=function(h){Bt(this.g,new _o(h))},Vi.prototype.pa=function(h){Bt(this.g,new cs)},Vi.prototype.oa=function(){Bt(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,py=function(){return new _n},dy=function(){return ci()},fy=yr,td={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Cc=Dr,Xr.COMPLETE="complete",hy=Xr,qi.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Hl=qi,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,cy=Et}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const yg="@firebase/firestore",vg="4.9.2";class Hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");let cl="12.3.0";const da=new ry("@firebase/firestore");function qa(){return da.logLevel}function He(i,...e){if(da.logLevel<=Dt.DEBUG){const t=e.map(Ld);da.debug(`Firestore (${cl}): ${i}`,...t)}}function as(i,...e){if(da.logLevel<=Dt.ERROR){const t=e.map(Ld);da.error(`Firestore (${cl}): ${i}`,...t)}}function el(i,...e){if(da.logLevel<=Dt.WARN){const t=e.map(Ld);da.warn(`Firestore (${cl}): ${i}`,...t)}}function Ld(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function ct(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,my(i,s,t)}function my(i,e,t){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw as(s),new Error(s)}function Wt(i,e,t,s){let l="Unexpected state";typeof t=="string"?l=t:s=t,i||my(e,l,s)}function gt(i,e){return i}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends ul{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class gy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hr.UNAUTHENTICATED)))}shutdown(){}}class wT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ET{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Wt(this.o===void 0,42304);let s=this.i;const l=T=>this.i!==s?(s=this.i,t(T)):Promise.resolve();let c=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Bs,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const T=c;e.enqueueRetryable((async()=>{await T.promise,await l(this.currentUser)}))},E=T=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((T=>E(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Bs)}}),0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new gy(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new Hr(e)}}class TT{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ST{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new TT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Wt(this.o===void 0,3512);const s=c=>{c.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,He("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PT(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Md{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=PT(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<t&&(s+=e.charAt(l[c]%62))}return s}}function kt(i,e){return i<e?-1:i>e?1:0}function nd(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const l=i.charAt(s),c=e.charAt(s);if(l!==c)return Ff(l)===Ff(c)?kt(l,c):Ff(l)?1:-1}return kt(i.length,e.length)}const CT=55296,IT=57343;function Ff(i){const e=i.charCodeAt(0);return e>=CT&&e<=IT}function tl(i,e,t){return i.length===e.length&&i.every(((s,l)=>t(s,e[l])))}const Eg="__name__";class zo{constructor(e,t,s){t===void 0?t=0:t>e.length&&ct(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ct(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return zo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const c=zo.compareSegments(e.get(l),t.get(l));if(c!==0)return c}return kt(e.length,t.length)}static compareSegments(e,t){const s=zo.isNumericId(e),l=zo.isNumericId(t);return s&&!l?-1:!s&&l?1:s&&l?zo.extractNumericId(e).compare(zo.extractNumericId(t)):nd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class Qt extends zo{construct(e,t,s){return new Qt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new We(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((l=>l.length>0)))}return new Qt(t)}static emptyPath(){return new Qt([])}}const kT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends zo{construct(e,t,s){return new Rr(e,t,s)}static isValidIdentifier(e){return kT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Eg}static keyField(){return new Rr([Eg])}static fromServerFormat(e){const t=[];let s="",l=0;const c=()=>{if(s.length===0)throw new We(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;l<e.length;){const E=e[l];if(E==="\\"){if(l+1===e.length)throw new We(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const T=e[l+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new We(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=T,l+=2}else E==="`"?(p=!p,l++):E!=="."||p?(s+=E,l++):(c(),l++)}if(c(),p)throw new We(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(Qt.fromString(e))}static fromName(e){return new et(Qt.fromString(e).popFirst(5))}static empty(){return new et(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Qt(e.slice()))}}function _y(i,e,t){if(!t)throw new We(we.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function AT(i,e,t,s){if(e===!0&&s===!0)throw new We(we.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Tg(i){if(!et.isDocumentKey(i))throw new We(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Sg(i){if(et.isDocumentKey(i))throw new We(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yy(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ct(12329,{type:typeof i})}function zc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new We(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nh(i);throw new We(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Wn(i,e){const t={typeString:i};return e&&(t.value=e),t}function hu(i,e){if(!yy(i))throw new We(we.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const p=i[s];if(l&&typeof p!==l){t=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new We(we.INVALID_ARGUMENT,t);return!0}const xg=-62135596800,Pg=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Pg);return new en(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new We(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new We(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xg)throw new We(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pg}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:en._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,en._jsonSchema))return new en(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}en._jsonSchemaVersion="firestore/timestamp/1.0",en._jsonSchema={type:Wn("string",en._jsonSchemaVersion),seconds:Wn("number"),nanoseconds:Wn("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new en(0,0))}static max(){return new pt(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function RT(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=pt.fromTimestamp(s===1e9?new en(t+1,0):new en(t,s));return new js(l,et.empty(),e)}function LT(i){return new js(i.readTime,i.key,eu)}class js{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new js(pt.min(),et.empty(),eu)}static max(){return new js(pt.max(),et.empty(),eu)}}function MT(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=et.comparator(i.documentKey,e.documentKey),t!==0?t:kt(i.largestBatchId,e.largestBatchId))}const NT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(i){if(i.code!==we.FAILED_PRECONDITION||i.message!==NT)throw i;He("LocalStore","Unexpectedly lost primary lease")}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ee.reject(t)}static resolve(e){return new Ee(((t,s)=>{t(e)}))}static reject(e){return new Ee(((t,s)=>{s(e)}))}static waitFor(e){return new Ee(((t,s)=>{let l=0,c=0,p=!1;e.forEach((E=>{++l,E.next((()=>{++c,p&&c===l&&t()}),(T=>s(T)))})),p=!0,c===l&&t()}))}static or(e){let t=Ee.resolve(!1);for(const s of e)t=t.next((l=>l?Ee.resolve(l):s()));return t}static forEach(e,t){const s=[];return e.forEach(((l,c)=>{s.push(t.call(this,l,c))})),this.waitFor(s)}static mapArray(e,t){return new Ee(((s,l)=>{const c=e.length,p=new Array(c);let E=0;for(let T=0;T<c;T++){const x=T;t(e[x]).next((A=>{p[x]=A,++E,E===c&&s(p)}),(A=>l(A)))}}))}static doWhile(e,t){return new Ee(((s,l)=>{const c=()=>{e()===!0?t().next((()=>{c()}),l):s()};c()}))}}function OT(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(i){return i.name==="IndexedDbTransactionError"}class rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;const Nd=-1;function ih(i){return i==null}function Bc(i){return i===0&&1/i==-1/0}function VT(i){return typeof i=="number"&&Number.isInteger(i)&&!Bc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const vy="";function bT(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Cg(e)),e=FT(i.get(t),e);return Cg(e)}function FT(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":t+="";break;case vy:t+="";break;default:t+=c}}return t}function Cg(i){return i+vy+""}function Ig(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ga(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function wy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class fn{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}}class gc{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,t,s,l,c){this.key=e,this.value=t,this.color=s??Ar.RED,this.left=l??Ar.EMPTY,this.right=c??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,c){return new Ar(e??this.key,t??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,t,s),null):c===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return Ar.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,t,s,l,c){return this}insert(e,t,s){return new Ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kg(this.data.getIterator())}getIteratorFrom(e){return new kg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class kg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xo{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new xo([])}unionWith(e){let t=new er(Rr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Ey extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ey("Invalid base64 string: "+c):c}})(e);return new Lr(t)}static fromUint8Array(e){const t=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const zT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(i){if(Wt(!!i,39018),typeof i=="string"){let e=0;const t=zT.exec(i);if(Wt(!!t,46558,{timestamp:i}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dn(i.seconds),nanos:Dn(i.nanos)}}function Dn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ws(i){return typeof i=="string"?Lr.fromBase64String(i):Lr.fromUint8Array(i)}const Ty="server_timestamp",Sy="__type__",xy="__previous_value__",Py="__local_write_time__";function Dd(i){return(i?.mapValue?.fields||{})[Sy]?.stringValue===Ty}function oh(i){const e=i.mapValue.fields[xy];return Dd(e)?oh(e):e}function tu(i){const e=Hs(i.mapValue.fields[Py].timestampValue);return new en(e.seconds,e.nanos)}class BT{constructor(e,t,s,l,c,p,E,T,x,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=E,this.longPollingOptions=T,this.useFetchStreams=x,this.isUsingEmulator=A}}const Uc="(default)";class nu{constructor(e,t){this.projectId=e,this.database=t||Uc}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const Cy="__type__",UT="__max__",_c={mapValue:{}},Iy="__vector__",jc="value";function qs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Dd(i)?4:HT(i)?9007199254740991:jT(i)?10:11:ct(28295,{value:i})}function Ho(i,e){if(i===e)return!0;const t=qs(i);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tu(i).isEqual(tu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Hs(l.timestampValue),E=Hs(c.timestampValue);return p.seconds===E.seconds&&p.nanos===E.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return Ws(l.bytesValue).isEqual(Ws(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return Dn(l.geoPointValue.latitude)===Dn(c.geoPointValue.latitude)&&Dn(l.geoPointValue.longitude)===Dn(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Dn(l.integerValue)===Dn(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=Dn(l.doubleValue),E=Dn(c.doubleValue);return p===E?Bc(p)===Bc(E):isNaN(p)&&isNaN(E)}return!1})(i,e);case 9:return tl(i.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},E=c.mapValue.fields||{};if(Ig(p)!==Ig(E))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(E[T]===void 0||!Ho(p[T],E[T])))return!1;return!0})(i,e);default:return ct(52216,{left:i})}}function ru(i,e){return(i.values||[]).find((t=>Ho(t,e)))!==void 0}function nl(i,e){if(i===e)return 0;const t=qs(i),s=qs(e);if(t!==s)return kt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const E=Dn(c.integerValue||c.doubleValue),T=Dn(p.integerValue||p.doubleValue);return E<T?-1:E>T?1:E===T?0:isNaN(E)?isNaN(T)?0:-1:1})(i,e);case 3:return Ag(i.timestampValue,e.timestampValue);case 4:return Ag(tu(i),tu(e));case 5:return nd(i.stringValue,e.stringValue);case 6:return(function(c,p){const E=Ws(c),T=Ws(p);return E.compareTo(T)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const E=c.split("/"),T=p.split("/");for(let x=0;x<E.length&&x<T.length;x++){const A=kt(E[x],T[x]);if(A!==0)return A}return kt(E.length,T.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const E=kt(Dn(c.latitude),Dn(p.latitude));return E!==0?E:kt(Dn(c.longitude),Dn(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Rg(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const E=c.fields||{},T=p.fields||{},x=E[jc]?.arrayValue,A=T[jc]?.arrayValue,M=kt(x?.values?.length||0,A?.values?.length||0);return M!==0?M:Rg(x,A)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_c.mapValue&&p===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(p===_c.mapValue)return-1;const E=c.fields||{},T=Object.keys(E),x=p.fields||{},A=Object.keys(x);T.sort(),A.sort();for(let M=0;M<T.length&&M<A.length;++M){const b=nd(T[M],A[M]);if(b!==0)return b;const $=nl(E[T[M]],x[A[M]]);if($!==0)return $}return kt(T.length,A.length)})(i.mapValue,e.mapValue);default:throw ct(23264,{he:t})}}function Ag(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return kt(i,e);const t=Hs(i),s=Hs(e),l=kt(t.seconds,s.seconds);return l!==0?l:kt(t.nanos,s.nanos)}function Rg(i,e){const t=i.values||[],s=e.values||[];for(let l=0;l<t.length&&l<s.length;++l){const c=nl(t[l],s[l]);if(c)return c}return kt(t.length,s.length)}function rl(i){return rd(i)}function rd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Hs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ws(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return et.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",l=!0;for(const c of t.values||[])l?l=!1:s+=",",s+=rd(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${rd(t.fields[p])}`;return l+"}"})(i.mapValue):ct(61005,{value:i})}function Ic(i){switch(qs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(i);return e?16+Ic(e):16;case 5:return 2*i.stringValue.length;case 6:return Ws(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Ic(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let l=0;return ga(s.fields,((c,p)=>{l+=c.length+Ic(p)})),l})(i.mapValue);default:throw ct(13486,{value:i})}}function Lg(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function id(i){return!!i&&"integerValue"in i}function Od(i){return!!i&&"arrayValue"in i}function Mg(i){return!!i&&"nullValue"in i}function Ng(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kc(i){return!!i&&"mapValue"in i}function jT(i){return(i?.mapValue?.fields||{})[Cy]?.stringValue===Iy}function Zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ga(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Zl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zl(i.arrayValue.values[t]);return e}return{...i}}function HT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UT}class uo{constructor(e){this.value=e}static empty(){return new uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(t)}setAll(e){let t=Rr.emptyPath(),s={},l=[];e.forEach(((p,E)=>{if(!t.isImmediateParentOf(E)){const T=this.getFieldsMap(t);this.applyChanges(T,s,l),s={},l=[],t=E.popLast()}p?s[E.lastSegment()]=Zl(p):l.push(E.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,l)}delete(e){const t=this.field(e.popLast());kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){ga(t,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new uo(Zl(this.value))}}function ky(i){const e=[];return ga(i.fields,((t,s)=>{const l=new Rr([t]);if(kc(s)){const c=ky(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new xo(e)}class Wr{constructor(e,t,s,l,c,p,E){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=E}static newInvalidDocument(e){return new Wr(e,0,pt.min(),pt.min(),pt.min(),uo.empty(),0)}static newFoundDocument(e,t,s,l){return new Wr(e,1,t,pt.min(),s,l,0)}static newNoDocument(e,t){return new Wr(e,2,t,pt.min(),pt.min(),uo.empty(),0)}static newUnknownDocument(e,t){return new Wr(e,3,t,pt.min(),pt.min(),uo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function Dg(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?s=et.comparator(et.fromName(p.referenceValue),t.key):s=nl(p,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Og(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ho(i.position[t],e.position[t]))return!1;return!0}class Wc{constructor(e,t="asc"){this.field=e,this.dir=t}}function WT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ay{}class Hn extends Ay{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new $T(e,t,s):t==="array-contains"?new KT(e,s):t==="in"?new QT(e,s):t==="not-in"?new XT(e,s):t==="array-contains-any"?new YT(e,s):new Hn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ZT(e,s):new GT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Io extends Ay{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Io(e,t)}matches(e){return Ry(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ry(i){return i.op==="and"}function Ly(i){return qT(i)&&Ry(i)}function qT(i){for(const e of i.filters)if(e instanceof Io)return!1;return!0}function od(i){if(i instanceof Hn)return i.field.canonicalString()+i.op.toString()+rl(i.value);if(Ly(i))return i.filters.map((e=>od(e))).join(",");{const e=i.filters.map((t=>od(t))).join(",");return`${i.op}(${e})`}}function My(i,e){return i instanceof Hn?(function(s,l){return l instanceof Hn&&s.op===l.op&&s.field.isEqual(l.field)&&Ho(s.value,l.value)})(i,e):i instanceof Io?(function(s,l){return l instanceof Io&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,E)=>c&&My(p,l.filters[E])),!0):!1})(i,e):void ct(19439)}function Ny(i){return i instanceof Hn?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(i):i instanceof Io?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ny).join(" ,")+"}"})(i):"Filter"}class $T extends Hn{constructor(e,t,s){super(e,t,s),this.key=et.fromName(s.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZT extends Hn{constructor(e,t){super(e,"in",t),this.keys=Dy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class GT extends Hn{constructor(e,t){super(e,"not-in",t),this.keys=Dy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Dy(i,e){return(e.arrayValue?.values||[]).map((t=>et.fromName(t.referenceValue)))}class KT extends Hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Od(t)&&ru(t.arrayValue,this.value)}}class QT extends Hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class XT extends Hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ru(this.value.arrayValue,t)}}class YT extends Hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Od(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class JT{constructor(e,t=null,s=[],l=[],c=null,p=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=E,this.Te=null}}function Vg(i,e=null,t=[],s=[],l=null,c=null,p=null){return new JT(i,e,t,s,l,c,p)}function Vd(i){const e=gt(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>od(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>rl(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>rl(s))).join(",")),e.Te=t}return e.Te}function bd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!WT(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!My(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Og(i.startAt,e.startAt)&&Og(i.endAt,e.endAt)}function sd(i){return et.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class fu{constructor(e,t=null,s=[],l=[],c=null,p="F",E=null,T=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=E,this.endAt=T,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eS(i,e,t,s,l,c,p,E){return new fu(i,e,t,s,l,c,p,E)}function Oy(i){return new fu(i)}function bg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Vy(i){return i.collectionGroup!==null}function Gl(i){const e=gt(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let E=new er(Rr.comparator);return p.filters.forEach((T=>{T.getFlattenedFilters().forEach((x=>{x.isInequality()&&(E=E.add(x.field))}))})),E})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wc(c,s))})),t.has(Rr.keyField().canonicalString())||e.Ie.push(new Wc(Rr.keyField(),s))}return e.Ie}function Bo(i){const e=gt(i);return e.Ee||(e.Ee=tS(e,Gl(i))),e.Ee}function tS(i,e){if(i.limitType==="F")return Vg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const t=i.endAt?new Hc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hc(i.startAt.position,i.startAt.inclusive):null;return Vg(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ad(i,e){const t=i.filters.concat([e]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ld(i,e,t){return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function sh(i,e){return bd(Bo(i),Bo(e))&&i.limitType===e.limitType}function by(i){return`${Vd(Bo(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((l=>Ny(l))).join(", ")}]`),ih(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((l=>rl(l))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((l=>rl(l))).join(",")),`Target(${s})`})(Bo(i))}; limitType=${i.limitType})`}function ah(i,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):et.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,l){for(const c of Gl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(s,l){return!(s.startAt&&!(function(p,E,T){const x=Dg(p,E,T);return p.inclusive?x<=0:x<0})(s.startAt,Gl(s),l)||s.endAt&&!(function(p,E,T){const x=Dg(p,E,T);return p.inclusive?x>=0:x>0})(s.endAt,Gl(s),l))})(i,e)}function nS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Fy(i){return(e,t)=>{let s=!1;for(const l of Gl(i)){const c=rS(l,e,t);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function rS(i,e,t){const s=i.field.isKeyField()?et.comparator(e.key,t.key):(function(c,p,E){const T=p.data.field(c),x=E.data.field(c);return T!==null&&x!==null?nl(T,x):ct(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ct(19790,{direction:i.dir})}}class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((t,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return wy(this.inner)}size(){return this.innerSize}}const iS=new fn(et.comparator);function ls(){return iS}const zy=new fn(et.comparator);function Wl(...i){let e=zy;for(const t of i)e=e.insert(t.key,t);return e}function By(i){let e=zy;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function fa(){return Kl()}function Uy(){return Kl()}function Kl(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const oS=new fn(et.comparator),sS=new er(et.comparator);function At(...i){let e=sS;for(const t of i)e=e.add(t);return e}const aS=new er(kt);function lS(){return aS}function Fd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function jy(i){return{integerValue:""+i}}function uS(i,e){return VT(e)?jy(e):Fd(i,e)}class lh{constructor(){this._=void 0}}function cS(i,e,t){return i instanceof qc?(function(l,c){const p={fields:{[Sy]:{stringValue:Ty},[Py]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dd(c)&&(c=oh(c)),c&&(p.fields[xy]=c),{mapValue:p}})(t,e):i instanceof iu?Wy(i,e):i instanceof ou?qy(i,e):(function(l,c){const p=Hy(l,c),E=Fg(p)+Fg(l.Ae);return id(p)&&id(l.Ae)?jy(E):Fd(l.serializer,E)})(i,e)}function hS(i,e,t){return i instanceof iu?Wy(i,e):i instanceof ou?qy(i,e):t}function Hy(i,e){return i instanceof $c?(function(s){return id(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class qc extends lh{}class iu extends lh{constructor(e){super(),this.elements=e}}function Wy(i,e){const t=$y(e);for(const s of i.elements)t.some((l=>Ho(l,s)))||t.push(s);return{arrayValue:{values:t}}}class ou extends lh{constructor(e){super(),this.elements=e}}function qy(i,e){let t=$y(e);for(const s of i.elements)t=t.filter((l=>!Ho(l,s)));return{arrayValue:{values:t}}}class $c extends lh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fg(i){return Dn(i.integerValue||i.doubleValue)}function $y(i){return Od(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function fS(i,e){return i.field.isEqual(e.field)&&(function(s,l){return s instanceof iu&&l instanceof iu||s instanceof ou&&l instanceof ou?tl(s.elements,l.elements,Ho):s instanceof $c&&l instanceof $c?Ho(s.Ae,l.Ae):s instanceof qc&&l instanceof qc})(i.transform,e.transform)}class dS{constructor(e,t){this.version=e,this.transformResults=t}}class is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class uh{}function Zy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ky(i.key,is.none()):new du(i.key,i.data,is.none());{const t=i.data,s=uo.empty();let l=new er(Rr.comparator);for(let c of e.fields)if(!l.has(c)){let p=t.field(c);p===null&&c.length>1&&(c=c.popLast(),p=t.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new ya(i.key,s,new xo(l.toArray()),is.none())}}function pS(i,e,t){i instanceof du?(function(l,c,p){const E=l.value.clone(),T=Bg(l.fieldTransforms,c,p.transformResults);E.setAll(T),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(i,e,t):i instanceof ya?(function(l,c,p){if(!Ac(l.precondition,c))return void c.convertToUnknownDocument(p.version);const E=Bg(l.fieldTransforms,c,p.transformResults),T=c.data;T.setAll(Gy(l)),T.setAll(E),c.convertToFoundDocument(p.version,T).setHasCommittedMutations()})(i,e,t):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,t)}function Ql(i,e,t,s){return i instanceof du?(function(c,p,E,T){if(!Ac(c.precondition,p))return E;const x=c.value.clone(),A=Ug(c.fieldTransforms,T,p);return x.setAll(A),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),null})(i,e,t,s):i instanceof ya?(function(c,p,E,T){if(!Ac(c.precondition,p))return E;const x=Ug(c.fieldTransforms,T,p),A=p.data;return A.setAll(Gy(c)),A.setAll(x),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),E===null?null:E.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((M=>M.field)))})(i,e,t,s):(function(c,p,E){return Ac(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):E})(i,e,t)}function mS(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=Hy(s.transform,l||null);c!=null&&(t===null&&(t=uo.empty()),t.set(s.field,c))}return t||null}function zg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&tl(s,l,((c,p)=>fS(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends uh{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ya extends uh{constructor(e,t,s,l,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Gy(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function Bg(i,e,t){const s=new Map;Wt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let l=0;l<t.length;l++){const c=i[l],p=c.transform,E=e.data.field(c.field);s.set(c.field,hS(p,E,t[l]))}return s}function Ug(i,e,t){const s=new Map;for(const l of i){const c=l.transform,p=t.data.field(l.field);s.set(l.field,cS(c,p,e))}return s}class Ky extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gS extends uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _S{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&pS(c,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Uy();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let E=this.applyToLocalView(p,c.mutatedFields);E=t.has(l.key)?null:E;const T=Zy(p,E);T!==null&&s.set(l.key,T),p.isValidDocument()||p.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),At())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((t,s)=>zg(t,s)))&&tl(this.baseMutations,e.baseMutations,((t,s)=>zg(t,s)))}}class zd{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Wt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return oS})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new zd(e,t,s,l)}}class yS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vS{constructor(e,t){this.count=e,this.unchangedNames=t}}var jn,Nt;function wS(i){switch(i){case we.OK:return ct(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return ct(15467,{code:i})}}function Qy(i){if(i===void 0)return as("GRPC error has no .code"),we.UNKNOWN;switch(i){case jn.OK:return we.OK;case jn.CANCELLED:return we.CANCELLED;case jn.UNKNOWN:return we.UNKNOWN;case jn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case jn.INTERNAL:return we.INTERNAL;case jn.UNAVAILABLE:return we.UNAVAILABLE;case jn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case jn.NOT_FOUND:return we.NOT_FOUND;case jn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case jn.ABORTED:return we.ABORTED;case jn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case jn.DATA_LOSS:return we.DATA_LOSS;default:return ct(39323,{code:i})}}(Nt=jn||(jn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";function ES(){return new TextEncoder}const TS=new zs([4294967295,4294967295],0);function jg(i){const e=ES().encode(i),t=new uy;return t.update(e),new Uint8Array(t.digest())}function Hg(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new zs([t,s],0),new zs([l,c],0)]}class Bd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ql(`Invalid padding: ${t}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ql(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=zs.fromNumber(this.ge)}ye(e,t,s){let l=e.add(t.multiply(zs.fromNumber(s)));return l.compare(TS)===1&&(l=new zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=jg(e),[s,l]=Hg(t);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Bd(c,l,t);return s.forEach((E=>p.insert(E))),p}insert(e){if(this.ge===0)return;const t=jg(e),[s,l]=Hg(t);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ch{constructor(e,t,s,l,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ch(pt.min(),l,new fn(kt),ls(),At())}}class pu{constructor(e,t,s,l,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pu(s,t,At(),At(),At())}}class Rc{constructor(e,t,s,l){this.be=e,this.removedTargetIds=t,this.key=s,this.De=l}}class Xy{constructor(e,t){this.targetId=e,this.Ce=t}}class Yy{constructor(e,t,s=Lr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class Wg{constructor(){this.ve=0,this.Fe=qg(),this.Me=Lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=At(),t=At(),s=At();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:ct(38017,{changeType:c})}})),new pu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=qg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=yc(),this.He=yc(),this.Ye=new fn(kt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,s=e.Ce.count,l=this.ot(t);if(l){const c=l.target;if(sd(c))if(s===0){const p=new et(c.path);this.et(t,p,Wr.newNoDocument(p,pt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const p=this._t(t);if(p!==s){const E=this.ut(e),T=E?this.ct(E,e,p):1;if(T!==0){this.it(t);const x=T===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=t;let p,E;try{p=Ws(s).toUint8Array()}catch(T){if(T instanceof Ey)return el("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw T}try{E=new Bd(p,l,c)}catch(T){return el(T instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",T),null}return E.ge===0?null:E}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),E=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(E)||(this.et(t,c,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((c,p)=>{const E=this.ot(p);if(E){if(c.current&&sd(E.target)){const T=new et(E.target.path);this.It(T).has(p)||this.Et(p,T)||this.et(p,T,Wr.newNoDocument(T,e))}c.Be&&(t.set(p,c.ke()),c.qe())}}));let s=At();this.He.forEach(((c,p)=>{let E=!0;p.forEachWhile((T=>{const x=this.ot(T);return!x||x.purpose==="TargetPurposeLimboResolution"||(E=!1,!1)})),E&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new ch(e,t,this.Ye,this.je,s);return this.je=ls(),this.Je=yc(),this.He=yc(),this.Ye=new fn(kt),l}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.Qe(t,1):l.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wg,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new er(kt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new er(kt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wg),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yc(){return new fn(et.comparator)}function qg(){return new fn(et.comparator)}const xS={asc:"ASCENDING",desc:"DESCENDING"},PS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CS={and:"AND",or:"OR"};class IS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ud(i,e){return i.useProto3Json||ih(e)?e:{value:e}}function Zc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function kS(i,e){return Zc(i,e.toTimestamp())}function Uo(i){return Wt(!!i,49232),pt.fromTimestamp((function(t){const s=Hs(t);return new en(s.seconds,s.nanos)})(i))}function Ud(i,e){return cd(i,e).canonicalString()}function cd(i,e){const t=(function(l){return new Qt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?t:t.child(e)}function ev(i){const e=Qt.fromString(i);return Wt(ov(e),10190,{key:e.toString()}),e}function hd(i,e){return Ud(i.databaseId,e.path)}function zf(i,e){const t=ev(e);if(t.get(1)!==i.databaseId.projectId)throw new We(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new We(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new et(nv(t))}function tv(i,e){return Ud(i.databaseId,e)}function AS(i){const e=ev(i);return e.length===4?Qt.emptyPath():nv(e)}function fd(i){return new Qt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nv(i){return Wt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function $g(i,e,t){return{name:hd(i,e),fields:t.value.mapValue.fields}}function RS(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:ct(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(x,A){return x.useProto3Json?(Wt(A===void 0||typeof A=="string",58123),Lr.fromBase64String(A||"")):(Wt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Lr.fromUint8Array(A||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,E=p&&(function(x){const A=x.code===void 0?we.UNKNOWN:Qy(x.code);return new We(A,x.message||"")})(p);t=new Yy(s,l,c,E||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=zf(i,s.document.name),c=Uo(s.document.updateTime),p=s.document.createTime?Uo(s.document.createTime):pt.min(),E=new uo({mapValue:{fields:s.document.fields}}),T=Wr.newFoundDocument(l,c,p,E),x=s.targetIds||[],A=s.removedTargetIds||[];t=new Rc(x,A,T.key,T)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=zf(i,s.document),c=s.readTime?Uo(s.readTime):pt.min(),p=Wr.newNoDocument(l,c),E=s.removedTargetIds||[];t=new Rc([],E,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=zf(i,s.document),c=s.removedTargetIds||[];t=new Rc([],c,l,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new vS(l,c),E=s.targetId;t=new Xy(E,p)}}return t}function LS(i,e){let t;if(e instanceof du)t={update:$g(i,e.key,e.value)};else if(e instanceof Ky)t={delete:hd(i,e.key)};else if(e instanceof ya)t={update:$g(i,e.key,e.data),updateMask:BS(e.fieldMask)};else{if(!(e instanceof gS))return ct(16599,{Vt:e.type});t={verify:hd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const E=p.transform;if(E instanceof qc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof iu)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof ou)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof $c)return{fieldPath:p.field.canonicalString(),increment:E.Ae};throw ct(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kS(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ct(27497)})(i,e.precondition)),t}function MS(i,e){return i&&i.length>0?(Wt(e!==void 0,14353),i.map((t=>(function(l,c){let p=l.updateTime?Uo(l.updateTime):Uo(c);return p.isEqual(pt.min())&&(p=Uo(c)),new dS(p,l.transformResults||[])})(t,e)))):[]}function NS(i,e){return{documents:[tv(i,e.path)]}}function DS(i,e){const t={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=tv(i,l);const c=(function(x){if(x.length!==0)return iv(Io.create(x,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const p=(function(x){if(x.length!==0)return x.map((A=>(function(b){return{field:Za(b.field),direction:bS(b.dir)}})(A)))})(e.orderBy);p&&(t.structuredQuery.orderBy=p);const E=ud(i,e.limit);return E!==null&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:l}}function OS(i){let e=AS(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Wt(s===1,65062);const A=t.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];t.where&&(c=(function(M){const b=rv(M);return b instanceof Io&&Ly(b)?b.getFilters():[b]})(t.where));let p=[];t.orderBy&&(p=(function(M){return M.map((b=>(function(J){return new Wc(Ga(J.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(b)))})(t.orderBy));let E=null;t.limit&&(E=(function(M){let b;return b=typeof M=="object"?M.value:M,ih(b)?null:b})(t.limit));let T=null;t.startAt&&(T=(function(M){const b=!!M.before,$=M.values||[];return new Hc($,b)})(t.startAt));let x=null;return t.endAt&&(x=(function(M){const b=!M.before,$=M.values||[];return new Hc($,b)})(t.endAt)),eS(e,l,p,c,E,"F",T,x)}function VS(i,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rv(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ga(t.unaryFilter.field);return Hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(t.unaryFilter.field);return Hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(t.unaryFilter.field);return Hn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ga(t.unaryFilter.field);return Hn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Hn.create(Ga(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Io.create(t.compositeFilter.filters.map((s=>rv(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(t.compositeFilter.op))})(i):ct(30097,{filter:i})}function bS(i){return xS[i]}function FS(i){return PS[i]}function zS(i){return CS[i]}function Za(i){return{fieldPath:i.canonicalString()}}function Ga(i){return Rr.fromServerFormat(i.fieldPath)}function iv(i){return i instanceof Hn?(function(t){if(t.op==="=="){if(Ng(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if(Mg(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ng(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if(Mg(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:FS(t.op),value:t.value}}})(i):i instanceof Io?(function(t){const s=t.getFilters().map((l=>iv(l)));return s.length===1?s[0]:{compositeFilter:{op:zS(t.op),filters:s}}})(i):ct(54877,{filter:i})}function BS(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ov(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Vs{constructor(e,t,s,l,c=pt.min(),p=pt.min(),E=Lr.EMPTY_BYTE_STRING,T=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=E,this.expectedCount=T}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class US{constructor(e){this.yt=e}}function jS(i){const e=OS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ld(e,e.limit,"L"):e}class HS{constructor(){this.Cn=new WS}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(js.min())}updateCollectionGroup(e,t,s){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class WS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new er(Qt.comparator),c=!l.has(s);return this.index[t]=l.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new er(Qt.comparator)).toArray()}}const Zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sv=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(sv,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const Gg="LruGarbageCollector",qS=1048576;function Kg([i,e],[t,s]){const l=kt(i,t);return l===0?kt(e,s):l}class $S{constructor(e){this.Ir=e,this.buffer=new er(Kg),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Kg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){He(Gg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fl(t)?He(Gg,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.Vr(3e5)}))}}class GS{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Ee.resolve(rh.ce);const s=new $S(t);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(Zg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zg):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,l,c,p,E,T,x;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((M=>(M>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),l=this.params.maximumSequenceNumbersToCollect):l=M,p=Date.now(),this.nthSequenceNumber(e,l)))).next((M=>(s=M,E=Date.now(),this.removeTargets(e,s,t)))).next((M=>(c=M,T=Date.now(),this.removeOrphanedDocuments(e,s)))).next((M=>(x=Date.now(),qa()<=Dt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-A}ms
	Determined least recently used ${l} in `+(E-p)+`ms
	Removed ${c} targets in `+(T-E)+`ms
	Removed ${M} documents in `+(x-T)+`ms
Total Duration: ${x-A}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:M}))))}}function KS(i,e){return new GS(i,e)}class QS{constructor(){this.changes=new _a((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YS{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(s!==null&&Ql(s.mutation,l,xo.empty(),en.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,At()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=At()){const l=fa();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,s).next((c=>{let p=Wl();return c.forEach(((E,T)=>{p=p.insert(E,T.overlayedDocument)})),p}))))}getOverlayedDocuments(e,t){const s=fa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,At())))}populateOverlays(e,t,s){const l=[];return s.forEach((c=>{t.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,E)=>{t.set(p,E)}))}))}computeViews(e,t,s,l){let c=ls();const p=Kl(),E=(function(){return Kl()})();return t.forEach(((T,x)=>{const A=s.get(x.key);l.has(x.key)&&(A===void 0||A.mutation instanceof ya)?c=c.insert(x.key,x):A!==void 0?(p.set(x.key,A.mutation.getFieldMask()),Ql(A.mutation,x,A.mutation.getFieldMask(),en.now())):p.set(x.key,xo.empty())})),this.recalculateAndSaveOverlays(e,c).next((T=>(T.forEach(((x,A)=>p.set(x,A))),t.forEach(((x,A)=>E.set(x,new XS(A,p.get(x)??null)))),E)))}recalculateAndSaveOverlays(e,t){const s=Kl();let l=new fn(((p,E)=>p-E)),c=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((p=>{for(const E of p)E.keys().forEach((T=>{const x=t.get(T);if(x===null)return;let A=s.get(T)||xo.empty();A=E.applyToLocalView(x,A),s.set(T,A);const M=(l.get(E.batchId)||At()).add(T);l=l.insert(E.batchId,M)}))})).next((()=>{const p=[],E=l.getReverseIterator();for(;E.hasNext();){const T=E.getNext(),x=T.key,A=T.value,M=Uy();A.forEach((b=>{if(!c.has(b)){const $=Zy(t.get(b),s.get(b));$!==null&&M.set(b,$),c=c.add(b)}})),p.push(this.documentOverlayCache.saveOverlays(e,x,M))}return Ee.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,l){return(function(p){return et.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,l):this.getDocumentsMatchingCollectionQuery(e,t,s,l)}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-c.size):Ee.resolve(fa());let E=eu,T=c;return p.next((x=>Ee.forEach(x,((A,M)=>(E<M.largestBatchId&&(E=M.largestBatchId),c.get(A)?Ee.resolve():this.remoteDocumentCache.getEntry(e,A).next((b=>{T=T.insert(A,b)}))))).next((()=>this.populateOverlays(e,x,c))).next((()=>this.computeViews(e,T,x,At()))).next((A=>({batchId:E,changes:By(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next((s=>{let l=Wl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,l){const c=t.collectionGroup;let p=Wl();return this.indexManager.getCollectionParents(e,c).next((E=>Ee.forEach(E,(T=>{const x=(function(M,b){return new fu(b,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)})(t,T.child(c));return this.getDocumentsMatchingCollectionQuery(e,x,s,l).next((A=>{A.forEach(((M,b)=>{p=p.insert(M,b)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,t,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,l)))).next((p=>{c.forEach(((T,x)=>{const A=x.getKey();p.get(A)===null&&(p=p.insert(A,Wr.newInvalidDocument(A)))}));let E=Wl();return p.forEach(((T,x)=>{const A=c.get(T);A!==void 0&&Ql(A.mutation,x,xo.empty(),en.now()),ah(t,x)&&(E=E.insert(T,x))})),E}))}}class JS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:Uo(l.createTime)}})(t)),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(l){return{name:l.name,query:jS(l.bundledQuery),readTime:Uo(l.readTime)}})(t)),Ee.resolve()}}class ex{constructor(){this.overlays=new fn(et.comparator),this.qr=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=fa();return Ee.forEach(t,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((l,c)=>{this.St(e,t,c)})),Ee.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ee.resolve()}getOverlaysForCollection(e,t,s){const l=fa(),c=t.length+1,p=new et(t.child("")),E=this.overlays.getIteratorFrom(p);for(;E.hasNext();){const T=E.getNext().value,x=T.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===c&&T.largestBatchId>s&&l.set(T.getKey(),T)}return Ee.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let c=new fn(((x,A)=>x-A));const p=this.overlays.getIterator();for(;p.hasNext();){const x=p.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let A=c.get(x.largestBatchId);A===null&&(A=fa(),c=c.insert(x.largestBatchId,A)),A.set(x.getKey(),x)}}const E=fa(),T=c.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach(((x,A)=>E.set(x,A))),!(E.size()>=l)););return Ee.resolve(E)}St(e,t,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new yS(t,s));let c=this.qr.get(t);c===void 0&&(c=At(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}class tx{constructor(){this.sessionToken=Lr.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ee.resolve()}}class jd{constructor(){this.Qr=new er(pr.$r),this.Ur=new er(pr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new pr(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new pr(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new et(new Qt([])),s=new pr(t,e),l=new pr(t,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new et(new Qt([])),s=new pr(t,e),l=new pr(t,e+1);let c=At();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const t=new pr(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class pr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return et.comparator(e.key,t.key)||kt(e.Yr,t.Yr)}static Kr(e,t){return kt(e.Yr,t.Yr)||et.comparator(e.key,t.key)}}class nx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new er(pr.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new _S(c,t,s,l);this.mutationQueue.push(p);for(const E of l)this.Zr=this.Zr.add(new pr(E.key,c)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Ee.resolve(p)}lookupMutationBatch(e,t){return Ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=this.ei(s),c=l<0?0:l;return Ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?Nd:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new pr(t,0),l=new pr(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const E=this.Xr(p.Yr);c.push(E)})),Ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new er(kt);return t.forEach((l=>{const c=new pr(l,0),p=new pr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(E=>{s=s.add(E.Yr)}))})),Ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let c=s;et.isDocumentKey(c)||(c=c.child(""));const p=new pr(new et(c),0);let E=new er(kt);return this.Zr.forEachWhile((T=>{const x=T.key.path;return!!s.isPrefixOf(x)&&(x.length===l&&(E=E.add(T.Yr)),!0)}),p),Ee.resolve(this.ti(E))}ti(e){const t=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){Wt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ee.forEach(t.mutations,(l=>{const c=new pr(l.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new pr(t,0),l=this.Zr.firstAfterOrEqual(s);return Ee.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rx{constructor(e){this.ri=e,this.docs=(function(){return new fn(et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ee.resolve(s?s.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let s=ls();return t.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Wr.newInvalidDocument(l))})),Ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let c=ls();const p=t.path,E=new et(p.child("__id-9223372036854775808__")),T=this.docs.getIteratorFrom(E);for(;T.hasNext();){const{key:x,value:{document:A}}=T.getNext();if(!p.isPrefixOf(x.path))break;x.path.length>p.length+1||MT(LT(A),s)<=0||(l.has(A.key)||ah(t,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Ee.resolve(c)}getAllFromCollectionGroup(e,t,s,l){ct(9500)}ii(e,t){return Ee.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new ix(this)}getSize(e){return Ee.resolve(this.size)}}class ix extends QS{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?t.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ox{constructor(e){this.persistence=e,this.si=new _a((t=>Vd(t)),bd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new jd,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach(((s,l)=>t(l))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.Pr(t),Ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,s){let l=0;const c=[];return this.si.forEach(((p,E)=>{E.sequenceNumber<=t&&s.get(E.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,E.targetId)),l++)})),Ee.waitFor(c).next((()=>l))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Ee.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Ee.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const l=this.persistence.referenceDelegate,c=[];return l&&t.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ee.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Ee.resolve(s)}containsKey(e,t){return Ee.resolve(this._i.containsKey(t))}}class av{constructor(e,t){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new tx,this.referenceDelegate=e(this),this.Pi=new ox(this),this.indexManager=new HS,this.remoteDocumentCache=(function(l){return new rx(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new US(t),this.Ii=new JS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ex,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new nx(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){He("MemoryPersistence","Starting transaction:",e);const l=new sx(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,t){return Ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class sx extends DT{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Ri=new jd,this.Vi=null}static mi(e){return new Hd(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Ee.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,(s=>{const l=et.fromPath(s);return this.gi(e,l).next((c=>{c||t.removeEntry(l,pt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gc{constructor(e,t){this.persistence=e,this.pi=new _a((s=>bT(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=KS(this,t)}static mi(e,t){return new Gc(e,t)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((l=>s+l))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Ee.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Ee.resolve():t(l)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,t).next((E=>{E||(s++,c.removeEntry(p,pt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Ee.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ic(e.data.value)),t}br(e,t,s){return Ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.pi.get(t);return Ee.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wd{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=l}static As(e,t){let s=At(),l=At();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wd(e,t.fromCache,s,l)}}class ax{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return t1()?8:OT(JE())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,l){const c={result:null};return this.ys(e,t).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,t,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new ax;return this.Ss(e,t,p).next((E=>{if(c.result=E,this.Vs)return this.bs(e,t,p,E.size)}))})).next((()=>c.result))}bs(e,t,s,l){return s.documentReadCount<this.fs?(qa()<=Dt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",$a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(qa()<=Dt.DEBUG&&He("QueryEngine","Query:",$a(t),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(qa()<=Dt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",$a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bo(t))):Ee.resolve())}ys(e,t){if(bg(t))return Ee.resolve(null);let s=Bo(t);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=ld(t,null,"F"),s=Bo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=At(...c);return this.ps.getDocuments(e,p).next((E=>this.indexManager.getMinOffset(e,s).next((T=>{const x=this.Ds(t,E);return this.Cs(t,x,p,T.readTime)?this.ys(e,ld(t,null,"F")):this.vs(e,x,t,T)}))))})))))}ws(e,t,s,l){return bg(t)||l.isEqual(pt.min())?Ee.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(t,c);return this.Cs(t,p,s,l)?Ee.resolve(null):(qa()<=Dt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(t)),this.vs(e,p,t,RT(l,eu)).next((E=>E)))}))}Ds(e,t){let s=new er(Fy(e));return t.forEach(((l,c)=>{ah(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,l){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,t,s){return qa()<=Dt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",$a(t)),this.ps.getDocumentsMatchingQuery(e,t,js.min(),s)}vs(e,t,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(t.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const qd="LocalStore",ux=3e8;class cx{constructor(e,t,s,l){this.persistence=e,this.Fs=t,this.serializer=l,this.Ms=new fn(kt),this.xs=new _a((c=>Vd(c)),bd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function hx(i,e,t,s){return new cx(i,e,t,s)}async function lv(i,e){const t=gt(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],E=[];let T=At();for(const x of l){p.push(x.batchId);for(const A of x.mutations)T=T.add(A.key)}for(const x of c){E.push(x.batchId);for(const A of x.mutations)T=T.add(A.key)}return t.localDocuments.getDocuments(s,T).next((x=>({Ls:x,removedBatchIds:p,addedBatchIds:E})))}))}))}function fx(i,e){const t=gt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(E,T,x,A){const M=x.batch,b=M.keys();let $=Ee.resolve();return b.forEach((J=>{$=$.next((()=>A.getEntry(T,J))).next((re=>{const Y=x.docVersions.get(J);Wt(Y!==null,48541),re.version.compareTo(Y)<0&&(M.applyToRemoteDocument(re,x),re.isValidDocument()&&(re.setReadTime(x.commitVersion),A.addEntry(re)))}))})),$.next((()=>E.mutationQueue.removeMutationBatch(T,M)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(E){let T=At();for(let x=0;x<E.mutationResults.length;++x)E.mutationResults[x].transformResults.length>0&&(T=T.add(E.batch.mutations[x].key));return T})(e)))).next((()=>t.localDocuments.getDocuments(s,l)))}))}function uv(i){const e=gt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function dx(i,e){const t=gt(i),s=e.snapshotVersion;let l=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=t.Ns.newChangeBuffer({trackRemovals:!0});l=t.Ms;const E=[];e.targetChanges.forEach(((A,M)=>{const b=l.get(M);if(!b)return;E.push(t.Pi.removeMatchingKeys(c,A.removedDocuments,M).next((()=>t.Pi.addMatchingKeys(c,A.addedDocuments,M))));let $=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(M)!==null?$=$.withResumeToken(Lr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(A.resumeToken,s)),l=l.insert(M,$),(function(re,Y,me){return re.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=ux?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(b,$,A)&&E.push(t.Pi.updateTargetData(c,$))}));let T=ls(),x=At();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(c,A))})),E.push(px(c,p,e.documentUpdates).next((A=>{T=A.ks,x=A.qs}))),!s.isEqual(pt.min())){const A=t.Pi.getLastRemoteSnapshotVersion(c).next((M=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));E.push(A)}return Ee.waitFor(E).next((()=>p.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,T,x))).next((()=>T))})).then((c=>(t.Ms=l,c)))}function px(i,e,t){let s=At(),l=At();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let p=ls();return t.forEach(((E,T)=>{const x=c.get(E);T.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(E)),T.isNoDocument()&&T.version.isEqual(pt.min())?(e.removeEntry(E,T.readTime),p=p.insert(E,T)):!x.isValidDocument()||T.version.compareTo(x.version)>0||T.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(T),p=p.insert(E,T)):He(qd,"Ignoring outdated watch update for ",E,". Current version:",x.version," Watch version:",T.version)})),{ks:p,qs:l}}))}function mx(i,e){const t=gt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Nd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function gx(i,e){const t=gt(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return t.Pi.getTargetData(s,e).next((c=>c?(l=c,Ee.resolve(l)):t.Pi.allocateTargetId(s).next((p=>(l=new Vs(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=t.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function dd(i,e,t){const s=gt(i),l=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!fl(p))throw p;He(qd,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Qg(i,e,t){const s=gt(i);let l=pt.min(),c=At();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(T,x,A){const M=gt(T),b=M.xs.get(A);return b!==void 0?Ee.resolve(M.Ms.get(b)):M.Pi.getTargetData(x,A)})(s,p,Bo(e)).next((E=>{if(E)return l=E.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,E.targetId).next((T=>{c=T}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,t?l:pt.min(),t?c:At()))).next((E=>(_x(s,nS(e),E),{documents:E,Qs:c})))))}function _x(i,e,t){let s=i.Os.get(e)||pt.min();t.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class Xg{constructor(){this.activeTargetIds=lS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yx{constructor(){this.Mo=new Xg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vx{Oo(e){}shutdown(){}}const Yg="ConnectivityMonitor";class Jg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(Yg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){He(Yg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vc=null;function pd(){return vc===null?vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():vc++,"0x"+vc.toString(16)}const Bf="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ex{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Uc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,t,s,l,c){const p=pd(),E=this.zo(e,t.toUriEncodedString());He(Bf,`Sending RPC '${e}' ${p}:`,E,s);const T={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(T,l,c);const{host:x}=new URL(E),A=Ad(x);return this.Jo(e,E,T,s,A).then((M=>(He(Bf,`Received RPC '${e}' ${p}: `,M),M)),(M=>{throw el(Bf,`RPC '${e}' ${p} failed with error: `,M,"url: ",E,"request:",s),M}))}Ho(e,t,s,l,c,p){return this.Go(e,t,s,l,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,t){const s=wx[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class Tx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const jr="WebChannelConnection";class Sx extends Ex{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,l,c){const p=pd();return new Promise(((E,T)=>{const x=new cy;x.setWithCredentials(!0),x.listenOnce(hy.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Cc.NO_ERROR:const M=x.getResponseJson();He(jr,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(M)),E(M);break;case Cc.TIMEOUT:He(jr,`RPC '${e}' ${p} timed out`),T(new We(we.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const b=x.getStatus();if(He(jr,`RPC '${e}' ${p} failed with status:`,b,"response text:",x.getResponseText()),b>0){let $=x.getResponseJson();Array.isArray($)&&($=$[0]);const J=$?.error;if(J&&J.status&&J.message){const re=(function(me){const pe=me.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(pe)>=0?pe:we.UNKNOWN})(J.status);T(new We(re,J.message))}else T(new We(we.UNKNOWN,"Server responded with status "+x.getStatus()))}else T(new We(we.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:p,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{He(jr,`RPC '${e}' ${p} completed.`)}}));const A=JSON.stringify(l);He(jr,`RPC '${e}' ${p} sending request:`,l),x.send(t,"POST",A,s,15)}))}T_(e,t,s){const l=pd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=py(),E=dy(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(T.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(T.useFetchStreams=!0),this.jo(T.initMessageHeaders,t,s),T.encodeInitMessageHeaders=!0;const A=c.join("");He(jr,`Creating RPC '${e}' stream ${l}: ${A}`,T);const M=p.createWebChannel(A,T);this.I_(M);let b=!1,$=!1;const J=new Tx({Yo:Y=>{$?He(jr,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(b||(He(jr,`Opening RPC '${e}' stream ${l} transport.`),M.open(),b=!0),He(jr,`RPC '${e}' stream ${l} sending:`,Y),M.send(Y))},Zo:()=>M.close()}),re=(Y,me,pe)=>{Y.listen(me,(xe=>{try{pe(xe)}catch(Ne){setTimeout((()=>{throw Ne}),0)}}))};return re(M,Hl.EventType.OPEN,(()=>{$||(He(jr,`RPC '${e}' stream ${l} transport opened.`),J.o_())})),re(M,Hl.EventType.CLOSE,(()=>{$||($=!0,He(jr,`RPC '${e}' stream ${l} transport closed`),J.a_(),this.E_(M))})),re(M,Hl.EventType.ERROR,(Y=>{$||($=!0,el(jr,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),J.a_(new We(we.UNAVAILABLE,"The operation could not be completed")))})),re(M,Hl.EventType.MESSAGE,(Y=>{if(!$){const me=Y.data[0];Wt(!!me,16349);const pe=me,xe=pe?.error||pe[0]?.error;if(xe){He(jr,`RPC '${e}' stream ${l} received error:`,xe);const Ne=xe.status;let qe=(function(z){const j=jn[z];if(j!==void 0)return Qy(j)})(Ne),Fe=xe.message;qe===void 0&&(qe=we.INTERNAL,Fe="Unknown error status: "+Ne+" with message "+xe.message),$=!0,J.a_(new We(qe,Fe)),M.close()}else He(jr,`RPC '${e}' stream ${l} received:`,me),J.u_(me)}})),re(E,fy.STAT_EVENT,(Y=>{Y.stat===td.PROXY?He(jr,`RPC '${e}' stream ${l} detected buffering proxy`):Y.stat===td.NOPROXY&&He(jr,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Uf(){return typeof document<"u"?document:null}function hh(i){return new IS(i,!0)}class cv{constructor(e,t,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-s);l>0&&He("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const e_="PersistentStream";class hv{constructor(e,t,s,l,c,p,E,T){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=E,this.listener=T,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===t&&this.G_(s,l)}),(s=>{e((()=>{const l=new We(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return He(e_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(He(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xx extends hv{constructor(e,t,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,p),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=RS(this.serializer,e),s=(function(c){if(!("targetChange"in c))return pt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?pt.min():p.readTime?Uo(p.readTime):pt.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=fd(this.serializer),t.addTarget=(function(c,p){let E;const T=p.target;if(E=sd(T)?{documents:NS(c,T)}:{query:DS(c,T).ft},E.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){E.resumeToken=Jy(c,p.resumeToken);const x=ud(c,p.expectedCount);x!==null&&(E.expectedCount=x)}else if(p.snapshotVersion.compareTo(pt.min())>0){E.readTime=Zc(c,p.snapshotVersion.toTimestamp());const x=ud(c,p.expectedCount);x!==null&&(E.expectedCount=x)}return E})(this.serializer,e);const s=VS(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.q_(t)}}class Px extends hv{constructor(e,t,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=MS(e.writeResults,e.commitTime),s=Uo(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=fd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>LS(this.serializer,s)))};this.q_(t)}}class Cx{}class Ix extends Cx{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new We(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,cd(t,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new We(we.UNKNOWN,c.toString())}))}Ho(e,t,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,E])=>this.connection.Ho(e,cd(t,s),l,p,E,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new We(we.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(t),this.aa=!1):He("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class Ax{constructor(e,t,s,l,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{va(this)&&(He(pa,"Restarting streams for network reachability change."),await(async function(T){const x=gt(T);x.Ea.add(4),await mu(x),x.Ra.set("Unknown"),x.Ea.delete(4),await fh(x)})(this))}))})),this.Ra=new kx(s,l)}}async function fh(i){if(va(i))for(const e of i.da)await e(!0)}async function mu(i){for(const e of i.da)await e(!1)}function fv(i,e){const t=gt(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Kd(t)?Gd(t):dl(t).O_()&&Zd(t,e))}function $d(i,e){const t=gt(i),s=dl(t);t.Ia.delete(e),s.O_()&&dv(t,e),t.Ia.size===0&&(s.O_()?s.L_():va(t)&&t.Ra.set("Unknown"))}function Zd(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(i).Y_(e)}function dv(i,e){i.Va.Ue(e),dl(i).Z_(e)}function Gd(i){i.Va=new SS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),dl(i).start(),i.Ra.ua()}function Kd(i){return va(i)&&!dl(i).x_()&&i.Ia.size>0}function va(i){return gt(i).Ea.size===0}function pv(i){i.Va=void 0}async function Rx(i){i.Ra.set("Online")}async function Lx(i){i.Ia.forEach(((e,t)=>{Zd(i,e)}))}async function Mx(i,e){pv(i),Kd(i)?(i.Ra.ha(e),Gd(i)):i.Ra.set("Unknown")}async function Nx(i,e,t){if(i.Ra.set("Online"),e instanceof Yy&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const E of c.targetIds)l.Ia.has(E)&&(await l.remoteSyncer.rejectListen(E,p),l.Ia.delete(E),l.Va.removeTarget(E))})(i,e)}catch(s){He(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kc(i,s)}else if(e instanceof Rc?i.Va.Ze(e):e instanceof Xy?i.Va.st(e):i.Va.tt(e),!t.isEqual(pt.min()))try{const s=await uv(i.localStore);t.compareTo(s)>=0&&await(function(c,p){const E=c.Va.Tt(p);return E.targetChanges.forEach(((T,x)=>{if(T.resumeToken.approximateByteSize()>0){const A=c.Ia.get(x);A&&c.Ia.set(x,A.withResumeToken(T.resumeToken,p))}})),E.targetMismatches.forEach(((T,x)=>{const A=c.Ia.get(T);if(!A)return;c.Ia.set(T,A.withResumeToken(Lr.EMPTY_BYTE_STRING,A.snapshotVersion)),dv(c,T);const M=new Vs(A.target,T,x,A.sequenceNumber);Zd(c,M)})),c.remoteSyncer.applyRemoteEvent(E)})(i,t)}catch(s){He(pa,"Failed to raise snapshot:",s),await Kc(i,s)}}async function Kc(i,e,t){if(!fl(e))throw e;i.Ea.add(1),await mu(i),i.Ra.set("Offline"),t||(t=()=>uv(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{He(pa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await fh(i)}))}function mv(i,e){return e().catch((t=>Kc(i,t,e)))}async function dh(i){const e=gt(i),t=$s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nd;for(;Dx(e);)try{const l=await mx(e.localStore,s);if(l===null){e.Ta.length===0&&t.L_();break}s=l.batchId,Ox(e,l)}catch(l){await Kc(e,l)}gv(e)&&_v(e)}function Dx(i){return va(i)&&i.Ta.length<10}function Ox(i,e){i.Ta.push(e);const t=$s(i);t.O_()&&t.X_&&t.ea(e.mutations)}function gv(i){return va(i)&&!$s(i).x_()&&i.Ta.length>0}function _v(i){$s(i).start()}async function Vx(i){$s(i).ra()}async function bx(i){const e=$s(i);for(const t of i.Ta)e.ea(t.mutations)}async function Fx(i,e,t){const s=i.Ta.shift(),l=zd.from(s,e,t);await mv(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await dh(i)}async function zx(i,e){e&&$s(i).X_&&await(async function(s,l){if((function(p){return wS(p)&&p!==we.ABORTED})(l.code)){const c=s.Ta.shift();$s(s).B_(),await mv(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await dh(s)}})(i,e),gv(i)&&_v(i)}async function t_(i,e){const t=gt(i);t.asyncQueue.verifyOperationInProgress(),He(pa,"RemoteStore received new credentials");const s=va(t);t.Ea.add(3),await mu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await fh(t)}async function Bx(i,e){const t=gt(i);e?(t.Ea.delete(2),await fh(t)):e||(t.Ea.add(2),await mu(t),t.Ra.set("Unknown"))}function dl(i){return i.ma||(i.ma=(function(t,s,l){const c=gt(t);return c.sa(),new xx(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:Rx.bind(null,i),t_:Lx.bind(null,i),r_:Mx.bind(null,i),H_:Nx.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Kd(i)?Gd(i):i.Ra.set("Unknown")):(await i.ma.stop(),pv(i))}))),i.ma}function $s(i){return i.fa||(i.fa=(function(t,s,l){const c=gt(t);return c.sa(),new Px(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vx.bind(null,i),r_:zx.bind(null,i),ta:bx.bind(null,i),na:Fx.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await dh(i)):(await i.fa.stop(),i.Ta.length>0&&(He(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Qd{constructor(e,t,s,l,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,l,c){const p=Date.now()+s,E=new Qd(e,t,p,l,c);return E.start(s),E}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(i,e){if(as("AsyncQueue",`${e}: ${i}`),fl(i))return new We(we.UNAVAILABLE,`${e}: ${i}`);throw i}class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||et.comparator(t.key,s.key):(t,s)=>et.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class n_{constructor(){this.ga=new fn(et.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ol{constructor(e,t,s,l,c,p,E,T,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=E,this.excludesMetadataChanges=T,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,l,c){const p=[];return t.forEach((E=>{p.push({type:0,doc:E})})),new ol(e,t,Qa.emptySet(t),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class Ux{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jx{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const l=gt(t),c=l.queries;l.queries=r_(),c.forEach(((p,E)=>{for(const T of E.Sa)T.onError(s)}))})(this,new We(we.ABORTED,"Firestore shutting down"))}}function r_(){return new _a((i=>by(i)),sh)}async function Hx(i,e){const t=gt(i);let s=3;const l=e.query;let c=t.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new Ux,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(l,!0);break;case 1:c.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(p){const E=Xd(p,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(E)}t.queries.set(l,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Yd(t)}async function Wx(i,e){const t=gt(i),s=e.query;let l=3;const c=t.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function qx(i,e){const t=gt(i);let s=!1;for(const l of e){const c=l.query,p=t.queries.get(c);if(p){for(const E of p.Sa)E.Fa(l)&&(s=!0);p.wa=l}}s&&Yd(t)}function $x(i,e,t){const s=gt(i),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(t);s.queries.delete(e)}function Yd(i){i.Ca.forEach((e=>{e.next()}))}var md,i_;(i_=md||(md={})).Ma="default",i_.Cache="cache";class Zx{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==md.Cache}}class yv{constructor(e){this.key=e}}class vv{constructor(e){this.key=e}}class Gx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=At(),this.mutatedKeys=At(),this.eu=Fy(e),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new n_,l=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,p=l,E=!1;const T=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,M)=>{const b=l.get(A),$=ah(this.query,M)?M:null,J=!!b&&this.mutatedKeys.has(b.key),re=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Y=!1;b&&$?b.data.isEqual($.data)?J!==re&&(s.track({type:3,doc:$}),Y=!0):this.su(b,$)||(s.track({type:2,doc:$}),Y=!0,(T&&this.eu($,T)>0||x&&this.eu($,x)<0)&&(E=!0)):!b&&$?(s.track({type:0,doc:$}),Y=!0):b&&!$&&(s.track({type:1,doc:b}),Y=!0,(T||x)&&(E=!0)),Y&&($?(p=p.add($),c=re?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:p,iu:s,Cs:E,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((A,M)=>(function($,J){const re=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:Y})}};return re($)-re(J)})(A.type,M.type)||this.eu(A.doc,M.doc))),this.ou(s),l=l??!1;const E=t&&!l?this._u():[],T=this.Xa.size===0&&this.current&&!l?1:0,x=T!==this.Za;return this.Za=T,p.length!==0||x?{snapshot:new ol(this.query,e.tu,c,p,e.mutatedKeys,T===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:E}:{au:E}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new n_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=At(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new vv(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new yv(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=At();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jd="SyncEngine";class Kx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Qx{constructor(e){this.key=e,this.hu=!1}}class Xx{constructor(e,t,s,l,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new _a((E=>by(E)),sh),this.Iu=new Map,this.Eu=new Set,this.du=new fn(et.comparator),this.Au=new Map,this.Ru=new jd,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yx(i,e,t=!0){const s=Pv(i);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wv(s,e,t,!0),l}async function Jx(i,e){const t=Pv(i);await wv(t,e,!0,!1)}async function wv(i,e,t,s){const l=await gx(i.localStore,Bo(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,t);let E;return s&&(E=await eP(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&t&&fv(i.remoteStore,l),E}async function eP(i,e,t,s,l){i.pu=(M,b,$)=>(async function(re,Y,me,pe){let xe=Y.view.ru(me);xe.Cs&&(xe=await Qg(re.localStore,Y.query,!1).then((({documents:H})=>Y.view.ru(H,xe))));const Ne=pe&&pe.targetChanges.get(Y.targetId),qe=pe&&pe.targetMismatches.get(Y.targetId)!=null,Fe=Y.view.applyChanges(xe,re.isPrimaryClient,Ne,qe);return s_(re,Y.targetId,Fe.au),Fe.snapshot})(i,M,b,$);const c=await Qg(i.localStore,e,!0),p=new Gx(e,c.Qs),E=p.ru(c.documents),T=pu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",l),x=p.applyChanges(E,i.isPrimaryClient,T);s_(i,t,x.au);const A=new Kx(e,t,p);return i.Tu.set(e,A),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),x.snapshot}async function tP(i,e,t){const s=gt(i),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!sh(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await dd(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),t&&$d(s.remoteStore,l.targetId),gd(s,l.targetId)})).catch(hl)):(gd(s,l.targetId),await dd(s.localStore,l.targetId,!0))}async function nP(i,e){const t=gt(i),s=t.Tu.get(e),l=t.Iu.get(s.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),$d(t.remoteStore,s.targetId))}async function rP(i,e,t){const s=cP(i);try{const l=await(function(p,E){const T=gt(p),x=en.now(),A=E.reduce((($,J)=>$.add(J.key)),At());let M,b;return T.persistence.runTransaction("Locally write mutations","readwrite",($=>{let J=ls(),re=At();return T.Ns.getEntries($,A).next((Y=>{J=Y,J.forEach(((me,pe)=>{pe.isValidDocument()||(re=re.add(me))}))})).next((()=>T.localDocuments.getOverlayedDocuments($,J))).next((Y=>{M=Y;const me=[];for(const pe of E){const xe=mS(pe,M.get(pe.key).overlayedDocument);xe!=null&&me.push(new ya(pe.key,xe,ky(xe.value.mapValue),is.exists(!0)))}return T.mutationQueue.addMutationBatch($,x,me,E)})).next((Y=>{b=Y;const me=Y.applyToLocalDocumentSet(M,re);return T.documentOverlayCache.saveOverlays($,Y.batchId,me)}))})).then((()=>({batchId:b.batchId,changes:By(M)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,E,T){let x=p.Vu[p.currentUser.toKey()];x||(x=new fn(kt)),x=x.insert(E,T),p.Vu[p.currentUser.toKey()]=x})(s,l.batchId,t),await gu(s,l.changes),await dh(s.remoteStore)}catch(l){const c=Xd(l,"Failed to persist write");t.reject(c)}}async function Ev(i,e){const t=gt(i);try{const s=await dx(t.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=t.Au.get(c);p&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Wt(p.hu,14607):l.removedDocuments.size>0&&(Wt(p.hu,42227),p.hu=!1))})),await gu(t,s,e)}catch(s){await hl(s)}}function o_(i,e,t){const s=gt(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const l=[];s.Tu.forEach(((c,p)=>{const E=p.view.va(e);E.snapshot&&l.push(E.snapshot)})),(function(p,E){const T=gt(p);T.onlineState=E;let x=!1;T.queries.forEach(((A,M)=>{for(const b of M.Sa)b.va(E)&&(x=!0)})),x&&Yd(T)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iP(i,e,t){const s=gt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new fn(et.comparator);p=p.insert(c,Wr.newNoDocument(c,pt.min()));const E=At().add(c),T=new ch(pt.min(),new Map,new fn(kt),p,E);await Ev(s,T),s.du=s.du.remove(c),s.Au.delete(e),ep(s)}else await dd(s.localStore,e,!1).then((()=>gd(s,e,t))).catch(hl)}async function oP(i,e){const t=gt(i),s=e.batch.batchId;try{const l=await fx(t.localStore,e);Sv(t,s,null),Tv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gu(t,l)}catch(l){await hl(l)}}async function sP(i,e,t){const s=gt(i);try{const l=await(function(p,E){const T=gt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let A;return T.mutationQueue.lookupMutationBatch(x,E).next((M=>(Wt(M!==null,37113),A=M.keys(),T.mutationQueue.removeMutationBatch(x,M)))).next((()=>T.mutationQueue.performConsistencyCheck(x))).next((()=>T.documentOverlayCache.removeOverlaysForBatchId(x,A,E))).next((()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,A))).next((()=>T.localDocuments.getDocuments(x,A)))}))})(s.localStore,e);Sv(s,e,t),Tv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gu(s,l)}catch(l){await hl(l)}}function Tv(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Sv(i,e,t){const s=gt(i);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(t?c.reject(t):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function gd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||xv(i,s)}))}function xv(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&($d(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),ep(i))}function s_(i,e,t){for(const s of t)s instanceof yv?(i.Ru.addReference(s.key,e),aP(i,s)):s instanceof vv?(He(Jd,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||xv(i,s.key)):ct(19791,{wu:s})}function aP(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(He(Jd,"New document in limbo: "+t),i.Eu.add(s),ep(i))}function ep(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new et(Qt.fromString(e)),s=i.fu.next();i.Au.set(s,new Qx(t)),i.du=i.du.insert(t,s),fv(i.remoteStore,new Vs(Bo(Oy(t.path)),s,"TargetPurposeLimboResolution",rh.ce))}}async function gu(i,e,t){const s=gt(i),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((E,T)=>{p.push(s.pu(T,e,t).then((x=>{if((x||t)&&s.isPrimaryClient){const A=x?!x.fromCache:t?.targetChanges.get(T.targetId)?.current;s.sharedClientState.updateQueryState(T.targetId,A?"current":"not-current")}if(x){l.push(x);const A=Wd.As(T.targetId,x);c.push(A)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(T,x){const A=gt(T);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(M=>Ee.forEach(x,(b=>Ee.forEach(b.Es,($=>A.persistence.referenceDelegate.addReference(M,b.targetId,$))).next((()=>Ee.forEach(b.ds,($=>A.persistence.referenceDelegate.removeReference(M,b.targetId,$)))))))))}catch(M){if(!fl(M))throw M;He(qd,"Failed to update sequence numbers: "+M)}for(const M of x){const b=M.targetId;if(!M.fromCache){const $=A.Ms.get(b),J=$.snapshotVersion,re=$.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(b,re)}}})(s.localStore,c))}async function lP(i,e){const t=gt(i);if(!t.currentUser.isEqual(e)){He(Jd,"User change. New user:",e.toKey());const s=await lv(t.localStore,e);t.currentUser=e,(function(c,p){c.mu.forEach((E=>{E.forEach((T=>{T.reject(new We(we.CANCELLED,p))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(t,s.Ls)}}function uP(i,e){const t=gt(i),s=t.Au.get(e);if(s&&s.hu)return At().add(s.key);{let l=At();const c=t.Iu.get(e);if(!c)return l;for(const p of c){const E=t.Tu.get(p);l=l.unionWith(E.view.nu)}return l}}function Pv(i){const e=gt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ev.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iP.bind(null,e),e.Pu.H_=qx.bind(null,e.eventManager),e.Pu.yu=$x.bind(null,e.eventManager),e}function cP(i){const e=gt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sP.bind(null,e),e}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return hx(this.persistence,new lx,e.initialUser,this.serializer)}Cu(e){return new av(Hd.mi,this.serializer)}Du(e){return new yx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class hP extends Qc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Wt(this.persistence.referenceDelegate instanceof Gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new av((s=>Gc.mi(s,t)),this.serializer)}}class _d{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lP.bind(null,this.syncEngine),await Bx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jx})()}createDatastore(e){const t=hh(e.databaseInfo.databaseId),s=(function(c){return new Sx(c)})(e.databaseInfo);return(function(c,p,E,T){return new Ix(c,p,E,T)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,l,c,p,E){return new Ax(s,l,c,p,E)})(this.localStore,this.datastore,e.asyncQueue,(t=>o_(this.syncEngine,t,0)),(function(){return Jg.v()?new Jg:new vx})())}createSyncEngine(e,t){return(function(l,c,p,E,T,x,A){const M=new Xx(l,c,p,E,T,x);return A&&(M.gu=!0),M})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=gt(t);He(pa,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_d.provider={build:()=>new _d};class fP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Zs="FirestoreClient";class dP{constructor(e,t,s,l,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Hr.UNAUTHENTICATED,this.clientId=Md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{He(Zs,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(He(Zs,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Xd(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jf(i,e){i.asyncQueue.verifyOperationInProgress(),He(Zs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async l=>{s.isEqual(l)||(await lv(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function a_(i,e){i.asyncQueue.verifyOperationInProgress();const t=await pP(i);He(Zs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>t_(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,l)=>t_(e.remoteStore,l))),i._onlineComponents=e}async function pP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){He(Zs,"Using user provided OfflineComponentProvider");try{await jf(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===we.FAILED_PRECONDITION||l.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await jf(i,new Qc)}}else He(Zs,"Using default OfflineComponentProvider"),await jf(i,new hP(void 0));return i._offlineComponents}async function Cv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(He(Zs,"Using user provided OnlineComponentProvider"),await a_(i,i._uninitializedComponentsProvider._online)):(He(Zs,"Using default OnlineComponentProvider"),await a_(i,new _d))),i._onlineComponents}function mP(i){return Cv(i).then((e=>e.syncEngine))}async function gP(i){const e=await Cv(i),t=e.eventManager;return t.onListen=Yx.bind(null,e.syncEngine),t.onUnlisten=tP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Jx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nP.bind(null,e.syncEngine),t}function _P(i,e,t={}){const s=new Bs;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,E,T,x){const A=new fP({next:b=>{A.Nu(),p.enqueueAndForget((()=>Wx(c,M))),b.fromCache&&T.source==="server"?x.reject(new We(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(b)},error:b=>x.reject(b)}),M=new Zx(E,A,{includeMetadataChanges:!0,qa:!0});return Hx(c,M)})(await gP(i),i.asyncQueue,e,t,s))),s.promise}function Iv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const l_=new Map;const kv="firestore.googleapis.com",u_=!0;class c_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new We(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kv,this.ssl=u_}else this.host=e.host,this.ssl=e.ssl??u_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qS)throw new We(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new We(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new We(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new We(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vT;switch(s.type){case"firstParty":return new ST(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new We(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=l_.get(t);s&&(He("ComponentProvider","Removing Datastore"),l_.delete(t),s.terminate())})(this),Promise.resolve()}}function yP(i,e,t,s={}){i=zc(i,ph);const l=Ad(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},E=`${e}:${t}`;l&&(GE(`https://${E}`),YE("Firestore",!0)),c.host!==kv&&c.host!==E&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T={...c,host:E,ssl:l,emulatorOptions:s};if(!Vc(T,p)&&(i._setSettings(T),s.mockUserToken)){let x,A;if(typeof s.mockUserToken=="string")x=s.mockUserToken,A=Hr.MOCK_USER;else{x=KE(s.mockUserToken,i._app?.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new We(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Hr(M)}i._authCredentials=new wT(new gy(x,A))}}class pl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pl(this.firestore,e,this._query)}}class mr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}toJSON(){return{type:mr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(hu(t,mr._jsonSchema))return new mr(e,s||null,new et(Qt.fromString(t.referencePath)))}}mr._jsonSchemaVersion="firestore/documentReference/1.0",mr._jsonSchema={type:Wn("string",mr._jsonSchemaVersion),referencePath:Wn("string")};class Us extends pl{constructor(e,t,s){super(e,t,Oy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new et(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function tp(i,e,...t){if(i=Ja(i),_y("collection","path",e),i instanceof ph){const s=Qt.fromString(e,...t);return Sg(s),new Us(i,null,s)}{if(!(i instanceof mr||i instanceof Us))throw new We(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qt.fromString(e,...t));return Sg(s),new Us(i.firestore,null,s)}}function vP(i,e,...t){if(i=Ja(i),arguments.length===1&&(e=Md.newId()),_y("doc","path",e),i instanceof ph){const s=Qt.fromString(e,...t);return Tg(s),new mr(i,null,new et(s))}{if(!(i instanceof mr||i instanceof Us))throw new We(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qt.fromString(e,...t));return Tg(s),new mr(i.firestore,i instanceof Us?i.converter:null,new et(s))}}const h_="AsyncQueue";class f_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cv(this,"async_queue_retry"),this._c=()=>{const s=Uf();s&&He(h_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;He(h_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",d_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=Qd.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ct(47125,{Pc:d_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function d_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class np extends ph{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new f_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function wP(i,e){const t=typeof i=="object"?i:lT(),s=typeof i=="string"?i:Uc,l=rT(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=$E("firestore");c&&yP(l,...c)}return l}function Av(i){if(i._terminated)throw new We(we.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||EP(i),i._firestoreClient}function EP(i){const e=i._freezeSettings(),t=(function(l,c,p,E){return new BT(l,c,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Iv(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new dP(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Lr.fromBase64String(e))}catch(t){throw new We(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new co(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:co._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,co._jsonSchema))return co.fromBase64String(e.bytes)}}co._jsonSchemaVersion="firestore/bytes/1.0",co._jsonSchema={type:Wn("string",co._jsonSchemaVersion),bytes:Wn("string")};class rp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new We(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rv{constructor(e){this._methodName=e}}class Po{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new We(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new We(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Po._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Po._jsonSchema))return new Po(e.latitude,e.longitude)}}Po._jsonSchemaVersion="firestore/geoPoint/1.0",Po._jsonSchema={type:Wn("string",Po._jsonSchemaVersion),latitude:Wn("number"),longitude:Wn("number")};class jo{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,jo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new jo(e.vectorValues);throw new We(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jo._jsonSchemaVersion="firestore/vectorValue/1.0",jo._jsonSchema={type:Wn("string",jo._jsonSchemaVersion),vectorValues:Wn("object")};const TP=/^__.*__$/;class SP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}function Lv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:i})}}class ip{constructor(e,t,s,l,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lv(this.Ac)&&TP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hh(e)}Cc(e,t,s,l=!1){return new ip({Ac:e,methodName:t,Dc:s,path:Rr.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(i){const e=i._freezeSettings(),t=hh(i._databaseId);return new xP(i._databaseId,!!e.ignoreUndefinedProperties,t)}function PP(i,e,t,s,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,t,l);Ov("Data must be an object, but it was:",p,s);const E=Nv(s,p);let T,x;if(c.merge)T=new xo(p.fieldMask),x=p.fieldTransforms;else if(c.mergeFields){const A=[];for(const M of c.mergeFields){const b=IP(e,M,t);if(!p.contains(b))throw new We(we.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);AP(A,b)||A.push(b)}T=new xo(A),x=p.fieldTransforms.filter((M=>T.covers(M.field)))}else T=null,x=p.fieldTransforms;return new SP(new uo(E),T,x)}function CP(i,e,t,s=!1){return op(t,i.Cc(s?4:3,e))}function op(i,e){if(Dv(i=Ja(i)))return Ov("Unsupported field value:",e,i),Nv(i,e);if(i instanceof Rv)return(function(s,l){if(!Lv(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const E of s){let T=op(E,l.wc(p));T==null&&(T={nullValue:"NULL_VALUE"}),c.push(T),p++}return{arrayValue:{values:c}}})(i,e)}return(function(s,l){if((s=Ja(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uS(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=en.fromDate(s);return{timestampValue:Zc(l.serializer,c)}}if(s instanceof en){const c=new en(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(s instanceof Po)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:Jy(l.serializer,s._byteString)};if(s instanceof mr){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ud(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof jo)return(function(p,E){return{mapValue:{fields:{[Cy]:{stringValue:Iy},[jc]:{arrayValue:{values:p.toArray().map((x=>{if(typeof x!="number")throw E.Sc("VectorValues must only contain numeric values.");return Fd(E.serializer,x)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${nh(s)}`)})(i,e)}function Nv(i,e){const t={};return wy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(i,((s,l)=>{const c=op(l,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function Dv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof en||i instanceof Po||i instanceof co||i instanceof mr||i instanceof Rv||i instanceof jo)}function Ov(i,e,t){if(!Dv(t)||!yy(t)){const s=nh(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function IP(i,e,t){if((e=Ja(e))instanceof rp)return e._internalPath;if(typeof e=="string")return Vv(i,e);throw Xc("Field path arguments must be of type string or ",i,!1,void 0,t)}const kP=new RegExp("[~\\*/\\[\\]]");function Vv(i,e,t){if(e.search(kP)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new rp(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xc(i,e,t,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let T="";return(c||p)&&(T+=" (found",c&&(T+=` in field ${s}`),p&&(T+=` in document ${l}`),T+=")"),new We(we.INVALID_ARGUMENT,E+i+T)}function AP(i,e){return i.some((t=>t.isEqual(e)))}class bv{constructor(e,t,s,l,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RP extends bv{data(){return super.data()}}function sp(i,e){return typeof e=="string"?Vv(i,e):e instanceof rp?e._internalPath:e._delegate._internalPath}function LP(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new We(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class MP extends ap{}function Fv(i,e,...t){let s=[];e instanceof ap&&s.push(e),s=s.concat(t),(function(c){const p=c.filter((T=>T instanceof lp)).length,E=c.filter((T=>T instanceof mh)).length;if(p>1||p>0&&E>0)throw new We(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)i=l._apply(i);return i}class mh extends MP{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new mh(e,t,s)}_apply(e){const t=this._parse(e);return Bv(e._query,t),new pl(e.firestore,e.converter,ad(e._query,t))}_parse(e){const t=Mv(e.firestore);return(function(c,p,E,T,x,A,M){let b;if(x.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new We(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){m_(M,A);const J=[];for(const re of M)J.push(p_(T,c,re));b={arrayValue:{values:J}}}else b=p_(T,c,M)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||m_(M,A),b=CP(E,p,M,A==="in"||A==="not-in");return Hn.create(x,A,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zv(i,e,t){const s=e,l=sp("where",i);return mh._create(l,s,t)}class lp extends ap{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lp(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Io.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,c){let p=l;const E=c.getFlattenedFilters();for(const T of E)Bv(p,T),p=ad(p,T)})(e._query,t),new pl(e.firestore,e.converter,ad(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function p_(i,e,t){if(typeof(t=Ja(t))=="string"){if(t==="")throw new We(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vy(e)&&t.indexOf("/")!==-1)throw new We(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qt.fromString(t));if(!et.isDocumentKey(s))throw new We(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lg(i,new et(s))}if(t instanceof mr)return Lg(i,t._key);throw new We(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(t)}.`)}function m_(i,e){if(!Array.isArray(i)||i.length===0)throw new We(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bv(i,e){const t=(function(l,c){for(const p of l)for(const E of p.getFlattenedFilters())if(c.indexOf(E.op)>=0)return E.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new We(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class NP{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ga(e,((l,c)=>{s[l]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[jc].arrayValue?.values?.map((s=>Dn(s.doubleValue)));return new jo(t)}convertGeoPoint(e){return new Po(Dn(e.latitude),Dn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=oh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new en(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qt.fromString(e);Wt(ov(s),9688,{name:e});const l=new nu(s.get(1),s.get(3)),c=new et(s.popFirst(5));return l.isEqual(t)||as(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function DP(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends bv{constructor(e,t,s,l,c,p){super(e,t,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Wn("string",Xa._jsonSchemaVersion),bundleSource:Wn("string","DocumentSnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class Lc extends Xa{data(e={}){return super.data(e)}}class Ya{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new wc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Lc(this._firestore,this._userDataWriter,s.key,s,new wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new We(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((E=>{const T=new Lc(l._firestore,l._userDataWriter,E.doc.key,E.doc,new wc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);return E.doc,{type:"added",doc:T,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((E=>c||E.type!==3)).map((E=>{const T=new Lc(l._firestore,l._userDataWriter,E.doc.key,E.doc,new wc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,A=-1;return E.type!==0&&(x=p.indexOf(E.doc.key),p=p.delete(E.doc.key)),E.type!==1&&(p=p.add(E.doc),A=p.indexOf(E.doc.key)),{type:OP(E.type),doc:T,oldIndex:x,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Md.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:i})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Wn("string",Ya._jsonSchemaVersion),bundleSource:Wn("string","QuerySnapshot"),bundleName:Wn("string"),bundle:Wn("string")};class VP extends NP{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function Uv(i){i=zc(i,pl);const e=zc(i.firestore,np),t=Av(e),s=new VP(e);return LP(i._query),_P(t,i._query).then((l=>new Ya(e,s,i,l)))}function bP(i,e){const t=zc(i.firestore,np),s=vP(i),l=DP(i.converter,e);return FP(t,[PP(Mv(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,is.exists(!1))]).then((()=>s))}function FP(i,e){return(function(s,l){const c=new Bs;return s.asyncQueue.enqueueAndForget((async()=>rP(await mP(s),l,c))),c.promise})(Av(i),e)}(function(e,t=!0){(function(l){cl=l})(aT),Fc(new Yl("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),E=new np(new ET(s.getProvider("auth-internal")),new xT(p,s.getProvider("app-check-internal")),(function(x,A){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new We(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(x.options.projectId,A)})(p,l),p);return c={useFetchStreams:t,...c},E._setSettings(c),E}),"PUBLIC").setMultipleInstances(!0)),Ka(yg,vg,e),Ka(yg,vg,"esm2020")})();var zP="firebase",BP="12.6.0";Ka(zP,BP,"app");const UP={apiKey:"AIzaSyBmuAEAYT7lDAXha5ggNTqyJonQSbuU_Lo",authDomain:"luganolake-713bb.firebaseapp.com",projectId:"luganolake-713bb",storageBucket:"luganolake-713bb.firebasestorage.app",messagingSenderId:"209192463504",appId:"1:209192463504:web:1bad34dd249ebdca347c15"},jP=sy(UP),up=wP(jP);function HP(){const[i,e]=de.useState([]),{mode:t}=th();de.useEffect(()=>{const l=Fv(tp(up,"trails"),zv("tags","array-contains",t));console.log("Map render mode: ",t),(async()=>{try{const E=(await Uv(l)).docs.map(T=>({id:T.id,...T.data()}));e(E)}catch(p){console.error("Error fetching trails:",p)}})()},[t]);const s=i.map(l=>l.track);return Ae.jsx(Ae.Fragment,{children:s.map((l,c)=>Ae.jsxs(Hi.Fragment,{children:[Ae.jsx(X_,{positions:l.map(p=>[p.latitude,p.longitude]),color:"red",weight:4},`route ${c}`),Ae.jsx(Q_,{position:[l[0].latitude,l[0].longitude]},`marker ${c}`)]},`group ${c}`))})}var Os={},ca={};var g_;function WP(){if(g_)return ca;g_=1;var i=su();function e(y){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+y,D=1;D<arguments.length;D++)I+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+y+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t=Object.prototype.hasOwnProperty,s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},c={};function p(y){return t.call(c,y)?!0:t.call(l,y)?!1:s.test(y)?c[y]=!0:(l[y]=!0,!1)}function E(y,I,D,F,ae,ee,he){this.acceptsBooleans=I===2||I===3||I===4,this.attributeName=F,this.attributeNamespace=ae,this.mustUseProperty=D,this.propertyName=y,this.type=I,this.sanitizeURL=ee,this.removeEmptyString=he}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(y){T[y]=new E(y,0,!1,y,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(y){var I=y[0];T[I]=new E(I,1,!1,y[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(y){T[y]=new E(y,2,!1,y.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(y){T[y]=new E(y,2,!1,y,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(y){T[y]=new E(y,3,!1,y.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(y){T[y]=new E(y,3,!0,y,null,!1,!1)}),["capture","download"].forEach(function(y){T[y]=new E(y,4,!1,y,null,!1,!1)}),["cols","rows","size","span"].forEach(function(y){T[y]=new E(y,6,!1,y,null,!1,!1)}),["rowSpan","start"].forEach(function(y){T[y]=new E(y,5,!1,y.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function A(y){return y[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(y){var I=y.replace(x,A);T[I]=new E(I,1,!1,y,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(y){var I=y.replace(x,A);T[I]=new E(I,1,!1,y,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(y){var I=y.replace(x,A);T[I]=new E(I,1,!1,y,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(y){T[y]=new E(y,1,!1,y.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(y){T[y]=new E(y,1,!1,y.toLowerCase(),null,!0,!0)});var M={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b=["Webkit","ms","Moz","O"];Object.keys(M).forEach(function(y){b.forEach(function(I){I=I+y.charAt(0).toUpperCase()+y.substring(1),M[I]=M[y]})});var $=/["'&<>]/;function J(y){if(typeof y=="boolean"||typeof y=="number")return""+y;y=""+y;var I=$.exec(y);if(I){var D="",F,ae=0;for(F=I.index;F<y.length;F++){switch(y.charCodeAt(F)){case 34:I="&quot;";break;case 38:I="&amp;";break;case 39:I="&#x27;";break;case 60:I="&lt;";break;case 62:I="&gt;";break;default:continue}ae!==F&&(D+=y.substring(ae,F)),ae=F+1,D+=I}y=ae!==F?D+y.substring(ae,F):D}return y}var re=/([A-Z])/g,Y=/^ms-/,me=Array.isArray;function pe(y,I){return{insertionMode:y,selectedValue:I}}function xe(y,I,D){switch(I){case"select":return pe(1,D.value!=null?D.value:D.defaultValue);case"svg":return pe(2,null);case"math":return pe(3,null);case"foreignObject":return pe(1,null);case"table":return pe(4,null);case"thead":case"tbody":case"tfoot":return pe(5,null);case"colgroup":return pe(7,null);case"tr":return pe(6,null)}return 4<=y.insertionMode||y.insertionMode===0?pe(1,null):y}var Ne=new Map;function qe(y,I,D){if(typeof D!="object")throw Error(e(62));I=!0;for(var F in D)if(t.call(D,F)){var ae=D[F];if(ae!=null&&typeof ae!="boolean"&&ae!==""){if(F.indexOf("--")===0){var ee=J(F);ae=J((""+ae).trim())}else{ee=F;var he=Ne.get(ee);he!==void 0||(he=J(ee.replace(re,"-$1").toLowerCase().replace(Y,"-ms-")),Ne.set(ee,he)),ee=he,ae=typeof ae=="number"?ae===0||t.call(M,F)?""+ae:ae+"px":J((""+ae).trim())}I?(I=!1,y.push(' style="',ee,":",ae)):y.push(";",ee,":",ae)}}I||y.push('"')}function Fe(y,I,D,F){switch(D){case"style":qe(y,I,F);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<D.length)||D[0]!=="o"&&D[0]!=="O"||D[1]!=="n"&&D[1]!=="N"){if(I=T.hasOwnProperty(D)?T[D]:null,I!==null){switch(typeof F){case"function":case"symbol":return;case"boolean":if(!I.acceptsBooleans)return}switch(D=I.attributeName,I.type){case 3:F&&y.push(" ",D,'=""');break;case 4:F===!0?y.push(" ",D,'=""'):F!==!1&&y.push(" ",D,'="',J(F),'"');break;case 5:isNaN(F)||y.push(" ",D,'="',J(F),'"');break;case 6:!isNaN(F)&&1<=F&&y.push(" ",D,'="',J(F),'"');break;default:I.sanitizeURL&&(F=""+F),y.push(" ",D,'="',J(F),'"')}}else if(p(D)){switch(typeof F){case"function":case"symbol":return;case"boolean":if(I=D.toLowerCase().slice(0,5),I!=="data-"&&I!=="aria-")return}y.push(" ",D,'="',J(F),'"')}}}function H(y,I,D){if(I!=null){if(D!=null)throw Error(e(60));if(typeof I!="object"||!("__html"in I))throw Error(e(61));I=I.__html,I!=null&&y.push(""+I)}}function z(y){var I="";return i.Children.forEach(y,function(D){D!=null&&(I+=D)}),I}function j(y,I,D,F){y.push(K(D));var ae=D=null,ee;for(ee in I)if(t.call(I,ee)){var he=I[ee];if(he!=null)switch(ee){case"children":D=he;break;case"dangerouslySetInnerHTML":ae=he;break;default:Fe(y,F,ee,he)}}return y.push(">"),H(y,ae,D),typeof D=="string"?(y.push(J(D)),null):D}var Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,W=new Map;function K(y){var I=W.get(y);if(I===void 0){if(!Z.test(y))throw Error(e(65,y));I="<"+y,W.set(y,I)}return I}function U(y,I,D,F,ae){switch(I){case"select":y.push(K("select"));var ee=null,he=null;for(ot in D)if(t.call(D,ot)){var Ce=D[ot];if(Ce!=null)switch(ot){case"children":ee=Ce;break;case"dangerouslySetInnerHTML":he=Ce;break;case"defaultValue":case"value":break;default:Fe(y,F,ot,Ce)}}return y.push(">"),H(y,he,ee),ee;case"option":he=ae.selectedValue,y.push(K("option"));var Re=Ce=null,Ze=null,ot=null;for(ee in D)if(t.call(D,ee)){var Pt=D[ee];if(Pt!=null)switch(ee){case"children":Ce=Pt;break;case"selected":Ze=Pt;break;case"dangerouslySetInnerHTML":ot=Pt;break;case"value":Re=Pt;default:Fe(y,F,ee,Pt)}}if(he!=null)if(D=Re!==null?""+Re:z(Ce),me(he)){for(F=0;F<he.length;F++)if(""+he[F]===D){y.push(' selected=""');break}}else""+he===D&&y.push(' selected=""');else Ze&&y.push(' selected=""');return y.push(">"),H(y,ot,Ce),Ce;case"textarea":y.push(K("textarea")),ot=he=ee=null;for(Ce in D)if(t.call(D,Ce)&&(Re=D[Ce],Re!=null))switch(Ce){case"children":ot=Re;break;case"value":ee=Re;break;case"defaultValue":he=Re;break;case"dangerouslySetInnerHTML":throw Error(e(91));default:Fe(y,F,Ce,Re)}if(ee===null&&he!==null&&(ee=he),y.push(">"),ot!=null){if(ee!=null)throw Error(e(92));if(me(ot)&&1<ot.length)throw Error(e(93));ee=""+ot}return typeof ee=="string"&&ee[0]===`
`&&y.push(`
`),ee!==null&&y.push(J(""+ee)),null;case"input":y.push(K("input")),Re=ot=Ce=ee=null;for(he in D)if(t.call(D,he)&&(Ze=D[he],Ze!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"input"));case"defaultChecked":Re=Ze;break;case"defaultValue":Ce=Ze;break;case"checked":ot=Ze;break;case"value":ee=Ze;break;default:Fe(y,F,he,Ze)}return ot!==null?Fe(y,F,"checked",ot):Re!==null&&Fe(y,F,"checked",Re),ee!==null?Fe(y,F,"value",ee):Ce!==null&&Fe(y,F,"value",Ce),y.push("/>"),null;case"menuitem":y.push(K("menuitem"));for(var xn in D)if(t.call(D,xn)&&(ee=D[xn],ee!=null))switch(xn){case"children":case"dangerouslySetInnerHTML":throw Error(e(400));default:Fe(y,F,xn,ee)}return y.push(">"),null;case"title":y.push(K("title")),ee=null;for(Pt in D)if(t.call(D,Pt)&&(he=D[Pt],he!=null))switch(Pt){case"children":ee=he;break;case"dangerouslySetInnerHTML":throw Error(e(434));default:Fe(y,F,Pt,he)}return y.push(">"),ee;case"listing":case"pre":y.push(K(I)),he=ee=null;for(Re in D)if(t.call(D,Re)&&(Ce=D[Re],Ce!=null))switch(Re){case"children":ee=Ce;break;case"dangerouslySetInnerHTML":he=Ce;break;default:Fe(y,F,Re,Ce)}if(y.push(">"),he!=null){if(ee!=null)throw Error(e(60));if(typeof he!="object"||!("__html"in he))throw Error(e(61));D=he.__html,D!=null&&(typeof D=="string"&&0<D.length&&D[0]===`
`?y.push(`
`,D):y.push(""+D))}return typeof ee=="string"&&ee[0]===`
`&&y.push(`
`),ee;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":y.push(K(I));for(var Pn in D)if(t.call(D,Pn)&&(ee=D[Pn],ee!=null))switch(Pn){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,I));default:Fe(y,F,Pn,ee)}return y.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return j(y,D,I,F);case"html":return ae.insertionMode===0&&y.push("<!DOCTYPE html>"),j(y,D,I,F);default:if(I.indexOf("-")===-1&&typeof D.is!="string")return j(y,D,I,F);y.push(K(I)),he=ee=null;for(Ze in D)if(t.call(D,Ze)&&(Ce=D[Ze],Ce!=null))switch(Ze){case"children":ee=Ce;break;case"dangerouslySetInnerHTML":he=Ce;break;case"style":qe(y,F,Ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:p(Ze)&&typeof Ce!="function"&&typeof Ce!="symbol"&&y.push(" ",Ze,'="',J(Ce),'"')}return y.push(">"),H(y,he,ee),ee}}function vt(y,I,D){if(y.push('<!--$?--><template id="'),D===null)throw Error(e(395));return y.push(D),y.push('"></template>')}function Xt(y,I,D,F){switch(D.insertionMode){case 0:case 1:return y.push('<div hidden id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');case 2:return y.push('<svg aria-hidden="true" style="display:none" id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');case 3:return y.push('<math aria-hidden="true" style="display:none" id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');case 4:return y.push('<table hidden id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');case 5:return y.push('<table hidden><tbody id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');case 6:return y.push('<table hidden><tr id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');case 7:return y.push('<table hidden><colgroup id="'),y.push(I.segmentPrefix),I=F.toString(16),y.push(I),y.push('">');default:throw Error(e(397))}}function Lt(y,I){switch(I.insertionMode){case 0:case 1:return y.push("</div>");case 2:return y.push("</svg>");case 3:return y.push("</math>");case 4:return y.push("</table>");case 5:return y.push("</tbody></table>");case 6:return y.push("</tr></table>");case 7:return y.push("</colgroup></table>");default:throw Error(e(397))}}var Mt=/[<\u2028\u2029]/g;function _e(y){return JSON.stringify(y).replace(Mt,function(I){switch(I){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function ze(y,I){return I=I===void 0?"":I,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:I+"P:",segmentPrefix:I+"S:",boundaryPrefix:I+"B:",idPrefix:I,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:y}}function ve(y,I,D,F){return D.generateStaticMarkup?(y.push(J(I)),!1):(I===""?y=F:(F&&y.push("<!-- -->"),y.push(J(I)),y=!0),y)}var Q=Object.assign,ye=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),ht=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),vn=Symbol.for("react.suspense_list"),gr=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),qn=Symbol.for("react.scope"),Wi=Symbol.for("react.debug_trace_mode"),Mr=Symbol.for("react.legacy_hidden"),qr=Symbol.for("react.default_value"),_r=Symbol.iterator;function jt(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case je:return"Fragment";case Ke:return"Portal";case De:return"Profiler";case Be:return"StrictMode";case qt:return"Suspense";case vn:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case ht:return(y.displayName||"Context")+".Consumer";case dt:return(y._context.displayName||"Context")+".Provider";case _t:var I=y.render;return y=y.displayName,y||(y=I.displayName||I.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case gr:return I=y.displayName||null,I!==null?I:jt(y.type)||"Memo";case Ut:I=y._payload,y=y._init;try{return jt(y(I))}catch{}}return null}var Bt={};function On(y,I){if(y=y.contextTypes,!y)return Bt;var D={},F;for(F in y)D[F]=I[F];return D}var $n=null;function tn(y,I){if(y!==I){y.context._currentValue2=y.parentValue,y=y.parent;var D=I.parent;if(y===null){if(D!==null)throw Error(e(401))}else{if(D===null)throw Error(e(401));tn(y,D)}I.context._currentValue2=I.value}}function ho(y){y.context._currentValue2=y.parentValue,y=y.parent,y!==null&&ho(y)}function $r(y){var I=y.parent;I!==null&&$r(I),y.context._currentValue2=y.value}function ai(y,I){if(y.context._currentValue2=y.parentValue,y=y.parent,y===null)throw Error(e(402));y.depth===I.depth?tn(y,I):ai(y,I)}function li(y,I){var D=I.parent;if(D===null)throw Error(e(402));y.depth===D.depth?tn(y,D):li(y,D),I.context._currentValue2=I.value}function tr(y){var I=$n;I!==y&&(I===null?$r(y):y===null?ho(I):I.depth===y.depth?tn(I,y):I.depth>y.depth?ai(I,y):li(I,y),$n=y)}var fo={isMounted:function(){return!1},enqueueSetState:function(y,I){y=y._reactInternals,y.queue!==null&&y.queue.push(I)},enqueueReplaceState:function(y,I){y=y._reactInternals,y.replace=!0,y.queue=[I]},enqueueForceUpdate:function(){}};function Zr(y,I,D,F){var ae=y.state!==void 0?y.state:null;y.updater=fo,y.props=D,y.state=ae;var ee={queue:[],replace:!1};y._reactInternals=ee;var he=I.contextType;if(y.context=typeof he=="object"&&he!==null?he._currentValue2:F,he=I.getDerivedStateFromProps,typeof he=="function"&&(he=he(D,ae),ae=he==null?ae:Q({},ae,he),y.state=ae),typeof I.getDerivedStateFromProps!="function"&&typeof y.getSnapshotBeforeUpdate!="function"&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function"))if(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&fo.enqueueReplaceState(y,y.state,null),ee.queue!==null&&0<ee.queue.length)if(I=ee.queue,he=ee.replace,ee.queue=null,ee.replace=!1,he&&I.length===1)y.state=I[0];else{for(ee=he?I[0]:y.state,ae=!0,he=he?1:0;he<I.length;he++){var Ce=I[he];Ce=typeof Ce=="function"?Ce.call(y,ee,D,F):Ce,Ce!=null&&(ae?(ae=!1,ee=Q({},ee,Ce)):Q(ee,Ce))}y.state=ee}else ee.queue=null}var Gr={id:1,overflow:""};function qi(y,I,D){var F=y.id;y=y.overflow;var ae=32-nr(F)-1;F&=~(1<<ae),D+=1;var ee=32-nr(I)+ae;if(30<ee){var he=ae-ae%5;return ee=(F&(1<<he)-1).toString(32),F>>=he,ae-=he,{id:1<<32-nr(I)+ae|D<<ae|F,overflow:ee+y}}return{id:1<<ee|D<<ae|F,overflow:y}}var nr=Math.clz32?Math.clz32:yr,ui=Math.log,$i=Math.LN2;function yr(y){return y>>>=0,y===0?32:31-(ui(y)/$i|0)|0}function Nr(y,I){return y===I&&(y!==0||1/y===1/I)||y!==y&&I!==I}var ci=typeof Object.is=="function"?Object.is:Nr,wn=null,rr=null,Zn=null,tt=null,Kr=!1,vr=!1,ir=0,wr=null,Ii=0;function dn(){if(wn===null)throw Error(e(321));return wn}function ki(){if(0<Ii)throw Error(e(312));return{memoizedState:null,queue:null,next:null}}function Qr(){return tt===null?Zn===null?(Kr=!1,Zn=tt=ki()):(Kr=!0,tt=Zn):tt.next===null?(Kr=!1,tt=tt.next=ki()):(Kr=!0,tt=tt.next),tt}function Dr(){rr=wn=null,vr=!1,Zn=null,Ii=0,tt=wr=null}function Xr(y,I){return typeof I=="function"?I(y):I}function po(y,I,D){if(wn=dn(),tt=Qr(),Kr){var F=tt.queue;if(I=F.dispatch,wr!==null&&(D=wr.get(F),D!==void 0)){wr.delete(F),F=tt.memoizedState;do F=y(F,D.action),D=D.next;while(D!==null);return tt.memoizedState=F,[F,I]}return[tt.memoizedState,I]}return y=y===Xr?typeof I=="function"?I():I:D!==void 0?D(I):I,tt.memoizedState=y,y=tt.queue={last:null,dispatch:null},y=y.dispatch=be.bind(null,wn,y),[tt.memoizedState,y]}function Yt(y,I){if(wn=dn(),tt=Qr(),I=I===void 0?null:I,tt!==null){var D=tt.memoizedState;if(D!==null&&I!==null){var F=D[1];e:if(F===null)F=!1;else{for(var ae=0;ae<F.length&&ae<I.length;ae++)if(!ci(I[ae],F[ae])){F=!1;break e}F=!0}if(F)return D[0]}}return y=y(),tt.memoizedState=[y,I],y}function be(y,I,D){if(25<=Ii)throw Error(e(301));if(y===wn)if(vr=!0,y={action:D,next:null},wr===null&&(wr=new Map),D=wr.get(I),D===void 0)wr.set(I,y);else{for(I=D;I.next!==null;)I=I.next;I.next=y}}function Ai(){throw Error(e(394))}function pn(){}var Zi={readContext:function(y){return y._currentValue2},useContext:function(y){return dn(),y._currentValue2},useMemo:Yt,useReducer:po,useRef:function(y){wn=dn(),tt=Qr();var I=tt.memoizedState;return I===null?(y={current:y},tt.memoizedState=y):I},useState:function(y){return po(Xr,y)},useInsertionEffect:pn,useLayoutEffect:function(){},useCallback:function(y,I){return Yt(function(){return y},I)},useImperativeHandle:pn,useEffect:pn,useDebugValue:pn,useDeferredValue:function(y){return dn(),y},useTransition:function(){return dn(),[!1,Ai]},useId:function(){var y=rr.treeContext,I=y.overflow;y=y.id,y=(y&~(1<<32-nr(y)-1)).toString(32)+I;var D=hi;if(D===null)throw Error(e(404));return I=ir++,y=":"+D.idPrefix+"R"+y,0<I&&(y+="H"+I.toString(32)),y+":"},useMutableSource:function(y,I){return dn(),I(y._source)},useSyncExternalStore:function(y,I,D){if(D===void 0)throw Error(e(407));return D()}},hi=null,Yr=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function or(y){return console.error(y),null}function Vn(){}function mo(y,I,D,F,ae,ee,he,Ce,Re){var Ze=[],ot=new Set;return I={destination:null,responseState:I,progressiveChunkSize:F===void 0?12800:F,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:ot,pingedTasks:Ze,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:ae===void 0?or:ae,onAllReady:Vn,onShellReady:he===void 0?Vn:he,onShellError:Vn,onFatalError:Vn},D=Ri(I,0,null,D,!1,!1),D.parentFlushed=!0,y=Gi(I,y,null,D,ot,Bt,null,Gr),Ze.push(y),I}function Gi(y,I,D,F,ae,ee,he,Ce){y.allPendingTasks++,D===null?y.pendingRootTasks++:D.pendingTasks++;var Re={node:I,ping:function(){var Ze=y.pingedTasks;Ze.push(Re),Ze.length===1&&Sn(y)},blockedBoundary:D,blockedSegment:F,abortSet:ae,legacyContext:ee,context:he,treeContext:Ce};return ae.add(Re),Re}function Ri(y,I,D,F,ae,ee){return{status:0,id:-1,index:I,parentFlushed:!1,chunks:[],children:[],formatContext:F,boundary:D,lastPushedText:ae,textEmbedded:ee}}function Er(y,I){if(y=y.onError(I),y!=null&&typeof y!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof y+'" instead');return y}function fi(y,I){var D=y.onShellError;D(I),D=y.onFatalError,D(I),y.destination!==null?(y.status=2,y.destination.destroy(I)):(y.status=1,y.fatalError=I)}function di(y,I,D,F,ae){for(wn={},rr=I,ir=0,y=D(F,ae);vr;)vr=!1,ir=0,Ii+=1,tt=null,y=D(F,ae);return Dr(),y}function pi(y,I,D,F){var ae=D.render(),ee=F.childContextTypes;if(ee!=null){var he=I.legacyContext;if(typeof D.getChildContext!="function")F=he;else{D=D.getChildContext();for(var Ce in D)if(!(Ce in ee))throw Error(e(108,jt(F)||"Unknown",Ce));F=Q({},he,D)}I.legacyContext=F,En(y,I,ae),I.legacyContext=he}else En(y,I,ae)}function Gn(y,I){if(y&&y.defaultProps){I=Q({},I),y=y.defaultProps;for(var D in y)I[D]===void 0&&(I[D]=y[D]);return I}return I}function Ot(y,I,D,F,ae){if(typeof D=="function")if(D.prototype&&D.prototype.isReactComponent){ae=On(D,I.legacyContext);var ee=D.contextType;ee=new D(F,typeof ee=="object"&&ee!==null?ee._currentValue2:ae),Zr(ee,D,F,ae),pi(y,I,ee,D)}else{ee=On(D,I.legacyContext),ae=di(y,I,D,F,ee);var he=ir!==0;if(typeof ae=="object"&&ae!==null&&typeof ae.render=="function"&&ae.$$typeof===void 0)Zr(ae,D,F,ee),pi(y,I,ae,D);else if(he){F=I.treeContext,I.treeContext=qi(F,1,0);try{En(y,I,ae)}finally{I.treeContext=F}}else En(y,I,ae)}else if(typeof D=="string"){switch(ae=I.blockedSegment,ee=U(ae.chunks,D,F,y.responseState,ae.formatContext),ae.lastPushedText=!1,he=ae.formatContext,ae.formatContext=xe(he,D,F),Mi(y,I,ee),ae.formatContext=he,D){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:ae.chunks.push("</",D,">")}ae.lastPushedText=!1}else{switch(D){case Mr:case Wi:case Be:case De:case je:En(y,I,F.children);return;case vn:En(y,I,F.children);return;case qn:throw Error(e(343));case qt:e:{D=I.blockedBoundary,ae=I.blockedSegment,ee=F.fallback,F=F.children,he=new Set;var Ce={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:he,errorDigest:null},Re=Ri(y,ae.chunks.length,Ce,ae.formatContext,!1,!1);ae.children.push(Re),ae.lastPushedText=!1;var Ze=Ri(y,0,null,ae.formatContext,!1,!1);Ze.parentFlushed=!0,I.blockedBoundary=Ce,I.blockedSegment=Ze;try{if(Mi(y,I,F),y.responseState.generateStaticMarkup||Ze.lastPushedText&&Ze.textEmbedded&&Ze.chunks.push("<!-- -->"),Ze.status=1,Tn(Ce,Ze),Ce.pendingTasks===0)break e}catch(ot){Ze.status=4,Ce.forceClientRender=!0,Ce.errorDigest=Er(y,ot)}finally{I.blockedBoundary=D,I.blockedSegment=ae}I=Gi(y,ee,D,Re,he,I.legacyContext,I.context,I.treeContext),y.pingedTasks.push(I)}return}if(typeof D=="object"&&D!==null)switch(D.$$typeof){case _t:if(F=di(y,I,D.render,F,ae),ir!==0){D=I.treeContext,I.treeContext=qi(D,1,0);try{En(y,I,F)}finally{I.treeContext=D}}else En(y,I,F);return;case gr:D=D.type,F=Gn(D,F),Ot(y,I,D,F,ae);return;case dt:if(ae=F.children,D=D._context,F=F.value,ee=D._currentValue2,D._currentValue2=F,he=$n,$n=F={parent:he,depth:he===null?0:he.depth+1,context:D,parentValue:ee,value:F},I.context=F,En(y,I,ae),y=$n,y===null)throw Error(e(403));F=y.parentValue,y.context._currentValue2=F===qr?y.context._defaultValue:F,y=$n=y.parent,I.context=y;return;case ht:F=F.children,F=F(D._currentValue2),En(y,I,F);return;case Ut:ae=D._init,D=ae(D._payload),F=Gn(D,F),Ot(y,I,D,F,void 0);return}throw Error(e(130,D==null?D:typeof D,""))}}function En(y,I,D){if(I.node=D,typeof D=="object"&&D!==null){switch(D.$$typeof){case ye:Ot(y,I,D.type,D.props,D.ref);return;case Ke:throw Error(e(257));case Ut:var F=D._init;D=F(D._payload),En(y,I,D);return}if(me(D)){Li(y,I,D);return}if(D===null||typeof D!="object"?F=null:(F=_r&&D[_r]||D["@@iterator"],F=typeof F=="function"?F:null),F&&(F=F.call(D))){if(D=F.next(),!D.done){var ae=[];do ae.push(D.value),D=F.next();while(!D.done);Li(y,I,ae)}return}throw y=Object.prototype.toString.call(D),Error(e(31,y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":y))}typeof D=="string"?(F=I.blockedSegment,F.lastPushedText=ve(I.blockedSegment.chunks,D,y.responseState,F.lastPushedText)):typeof D=="number"&&(F=I.blockedSegment,F.lastPushedText=ve(I.blockedSegment.chunks,""+D,y.responseState,F.lastPushedText))}function Li(y,I,D){for(var F=D.length,ae=0;ae<F;ae++){var ee=I.treeContext;I.treeContext=qi(ee,F,ae);try{Mi(y,I,D[ae])}finally{I.treeContext=ee}}}function Mi(y,I,D){var F=I.blockedSegment.formatContext,ae=I.legacyContext,ee=I.context;try{return En(y,I,D)}catch(Re){if(Dr(),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"){D=Re;var he=I.blockedSegment,Ce=Ri(y,he.chunks.length,null,he.formatContext,he.lastPushedText,!0);he.children.push(Ce),he.lastPushedText=!1,y=Gi(y,I.node,I.blockedBoundary,Ce,I.abortSet,I.legacyContext,I.context,I.treeContext).ping,D.then(y,y),I.blockedSegment.formatContext=F,I.legacyContext=ae,I.context=ee,tr(ee)}else throw I.blockedSegment.formatContext=F,I.legacyContext=ae,I.context=ee,tr(ee),Re}}function Jr(y){var I=y.blockedBoundary;y=y.blockedSegment,y.status=3,Kn(this,I,y)}function mi(y,I,D){var F=y.blockedBoundary;y.blockedSegment.status=3,F===null?(I.allPendingTasks--,I.status!==2&&(I.status=2,I.destination!==null&&I.destination.push(null))):(F.pendingTasks--,F.forceClientRender||(F.forceClientRender=!0,y=D===void 0?Error(e(432)):D,F.errorDigest=I.onError(y),F.parentFlushed&&I.clientRenderedBoundaries.push(F)),F.fallbackAbortableTasks.forEach(function(ae){return mi(ae,I,D)}),F.fallbackAbortableTasks.clear(),I.allPendingTasks--,I.allPendingTasks===0&&(F=I.onAllReady,F()))}function Tn(y,I){if(I.chunks.length===0&&I.children.length===1&&I.children[0].boundary===null){var D=I.children[0];D.id=I.id,D.parentFlushed=!0,D.status===1&&Tn(y,D)}else y.completedSegments.push(I)}function Kn(y,I,D){if(I===null){if(D.parentFlushed){if(y.completedRootSegment!==null)throw Error(e(389));y.completedRootSegment=D}y.pendingRootTasks--,y.pendingRootTasks===0&&(y.onShellError=Vn,I=y.onShellReady,I())}else I.pendingTasks--,I.forceClientRender||(I.pendingTasks===0?(D.parentFlushed&&D.status===1&&Tn(I,D),I.parentFlushed&&y.completedBoundaries.push(I),I.fallbackAbortableTasks.forEach(Jr,y),I.fallbackAbortableTasks.clear()):D.parentFlushed&&D.status===1&&(Tn(I,D),I.completedSegments.length===1&&I.parentFlushed&&y.partialBoundaries.push(I)));y.allPendingTasks--,y.allPendingTasks===0&&(y=y.onAllReady,y())}function Sn(y){if(y.status!==2){var I=$n,D=Yr.current;Yr.current=Zi;var F=hi;hi=y.responseState;try{var ae=y.pingedTasks,ee;for(ee=0;ee<ae.length;ee++){var he=ae[ee],Ce=y,Re=he.blockedSegment;if(Re.status===0){tr(he.context);try{En(Ce,he,he.node),Ce.responseState.generateStaticMarkup||Re.lastPushedText&&Re.textEmbedded&&Re.chunks.push("<!-- -->"),he.abortSet.delete(he),Re.status=1,Kn(Ce,he.blockedBoundary,Re)}catch(rn){if(Dr(),typeof rn=="object"&&rn!==null&&typeof rn.then=="function"){var Ze=he.ping;rn.then(Ze,Ze)}else{he.abortSet.delete(he),Re.status=4;var ot=he.blockedBoundary,Pt=rn,xn=Er(Ce,Pt);if(ot===null?fi(Ce,Pt):(ot.pendingTasks--,ot.forceClientRender||(ot.forceClientRender=!0,ot.errorDigest=xn,ot.parentFlushed&&Ce.clientRenderedBoundaries.push(ot))),Ce.allPendingTasks--,Ce.allPendingTasks===0){var Pn=Ce.onAllReady;Pn()}}}finally{}}}ae.splice(0,ee),y.destination!==null&&nn(y,y.destination)}catch(rn){Er(y,rn),fi(y,rn)}finally{hi=F,Yr.current=D,D===Zi&&tr(I)}}}function sr(y,I,D){switch(D.parentFlushed=!0,D.status){case 0:var F=D.id=y.nextSegmentId++;return D.lastPushedText=!1,D.textEmbedded=!1,y=y.responseState,I.push('<template id="'),I.push(y.placeholderPrefix),y=F.toString(16),I.push(y),I.push('"></template>');case 1:D.status=2;var ae=!0;F=D.chunks;var ee=0;D=D.children;for(var he=0;he<D.length;he++){for(ae=D[he];ee<ae.index;ee++)I.push(F[ee]);ae=nt(y,I,ae)}for(;ee<F.length-1;ee++)I.push(F[ee]);return ee<F.length&&(ae=I.push(F[ee])),ae;default:throw Error(e(390))}}function nt(y,I,D){var F=D.boundary;if(F===null)return sr(y,I,D);if(F.parentFlushed=!0,F.forceClientRender)return y.responseState.generateStaticMarkup||(F=F.errorDigest,I.push("<!--$!-->"),I.push("<template"),F&&(I.push(' data-dgst="'),F=J(F),I.push(F),I.push('"')),I.push("></template>")),sr(y,I,D),y=y.responseState.generateStaticMarkup?!0:I.push("<!--/$-->"),y;if(0<F.pendingTasks){F.rootSegmentID=y.nextSegmentId++,0<F.completedSegments.length&&y.partialBoundaries.push(F);var ae=y.responseState,ee=ae.nextSuspenseID++;return ae=ae.boundaryPrefix+ee.toString(16),F=F.id=ae,vt(I,y.responseState,F),sr(y,I,D),I.push("<!--/$-->")}if(F.byteSize>y.progressiveChunkSize)return F.rootSegmentID=y.nextSegmentId++,y.completedBoundaries.push(F),vt(I,y.responseState,F.id),sr(y,I,D),I.push("<!--/$-->");if(y.responseState.generateStaticMarkup||I.push("<!--$-->"),D=F.completedSegments,D.length!==1)throw Error(e(391));return nt(y,I,D[0]),y=y.responseState.generateStaticMarkup?!0:I.push("<!--/$-->"),y}function wt(y,I,D){return Xt(I,y.responseState,D.formatContext,D.id),nt(y,I,D),Lt(I,D.formatContext)}function sn(y,I,D){for(var F=D.completedSegments,ae=0;ae<F.length;ae++)bn(y,I,D,F[ae]);if(F.length=0,y=y.responseState,F=D.id,D=D.rootSegmentID,I.push(y.startInlineScript),y.sentCompleteBoundaryFunction?I.push('$RC("'):(y.sentCompleteBoundaryFunction=!0,I.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),F===null)throw Error(e(395));return D=D.toString(16),I.push(F),I.push('","'),I.push(y.segmentPrefix),I.push(D),I.push('")<\/script>')}function bn(y,I,D,F){if(F.status===2)return!0;var ae=F.id;if(ae===-1){if((F.id=D.rootSegmentID)===-1)throw Error(e(392));return wt(y,I,F)}return wt(y,I,F),y=y.responseState,I.push(y.startInlineScript),y.sentCompleteSegmentFunction?I.push('$RS("'):(y.sentCompleteSegmentFunction=!0,I.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),I.push(y.segmentPrefix),ae=ae.toString(16),I.push(ae),I.push('","'),I.push(y.placeholderPrefix),I.push(ae),I.push('")<\/script>')}function nn(y,I){try{var D=y.completedRootSegment;if(D!==null&&y.pendingRootTasks===0){nt(y,I,D),y.completedRootSegment=null;var F=y.responseState.bootstrapChunks;for(D=0;D<F.length-1;D++)I.push(F[D]);D<F.length&&I.push(F[D])}var ae=y.clientRenderedBoundaries,ee;for(ee=0;ee<ae.length;ee++){var he=ae[ee];F=I;var Ce=y.responseState,Re=he.id,Ze=he.errorDigest,ot=he.errorMessage,Pt=he.errorComponentStack;if(F.push(Ce.startInlineScript),Ce.sentClientRenderFunction?F.push('$RX("'):(Ce.sentClientRenderFunction=!0,F.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),Re===null)throw Error(e(395));if(F.push(Re),F.push('"'),Ze||ot||Pt){F.push(",");var xn=_e(Ze||"");F.push(xn)}if(ot||Pt){F.push(",");var Pn=_e(ot||"");F.push(Pn)}if(Pt){F.push(",");var rn=_e(Pt);F.push(rn)}if(!F.push(")<\/script>")){y.destination=null,ee++,ae.splice(0,ee);return}}ae.splice(0,ee);var mn=y.completedBoundaries;for(ee=0;ee<mn.length;ee++)if(!sn(y,I,mn[ee])){y.destination=null,ee++,mn.splice(0,ee);return}mn.splice(0,ee);var Fn=y.partialBoundaries;for(ee=0;ee<Fn.length;ee++){var Cn=Fn[ee];e:{ae=y,he=I;var In=Cn.completedSegments;for(Ce=0;Ce<In.length;Ce++)if(!bn(ae,he,Cn,In[Ce])){Ce++,In.splice(0,Ce);var Zt=!1;break e}In.splice(0,Ce),Zt=!0}if(!Zt){y.destination=null,ee++,Fn.splice(0,ee);return}}Fn.splice(0,ee);var ar=y.completedBoundaries;for(ee=0;ee<ar.length;ee++)if(!sn(y,I,ar[ee])){y.destination=null,ee++,ar.splice(0,ee);return}ar.splice(0,ee)}finally{y.allPendingTasks===0&&y.pingedTasks.length===0&&y.clientRenderedBoundaries.length===0&&y.completedBoundaries.length===0&&I.push(null)}}function Tr(y,I){try{var D=y.abortableTasks;D.forEach(function(F){return mi(F,y,I)}),D.clear(),y.destination!==null&&nn(y,y.destination)}catch(F){Er(y,F),fi(y,F)}}function Oe(){}function xt(y,I,D,F){var ae=!1,ee=null,he="",Ce={push:function(Ze){return Ze!==null&&(he+=Ze),!0},destroy:function(Ze){ae=!0,ee=Ze}},Re=!1;if(y=mo(y,ze(D,I?I.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Oe,void 0,function(){Re=!0}),Sn(y),Tr(y,F),y.status===1)y.status=2,Ce.destroy(y.fatalError);else if(y.status!==2&&y.destination===null){y.destination=Ce;try{nn(y,Ce)}catch(Ze){Er(y,Ze),fi(y,Ze)}}if(ae)throw ee;if(!Re)throw Error(e(426));return he}return ca.renderToNodeStream=function(){throw Error(e(207))},ca.renderToStaticMarkup=function(y,I){return xt(y,I,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},ca.renderToStaticNodeStream=function(){throw Error(e(208))},ca.renderToString=function(y,I){return xt(y,I,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},ca.version="18.3.1",ca}var Ec={};var __;function qP(){if(__)return Ec;__=1;var i=su();function e(_){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+_,N=1;N<arguments.length;N++)C+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+_+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t=null,s=0;function l(_,C){if(C.length!==0)if(512<C.length)0<s&&(_.enqueue(new Uint8Array(t.buffer,0,s)),t=new Uint8Array(512),s=0),_.enqueue(C);else{var N=t.length-s;N<C.length&&(N===0?_.enqueue(t):(t.set(C.subarray(0,N),s),_.enqueue(t),C=C.subarray(N)),t=new Uint8Array(512),s=0),t.set(C,s),s+=C.length}}function c(_,C){return l(_,C),!0}function p(_){t&&0<s&&(_.enqueue(new Uint8Array(t.buffer,0,s)),t=null,s=0)}var E=new TextEncoder;function T(_){return E.encode(_)}function x(_){return E.encode(_)}function A(_,C){typeof _.error=="function"?_.error(C):_.close()}var M=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$={},J={};function re(_){return M.call(J,_)?!0:M.call($,_)?!1:b.test(_)?J[_]=!0:($[_]=!0,!1)}function Y(_,C,N,V,ie,ne,ge){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=V,this.attributeNamespace=ie,this.mustUseProperty=N,this.propertyName=_,this.type=C,this.sanitizeURL=ne,this.removeEmptyString=ge}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_){me[_]=new Y(_,0,!1,_,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_){var C=_[0];me[C]=new Y(C,1,!1,_[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(_){me[_]=new Y(_,2,!1,_.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_){me[_]=new Y(_,2,!1,_,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_){me[_]=new Y(_,3,!1,_.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(_){me[_]=new Y(_,3,!0,_,null,!1,!1)}),["capture","download"].forEach(function(_){me[_]=new Y(_,4,!1,_,null,!1,!1)}),["cols","rows","size","span"].forEach(function(_){me[_]=new Y(_,6,!1,_,null,!1,!1)}),["rowSpan","start"].forEach(function(_){me[_]=new Y(_,5,!1,_.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function xe(_){return _[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_){var C=_.replace(pe,xe);me[C]=new Y(C,1,!1,_,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_){var C=_.replace(pe,xe);me[C]=new Y(C,1,!1,_,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(_){var C=_.replace(pe,xe);me[C]=new Y(C,1,!1,_,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(_){me[_]=new Y(_,1,!1,_.toLowerCase(),null,!1,!1)}),me.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(_){me[_]=new Y(_,1,!1,_.toLowerCase(),null,!0,!0)});var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qe=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(_){qe.forEach(function(C){C=C+_.charAt(0).toUpperCase()+_.substring(1),Ne[C]=Ne[_]})});var Fe=/["'&<>]/;function H(_){if(typeof _=="boolean"||typeof _=="number")return""+_;_=""+_;var C=Fe.exec(_);if(C){var N="",V,ie=0;for(V=C.index;V<_.length;V++){switch(_.charCodeAt(V)){case 34:C="&quot;";break;case 38:C="&amp;";break;case 39:C="&#x27;";break;case 60:C="&lt;";break;case 62:C="&gt;";break;default:continue}ie!==V&&(N+=_.substring(ie,V)),ie=V+1,N+=C}_=ie!==V?N+_.substring(ie,V):N}return _}var z=/([A-Z])/g,j=/^ms-/,Z=Array.isArray,W=x("<script>"),K=x("<\/script>"),U=x('<script src="'),vt=x('<script type="module" src="'),Xt=x('" async=""><\/script>'),Lt=/(<\/|<)(s)(cript)/gi;function Mt(_,C,N,V){return""+C+(N==="s"?"\\u0073":"\\u0053")+V}function _e(_,C,N,V,ie){_=_===void 0?"":_,C=C===void 0?W:x('<script nonce="'+H(C)+'">');var ne=[];if(N!==void 0&&ne.push(C,T((""+N).replace(Lt,Mt)),K),V!==void 0)for(N=0;N<V.length;N++)ne.push(U,T(H(V[N])),Xt);if(ie!==void 0)for(V=0;V<ie.length;V++)ne.push(vt,T(H(ie[V])),Xt);return{bootstrapChunks:ne,startInlineScript:C,placeholderPrefix:x(_+"P:"),segmentPrefix:x(_+"S:"),boundaryPrefix:_+"B:",idPrefix:_,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ze(_,C){return{insertionMode:_,selectedValue:C}}function ve(_){return ze(_==="http://www.w3.org/2000/svg"?2:_==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Q(_,C,N){switch(C){case"select":return ze(1,N.value!=null?N.value:N.defaultValue);case"svg":return ze(2,null);case"math":return ze(3,null);case"foreignObject":return ze(1,null);case"table":return ze(4,null);case"thead":case"tbody":case"tfoot":return ze(5,null);case"colgroup":return ze(7,null);case"tr":return ze(6,null)}return 4<=_.insertionMode||_.insertionMode===0?ze(1,null):_}var ye=x("<!-- -->");function Ke(_,C,N,V){return C===""?V:(V&&_.push(ye),_.push(T(H(C))),!0)}var je=new Map,Be=x(' style="'),De=x(":"),dt=x(";");function ht(_,C,N){if(typeof N!="object")throw Error(e(62));C=!0;for(var V in N)if(M.call(N,V)){var ie=N[V];if(ie!=null&&typeof ie!="boolean"&&ie!==""){if(V.indexOf("--")===0){var ne=T(H(V));ie=T(H((""+ie).trim()))}else{ne=V;var ge=je.get(ne);ge!==void 0||(ge=x(H(ne.replace(z,"-$1").toLowerCase().replace(j,"-ms-"))),je.set(ne,ge)),ne=ge,ie=typeof ie=="number"?ie===0||M.call(Ne,V)?T(""+ie):T(ie+"px"):T(H((""+ie).trim()))}C?(C=!1,_.push(Be,ne,De,ie)):_.push(dt,ne,De,ie)}}C||_.push(vn)}var _t=x(" "),qt=x('="'),vn=x('"'),gr=x('=""');function Ut(_,C,N,V){switch(N){case"style":ht(_,C,V);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<N.length)||N[0]!=="o"&&N[0]!=="O"||N[1]!=="n"&&N[1]!=="N"){if(C=me.hasOwnProperty(N)?me[N]:null,C!==null){switch(typeof V){case"function":case"symbol":return;case"boolean":if(!C.acceptsBooleans)return}switch(N=T(C.attributeName),C.type){case 3:V&&_.push(_t,N,gr);break;case 4:V===!0?_.push(_t,N,gr):V!==!1&&_.push(_t,N,qt,T(H(V)),vn);break;case 5:isNaN(V)||_.push(_t,N,qt,T(H(V)),vn);break;case 6:!isNaN(V)&&1<=V&&_.push(_t,N,qt,T(H(V)),vn);break;default:C.sanitizeURL&&(V=""+V),_.push(_t,N,qt,T(H(V)),vn)}}else if(re(N)){switch(typeof V){case"function":case"symbol":return;case"boolean":if(C=N.toLowerCase().slice(0,5),C!=="data-"&&C!=="aria-")return}_.push(_t,T(N),qt,T(H(V)),vn)}}}var qn=x(">"),Wi=x("/>");function Mr(_,C,N){if(C!=null){if(N!=null)throw Error(e(60));if(typeof C!="object"||!("__html"in C))throw Error(e(61));C=C.__html,C!=null&&_.push(T(""+C))}}function qr(_){var C="";return i.Children.forEach(_,function(N){N!=null&&(C+=N)}),C}var _r=x(' selected=""');function jt(_,C,N,V){_.push(tn(N));var ie=N=null,ne;for(ne in C)if(M.call(C,ne)){var ge=C[ne];if(ge!=null)switch(ne){case"children":N=ge;break;case"dangerouslySetInnerHTML":ie=ge;break;default:Ut(_,V,ne,ge)}}return _.push(qn),Mr(_,ie,N),typeof N=="string"?(_.push(T(H(N))),null):N}var Bt=x(`
`),On=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$n=new Map;function tn(_){var C=$n.get(_);if(C===void 0){if(!On.test(_))throw Error(e(65,_));C=x("<"+_),$n.set(_,C)}return C}var ho=x("<!DOCTYPE html>");function $r(_,C,N,V,ie){switch(C){case"select":_.push(tn("select"));var ne=null,ge=null;for(ut in N)if(M.call(N,ut)){var ke=N[ut];if(ke!=null)switch(ut){case"children":ne=ke;break;case"dangerouslySetInnerHTML":ge=ke;break;case"defaultValue":case"value":break;default:Ut(_,V,ut,ke)}}return _.push(qn),Mr(_,ge,ne),ne;case"option":ge=ie.selectedValue,_.push(tn("option"));var Qe=ke=null,lt=null,ut=null;for(ne in N)if(M.call(N,ne)){var Ct=N[ne];if(Ct!=null)switch(ne){case"children":ke=Ct;break;case"selected":lt=Ct;break;case"dangerouslySetInnerHTML":ut=Ct;break;case"value":Qe=Ct;default:Ut(_,V,ne,Ct)}}if(ge!=null)if(N=Qe!==null?""+Qe:qr(ke),Z(ge)){for(V=0;V<ge.length;V++)if(""+ge[V]===N){_.push(_r);break}}else""+ge===N&&_.push(_r);else lt&&_.push(_r);return _.push(qn),Mr(_,ut,ke),ke;case"textarea":_.push(tn("textarea")),ut=ge=ne=null;for(ke in N)if(M.call(N,ke)&&(Qe=N[ke],Qe!=null))switch(ke){case"children":ut=Qe;break;case"value":ne=Qe;break;case"defaultValue":ge=Qe;break;case"dangerouslySetInnerHTML":throw Error(e(91));default:Ut(_,V,ke,Qe)}if(ne===null&&ge!==null&&(ne=ge),_.push(qn),ut!=null){if(ne!=null)throw Error(e(92));if(Z(ut)&&1<ut.length)throw Error(e(93));ne=""+ut}return typeof ne=="string"&&ne[0]===`
`&&_.push(Bt),ne!==null&&_.push(T(H(""+ne))),null;case"input":_.push(tn("input")),Qe=ut=ke=ne=null;for(ge in N)if(M.call(N,ge)&&(lt=N[ge],lt!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"input"));case"defaultChecked":Qe=lt;break;case"defaultValue":ke=lt;break;case"checked":ut=lt;break;case"value":ne=lt;break;default:Ut(_,V,ge,lt)}return ut!==null?Ut(_,V,"checked",ut):Qe!==null&&Ut(_,V,"checked",Qe),ne!==null?Ut(_,V,"value",ne):ke!==null&&Ut(_,V,"value",ke),_.push(Wi),null;case"menuitem":_.push(tn("menuitem"));for(var cr in N)if(M.call(N,cr)&&(ne=N[cr],ne!=null))switch(cr){case"children":case"dangerouslySetInnerHTML":throw Error(e(400));default:Ut(_,V,cr,ne)}return _.push(qn),null;case"title":_.push(tn("title")),ne=null;for(Ct in N)if(M.call(N,Ct)&&(ge=N[Ct],ge!=null))switch(Ct){case"children":ne=ge;break;case"dangerouslySetInnerHTML":throw Error(e(434));default:Ut(_,V,Ct,ge)}return _.push(qn),ne;case"listing":case"pre":_.push(tn(C)),ge=ne=null;for(Qe in N)if(M.call(N,Qe)&&(ke=N[Qe],ke!=null))switch(Qe){case"children":ne=ke;break;case"dangerouslySetInnerHTML":ge=ke;break;default:Ut(_,V,Qe,ke)}if(_.push(qn),ge!=null){if(ne!=null)throw Error(e(60));if(typeof ge!="object"||!("__html"in ge))throw Error(e(61));N=ge.__html,N!=null&&(typeof N=="string"&&0<N.length&&N[0]===`
`?_.push(Bt,T(N)):_.push(T(""+N)))}return typeof ne=="string"&&ne[0]===`
`&&_.push(Bt),ne;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":_.push(tn(C));for(var Mn in N)if(M.call(N,Mn)&&(ne=N[Mn],ne!=null))switch(Mn){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,C));default:Ut(_,V,Mn,ne)}return _.push(Wi),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return jt(_,N,C,V);case"html":return ie.insertionMode===0&&_.push(ho),jt(_,N,C,V);default:if(C.indexOf("-")===-1&&typeof N.is!="string")return jt(_,N,C,V);_.push(tn(C)),ge=ne=null;for(lt in N)if(M.call(N,lt)&&(ke=N[lt],ke!=null))switch(lt){case"children":ne=ke;break;case"dangerouslySetInnerHTML":ge=ke;break;case"style":ht(_,V,ke);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:re(lt)&&typeof ke!="function"&&typeof ke!="symbol"&&_.push(_t,T(lt),qt,T(H(ke)),vn)}return _.push(qn),Mr(_,ge,ne),ne}}var ai=x("</"),li=x(">"),tr=x('<template id="'),fo=x('"></template>'),Zr=x("<!--$-->"),Gr=x('<!--$?--><template id="'),qi=x('"></template>'),nr=x("<!--$!-->"),ui=x("<!--/$-->"),$i=x("<template"),yr=x('"'),Nr=x(' data-dgst="');x(' data-msg="'),x(' data-stck="');var ci=x("></template>");function wn(_,C,N){if(l(_,Gr),N===null)throw Error(e(395));return l(_,N),c(_,qi)}var rr=x('<div hidden id="'),Zn=x('">'),tt=x("</div>"),Kr=x('<svg aria-hidden="true" style="display:none" id="'),vr=x('">'),ir=x("</svg>"),wr=x('<math aria-hidden="true" style="display:none" id="'),Ii=x('">'),dn=x("</math>"),ki=x('<table hidden id="'),Qr=x('">'),Dr=x("</table>"),Xr=x('<table hidden><tbody id="'),po=x('">'),Yt=x("</tbody></table>"),be=x('<table hidden><tr id="'),Ai=x('">'),pn=x("</tr></table>"),Zi=x('<table hidden><colgroup id="'),hi=x('">'),Yr=x("</colgroup></table>");function or(_,C,N,V){switch(N.insertionMode){case 0:case 1:return l(_,rr),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,Zn);case 2:return l(_,Kr),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,vr);case 3:return l(_,wr),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,Ii);case 4:return l(_,ki),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,Qr);case 5:return l(_,Xr),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,po);case 6:return l(_,be),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,Ai);case 7:return l(_,Zi),l(_,C.segmentPrefix),l(_,T(V.toString(16))),c(_,hi);default:throw Error(e(397))}}function Vn(_,C){switch(C.insertionMode){case 0:case 1:return c(_,tt);case 2:return c(_,ir);case 3:return c(_,dn);case 4:return c(_,Dr);case 5:return c(_,Yt);case 6:return c(_,pn);case 7:return c(_,Yr);default:throw Error(e(397))}}var mo=x('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Gi=x('$RS("'),Ri=x('","'),Er=x('")<\/script>'),fi=x('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),di=x('$RC("'),pi=x('","'),Gn=x('")<\/script>'),Ot=x('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),En=x('$RX("'),Li=x('"'),Mi=x(")<\/script>"),Jr=x(","),mi=/[<\u2028\u2029]/g;function Tn(_){return JSON.stringify(_).replace(mi,function(C){switch(C){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Kn=Object.assign,Sn=Symbol.for("react.element"),sr=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),wt=Symbol.for("react.strict_mode"),sn=Symbol.for("react.profiler"),bn=Symbol.for("react.provider"),nn=Symbol.for("react.context"),Tr=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.scope"),F=Symbol.for("react.debug_trace_mode"),ae=Symbol.for("react.legacy_hidden"),ee=Symbol.for("react.default_value"),he=Symbol.iterator;function Ce(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case nt:return"Fragment";case sr:return"Portal";case sn:return"Profiler";case wt:return"StrictMode";case Oe:return"Suspense";case xt:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case nn:return(_.displayName||"Context")+".Consumer";case bn:return(_._context.displayName||"Context")+".Provider";case Tr:var C=_.render;return _=_.displayName,_||(_=C.displayName||C.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case y:return C=_.displayName||null,C!==null?C:Ce(_.type)||"Memo";case I:C=_._payload,_=_._init;try{return Ce(_(C))}catch{}}return null}var Re={};function Ze(_,C){if(_=_.contextTypes,!_)return Re;var N={},V;for(V in _)N[V]=C[V];return N}var ot=null;function Pt(_,C){if(_!==C){_.context._currentValue=_.parentValue,_=_.parent;var N=C.parent;if(_===null){if(N!==null)throw Error(e(401))}else{if(N===null)throw Error(e(401));Pt(_,N)}C.context._currentValue=C.value}}function xn(_){_.context._currentValue=_.parentValue,_=_.parent,_!==null&&xn(_)}function Pn(_){var C=_.parent;C!==null&&Pn(C),_.context._currentValue=_.value}function rn(_,C){if(_.context._currentValue=_.parentValue,_=_.parent,_===null)throw Error(e(402));_.depth===C.depth?Pt(_,C):rn(_,C)}function mn(_,C){var N=C.parent;if(N===null)throw Error(e(402));_.depth===N.depth?Pt(_,N):mn(_,N),C.context._currentValue=C.value}function Fn(_){var C=ot;C!==_&&(C===null?Pn(_):_===null?xn(C):C.depth===_.depth?Pt(C,_):C.depth>_.depth?rn(C,_):mn(C,_),ot=_)}var Cn={isMounted:function(){return!1},enqueueSetState:function(_,C){_=_._reactInternals,_.queue!==null&&_.queue.push(C)},enqueueReplaceState:function(_,C){_=_._reactInternals,_.replace=!0,_.queue=[C]},enqueueForceUpdate:function(){}};function In(_,C,N,V){var ie=_.state!==void 0?_.state:null;_.updater=Cn,_.props=N,_.state=ie;var ne={queue:[],replace:!1};_._reactInternals=ne;var ge=C.contextType;if(_.context=typeof ge=="object"&&ge!==null?ge._currentValue:V,ge=C.getDerivedStateFromProps,typeof ge=="function"&&(ge=ge(N,ie),ie=ge==null?ie:Kn({},ie,ge),_.state=ie),typeof C.getDerivedStateFromProps!="function"&&typeof _.getSnapshotBeforeUpdate!="function"&&(typeof _.UNSAFE_componentWillMount=="function"||typeof _.componentWillMount=="function"))if(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&Cn.enqueueReplaceState(_,_.state,null),ne.queue!==null&&0<ne.queue.length)if(C=ne.queue,ge=ne.replace,ne.queue=null,ne.replace=!1,ge&&C.length===1)_.state=C[0];else{for(ne=ge?C[0]:_.state,ie=!0,ge=ge?1:0;ge<C.length;ge++){var ke=C[ge];ke=typeof ke=="function"?ke.call(_,ne,N,V):ke,ke!=null&&(ie?(ie=!1,ne=Kn({},ne,ke)):Kn(ne,ke))}_.state=ne}else ne.queue=null}var Zt={id:1,overflow:""};function ar(_,C,N){var V=_.id;_=_.overflow;var ie=32-Je(V)-1;V&=~(1<<ie),N+=1;var ne=32-Je(C)+ie;if(30<ne){var ge=ie-ie%5;return ne=(V&(1<<ge)-1).toString(32),V>>=ge,ie-=ge,{id:1<<32-Je(C)+ie|N<<ie|V,overflow:ne+_}}return{id:1<<ne|N<<ie|V,overflow:_}}var Je=Math.clz32?Math.clz32:Ni,Gt=Math.log,Vt=Math.LN2;function Ni(_){return _>>>=0,_===0?32:31-(Gt(_)/Vt|0)|0}function Sr(_,C){return _===C&&(_!==0||1/_===1/C)||_!==_&&C!==C}var Ao=typeof Object.is=="function"?Object.is:Sr,zn=null,Et=null,Di=null,It=null,Ft=!1,kn=!1,lr=0,An=null,xr=0;function ei(){if(zn===null)throw Error(e(321));return zn}function Ki(){if(0<xr)throw Error(e(312));return{memoizedState:null,queue:null,next:null}}function Or(){return It===null?Di===null?(Ft=!1,Di=It=Ki()):(Ft=!0,It=Di):It.next===null?(Ft=!1,It=It.next=Ki()):(Ft=!0,It=It.next),It}function Oi(){Et=zn=null,kn=!1,Di=null,xr=0,It=An=null}function mt(_,C){return typeof C=="function"?C(_):C}function ur(_,C,N){if(zn=ei(),It=Or(),Ft){var V=It.queue;if(C=V.dispatch,An!==null&&(N=An.get(V),N!==void 0)){An.delete(V),V=It.memoizedState;do V=_(V,N.action),N=N.next;while(N!==null);return It.memoizedState=V,[V,C]}return[It.memoizedState,C]}return _=_===mt?typeof C=="function"?C():C:N!==void 0?N(C):C,It.memoizedState=_,_=It.queue={last:null,dispatch:null},_=_.dispatch=Pr.bind(null,zn,_),[It.memoizedState,_]}function Rn(_,C){if(zn=ei(),It=Or(),C=C===void 0?null:C,It!==null){var N=It.memoizedState;if(N!==null&&C!==null){var V=N[1];e:if(V===null)V=!1;else{for(var ie=0;ie<V.length&&ie<C.length;ie++)if(!Ao(C[ie],V[ie])){V=!1;break e}V=!0}if(V)return N[0]}}return _=_(),It.memoizedState=[_,C],_}function Pr(_,C,N){if(25<=xr)throw Error(e(301));if(_===zn)if(kn=!0,_={action:N,next:null},An===null&&(An=new Map),N=An.get(C),N===void 0)An.set(C,_);else{for(C=N;C.next!==null;)C=C.next;C.next=_}}function Wo(){throw Error(e(394))}function gi(){}var Cr={readContext:function(_){return _._currentValue},useContext:function(_){return ei(),_._currentValue},useMemo:Rn,useReducer:ur,useRef:function(_){zn=ei(),It=Or();var C=It.memoizedState;return C===null?(_={current:_},It.memoizedState=_):C},useState:function(_){return ur(mt,_)},useInsertionEffect:gi,useLayoutEffect:function(){},useCallback:function(_,C){return Rn(function(){return _},C)},useImperativeHandle:gi,useEffect:gi,useDebugValue:gi,useDeferredValue:function(_){return ei(),_},useTransition:function(){return ei(),[!1,Wo]},useId:function(){var _=Et.treeContext,C=_.overflow;_=_.id,_=(_&~(1<<32-Je(_)-1)).toString(32)+C;var N=Qi;if(N===null)throw Error(e(404));return C=lr++,_=":"+N.idPrefix+"R"+_,0<C&&(_+="H"+C.toString(32)),_+":"},useMutableSource:function(_,C){return ei(),C(_._source)},useSyncExternalStore:function(_,C,N){if(N===void 0)throw Error(e(407));return N()}},Qi=null,an=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function _i(_){return console.error(_),null}function ti(){}function yi(_,C,N,V,ie,ne,ge,ke,Qe){var lt=[],ut=new Set;return C={destination:null,responseState:C,progressiveChunkSize:V===void 0?12800:V,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:ut,pingedTasks:lt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:ie===void 0?_i:ie,onAllReady:ne===void 0?ti:ne,onShellReady:ge===void 0?ti:ge,onShellError:ke===void 0?ti:ke,onFatalError:Qe===void 0?ti:Qe},N=gn(C,0,null,N,!1,!1),N.parentFlushed=!0,_=Xi(C,_,null,N,ut,Re,null,Zt),lt.push(_),C}function Xi(_,C,N,V,ie,ne,ge,ke){_.allPendingTasks++,N===null?_.pendingRootTasks++:N.pendingTasks++;var Qe={node:C,ping:function(){var lt=_.pingedTasks;lt.push(Qe),lt.length===1&&P(_)},blockedBoundary:N,blockedSegment:V,abortSet:ie,legacyContext:ne,context:ge,treeContext:ke};return ie.add(Qe),Qe}function gn(_,C,N,V,ie,ne){return{status:0,id:-1,index:C,parentFlushed:!1,chunks:[],children:[],formatContext:V,boundary:N,lastPushedText:ie,textEmbedded:ne}}function vi(_,C){if(_=_.onError(C),_!=null&&typeof _!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof _+'" instead');return _}function Ln(_,C){var N=_.onShellError;N(C),N=_.onFatalError,N(C),_.destination!==null?(_.status=2,A(_.destination,C)):(_.status=1,_.fatalError=C)}function Qn(_,C,N,V,ie){for(zn={},Et=C,lr=0,_=N(V,ie);kn;)kn=!1,lr=0,xr+=1,It=null,_=N(V,ie);return Oi(),_}function go(_,C,N,V){var ie=N.render(),ne=V.childContextTypes;if(ne!=null){var ge=C.legacyContext;if(typeof N.getChildContext!="function")V=ge;else{N=N.getChildContext();for(var ke in N)if(!(ke in ne))throw Error(e(108,Ce(V)||"Unknown",ke));V=Kn({},ge,N)}C.legacyContext=V,_n(_,C,ie),C.legacyContext=ge}else _n(_,C,ie)}function Ro(_,C){if(_&&_.defaultProps){C=Kn({},C),_=_.defaultProps;for(var N in _)C[N]===void 0&&(C[N]=_[N]);return C}return C}function Yi(_,C,N,V,ie){if(typeof N=="function")if(N.prototype&&N.prototype.isReactComponent){ie=Ze(N,C.legacyContext);var ne=N.contextType;ne=new N(V,typeof ne=="object"&&ne!==null?ne._currentValue:ie),In(ne,N,V,ie),go(_,C,ne,N)}else{ne=Ze(N,C.legacyContext),ie=Qn(_,C,N,V,ne);var ge=lr!==0;if(typeof ie=="object"&&ie!==null&&typeof ie.render=="function"&&ie.$$typeof===void 0)In(ie,N,V,ne),go(_,C,ie,N);else if(ge){V=C.treeContext,C.treeContext=ar(V,1,0);try{_n(_,C,ie)}finally{C.treeContext=V}}else _n(_,C,ie)}else if(typeof N=="string"){switch(ie=C.blockedSegment,ne=$r(ie.chunks,N,V,_.responseState,ie.formatContext),ie.lastPushedText=!1,ge=ie.formatContext,ie.formatContext=Q(ge,N,V),_o(_,C,ne),ie.formatContext=ge,N){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:ie.chunks.push(ai,T(N),li)}ie.lastPushedText=!1}else{switch(N){case ae:case F:case wt:case sn:case nt:_n(_,C,V.children);return;case xt:_n(_,C,V.children);return;case D:throw Error(e(343));case Oe:e:{N=C.blockedBoundary,ie=C.blockedSegment,ne=V.fallback,V=V.children,ge=new Set;var ke={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:ge,errorDigest:null},Qe=gn(_,ie.chunks.length,ke,ie.formatContext,!1,!1);ie.children.push(Qe),ie.lastPushedText=!1;var lt=gn(_,0,null,ie.formatContext,!1,!1);lt.parentFlushed=!0,C.blockedBoundary=ke,C.blockedSegment=lt;try{if(_o(_,C,V),lt.lastPushedText&&lt.textEmbedded&&lt.chunks.push(ye),lt.status=1,h(ke,lt),ke.pendingTasks===0)break e}catch(ut){lt.status=4,ke.forceClientRender=!0,ke.errorDigest=vi(_,ut)}finally{C.blockedBoundary=N,C.blockedSegment=ie}C=Xi(_,ne,N,Qe,ge,C.legacyContext,C.context,C.treeContext),_.pingedTasks.push(C)}return}if(typeof N=="object"&&N!==null)switch(N.$$typeof){case Tr:if(V=Qn(_,C,N.render,V,ie),lr!==0){N=C.treeContext,C.treeContext=ar(N,1,0);try{_n(_,C,V)}finally{C.treeContext=N}}else _n(_,C,V);return;case y:N=N.type,V=Ro(N,V),Yi(_,C,N,V,ie);return;case bn:if(ie=V.children,N=N._context,V=V.value,ne=N._currentValue,N._currentValue=V,ge=ot,ot=V={parent:ge,depth:ge===null?0:ge.depth+1,context:N,parentValue:ne,value:V},C.context=V,_n(_,C,ie),_=ot,_===null)throw Error(e(403));V=_.parentValue,_.context._currentValue=V===ee?_.context._defaultValue:V,_=ot=_.parent,C.context=_;return;case nn:V=V.children,V=V(N._currentValue),_n(_,C,V);return;case I:ie=N._init,N=ie(N._payload),V=Ro(N,V),Yi(_,C,N,V,void 0);return}throw Error(e(130,N==null?N:typeof N,""))}}function _n(_,C,N){if(C.node=N,typeof N=="object"&&N!==null){switch(N.$$typeof){case Sn:Yi(_,C,N.type,N.props,N.ref);return;case sr:throw Error(e(257));case I:var V=N._init;N=V(N._payload),_n(_,C,N);return}if(Z(N)){ln(_,C,N);return}if(N===null||typeof N!="object"?V=null:(V=he&&N[he]||N["@@iterator"],V=typeof V=="function"?V:null),V&&(V=V.call(N))){if(N=V.next(),!N.done){var ie=[];do ie.push(N.value),N=V.next();while(!N.done);ln(_,C,ie)}return}throw _=Object.prototype.toString.call(N),Error(e(31,_==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":_))}typeof N=="string"?(V=C.blockedSegment,V.lastPushedText=Ke(C.blockedSegment.chunks,N,_.responseState,V.lastPushedText)):typeof N=="number"&&(V=C.blockedSegment,V.lastPushedText=Ke(C.blockedSegment.chunks,""+N,_.responseState,V.lastPushedText))}function ln(_,C,N){for(var V=N.length,ie=0;ie<V;ie++){var ne=C.treeContext;C.treeContext=ar(ne,V,ie);try{_o(_,C,N[ie])}finally{C.treeContext=ne}}}function _o(_,C,N){var V=C.blockedSegment.formatContext,ie=C.legacyContext,ne=C.context;try{return _n(_,C,N)}catch(Qe){if(Oi(),typeof Qe=="object"&&Qe!==null&&typeof Qe.then=="function"){N=Qe;var ge=C.blockedSegment,ke=gn(_,ge.chunks.length,null,ge.formatContext,ge.lastPushedText,!0);ge.children.push(ke),ge.lastPushedText=!1,_=Xi(_,C.node,C.blockedBoundary,ke,C.abortSet,C.legacyContext,C.context,C.treeContext).ping,N.then(_,_),C.blockedSegment.formatContext=V,C.legacyContext=ie,C.context=ne,Fn(ne)}else throw C.blockedSegment.formatContext=V,C.legacyContext=ie,C.context=ne,Fn(ne),Qe}}function cs(_){var C=_.blockedBoundary;_=_.blockedSegment,_.status=3,v(this,C,_)}function Vi(_,C,N){var V=_.blockedBoundary;_.blockedSegment.status=3,V===null?(C.allPendingTasks--,C.status!==2&&(C.status=2,C.destination!==null&&C.destination.close())):(V.pendingTasks--,V.forceClientRender||(V.forceClientRender=!0,_=N===void 0?Error(e(432)):N,V.errorDigest=C.onError(_),V.parentFlushed&&C.clientRenderedBoundaries.push(V)),V.fallbackAbortableTasks.forEach(function(ie){return Vi(ie,C,N)}),V.fallbackAbortableTasks.clear(),C.allPendingTasks--,C.allPendingTasks===0&&(V=C.onAllReady,V()))}function h(_,C){if(C.chunks.length===0&&C.children.length===1&&C.children[0].boundary===null){var N=C.children[0];N.id=C.id,N.parentFlushed=!0,N.status===1&&h(_,N)}else _.completedSegments.push(C)}function v(_,C,N){if(C===null){if(N.parentFlushed){if(_.completedRootSegment!==null)throw Error(e(389));_.completedRootSegment=N}_.pendingRootTasks--,_.pendingRootTasks===0&&(_.onShellError=ti,C=_.onShellReady,C())}else C.pendingTasks--,C.forceClientRender||(C.pendingTasks===0?(N.parentFlushed&&N.status===1&&h(C,N),C.parentFlushed&&_.completedBoundaries.push(C),C.fallbackAbortableTasks.forEach(cs,_),C.fallbackAbortableTasks.clear()):N.parentFlushed&&N.status===1&&(h(C,N),C.completedSegments.length===1&&C.parentFlushed&&_.partialBoundaries.push(C)));_.allPendingTasks--,_.allPendingTasks===0&&(_=_.onAllReady,_())}function P(_){if(_.status!==2){var C=ot,N=an.current;an.current=Cr;var V=Qi;Qi=_.responseState;try{var ie=_.pingedTasks,ne;for(ne=0;ne<ie.length;ne++){var ge=ie[ne],ke=_,Qe=ge.blockedSegment;if(Qe.status===0){Fn(ge.context);try{_n(ke,ge,ge.node),Qe.lastPushedText&&Qe.textEmbedded&&Qe.chunks.push(ye),ge.abortSet.delete(ge),Qe.status=1,v(ke,ge.blockedBoundary,Qe)}catch(Vr){if(Oi(),typeof Vr=="object"&&Vr!==null&&typeof Vr.then=="function"){var lt=ge.ping;Vr.then(lt,lt)}else{ge.abortSet.delete(ge),Qe.status=4;var ut=ge.blockedBoundary,Ct=Vr,cr=vi(ke,Ct);if(ut===null?Ln(ke,Ct):(ut.pendingTasks--,ut.forceClientRender||(ut.forceClientRender=!0,ut.errorDigest=cr,ut.parentFlushed&&ke.clientRenderedBoundaries.push(ut))),ke.allPendingTasks--,ke.allPendingTasks===0){var Mn=ke.onAllReady;Mn()}}}finally{}}}ie.splice(0,ne),_.destination!==null&&Tt(_,_.destination)}catch(Vr){vi(_,Vr),Ln(_,Vr)}finally{Qi=V,an.current=N,N===Cr&&Fn(C)}}}function O(_,C,N){switch(N.parentFlushed=!0,N.status){case 0:var V=N.id=_.nextSegmentId++;return N.lastPushedText=!1,N.textEmbedded=!1,_=_.responseState,l(C,tr),l(C,_.placeholderPrefix),_=T(V.toString(16)),l(C,_),c(C,fo);case 1:N.status=2;var ie=!0;V=N.chunks;var ne=0;N=N.children;for(var ge=0;ge<N.length;ge++){for(ie=N[ge];ne<ie.index;ne++)l(C,V[ne]);ie=te(_,C,ie)}for(;ne<V.length-1;ne++)l(C,V[ne]);return ne<V.length&&(ie=c(C,V[ne])),ie;default:throw Error(e(390))}}function te(_,C,N){var V=N.boundary;if(V===null)return O(_,C,N);if(V.parentFlushed=!0,V.forceClientRender)V=V.errorDigest,c(C,nr),l(C,$i),V&&(l(C,Nr),l(C,T(H(V))),l(C,yr)),c(C,ci),O(_,C,N);else if(0<V.pendingTasks){V.rootSegmentID=_.nextSegmentId++,0<V.completedSegments.length&&_.partialBoundaries.push(V);var ie=_.responseState,ne=ie.nextSuspenseID++;ie=x(ie.boundaryPrefix+ne.toString(16)),V=V.id=ie,wn(C,_.responseState,V),O(_,C,N)}else if(V.byteSize>_.progressiveChunkSize)V.rootSegmentID=_.nextSegmentId++,_.completedBoundaries.push(V),wn(C,_.responseState,V.id),O(_,C,N);else{if(c(C,Zr),N=V.completedSegments,N.length!==1)throw Error(e(391));te(_,C,N[0])}return c(C,ui)}function ue(_,C,N){return or(C,_.responseState,N.formatContext,N.id),te(_,C,N),Vn(C,N.formatContext)}function Me(_,C,N){for(var V=N.completedSegments,ie=0;ie<V.length;ie++)rt(_,C,N,V[ie]);if(V.length=0,_=_.responseState,V=N.id,N=N.rootSegmentID,l(C,_.startInlineScript),_.sentCompleteBoundaryFunction?l(C,di):(_.sentCompleteBoundaryFunction=!0,l(C,fi)),V===null)throw Error(e(395));return N=T(N.toString(16)),l(C,V),l(C,pi),l(C,_.segmentPrefix),l(C,N),c(C,Gn)}function rt(_,C,N,V){if(V.status===2)return!0;var ie=V.id;if(ie===-1){if((V.id=N.rootSegmentID)===-1)throw Error(e(392));return ue(_,C,V)}return ue(_,C,V),_=_.responseState,l(C,_.startInlineScript),_.sentCompleteSegmentFunction?l(C,Gi):(_.sentCompleteSegmentFunction=!0,l(C,mo)),l(C,_.segmentPrefix),ie=T(ie.toString(16)),l(C,ie),l(C,Ri),l(C,_.placeholderPrefix),l(C,ie),c(C,Er)}function Tt(_,C){t=new Uint8Array(512),s=0;try{var N=_.completedRootSegment;if(N!==null&&_.pendingRootTasks===0){te(_,C,N),_.completedRootSegment=null;var V=_.responseState.bootstrapChunks;for(N=0;N<V.length-1;N++)l(C,V[N]);N<V.length&&c(C,V[N])}var ie=_.clientRenderedBoundaries,ne;for(ne=0;ne<ie.length;ne++){var ge=ie[ne];V=C;var ke=_.responseState,Qe=ge.id,lt=ge.errorDigest,ut=ge.errorMessage,Ct=ge.errorComponentStack;if(l(V,ke.startInlineScript),ke.sentClientRenderFunction?l(V,En):(ke.sentClientRenderFunction=!0,l(V,Ot)),Qe===null)throw Error(e(395));l(V,Qe),l(V,Li),(lt||ut||Ct)&&(l(V,Jr),l(V,T(Tn(lt||"")))),(ut||Ct)&&(l(V,Jr),l(V,T(Tn(ut||"")))),Ct&&(l(V,Jr),l(V,T(Tn(Ct)))),c(V,Mi)}ie.splice(0,ne);var cr=_.completedBoundaries;for(ne=0;ne<cr.length;ne++)Me(_,C,cr[ne]);cr.splice(0,ne),p(C),t=new Uint8Array(512),s=0;var Mn=_.partialBoundaries;for(ne=0;ne<Mn.length;ne++){var Vr=Mn[ne];e:{ie=_,ge=C;var bi=Vr.completedSegments;for(ke=0;ke<bi.length;ke++)if(!rt(ie,ge,Vr,bi[ke])){ke++,bi.splice(0,ke);var hs=!1;break e}bi.splice(0,ke),hs=!0}if(!hs){_.destination=null,ne++,Mn.splice(0,ne);return}}Mn.splice(0,ne);var ni=_.completedBoundaries;for(ne=0;ne<ni.length;ne++)Me(_,C,ni[ne]);ni.splice(0,ne)}finally{p(C),_.allPendingTasks===0&&_.pingedTasks.length===0&&_.clientRenderedBoundaries.length===0&&_.completedBoundaries.length===0&&C.close()}}function Rt(_,C){try{var N=_.abortableTasks;N.forEach(function(V){return Vi(V,_,C)}),N.clear(),_.destination!==null&&Tt(_,_.destination)}catch(V){vi(_,V),Ln(_,V)}}return Ec.renderToReadableStream=function(_,C){return new Promise(function(N,V){var ie,ne,ge=new Promise(function(ut,Ct){ne=ut,ie=Ct}),ke=yi(_,_e(C?C.identifierPrefix:void 0,C?C.nonce:void 0,C?C.bootstrapScriptContent:void 0,C?C.bootstrapScripts:void 0,C?C.bootstrapModules:void 0),ve(C?C.namespaceURI:void 0),C?C.progressiveChunkSize:void 0,C?C.onError:void 0,ne,function(){var ut=new ReadableStream({type:"bytes",pull:function(Ct){if(ke.status===1)ke.status=2,A(Ct,ke.fatalError);else if(ke.status!==2&&ke.destination===null){ke.destination=Ct;try{Tt(ke,Ct)}catch(cr){vi(ke,cr),Ln(ke,cr)}}},cancel:function(){Rt(ke)}},{highWaterMark:0});ut.allReady=ge,N(ut)},function(ut){ge.catch(function(){}),V(ut)},ie);if(C&&C.signal){var Qe=C.signal,lt=function(){Rt(ke,Qe.reason),Qe.removeEventListener("abort",lt)};Qe.addEventListener("abort",lt)}P(ke)})},Ec.version="18.3.1",Ec}var y_;function $P(){if(y_)return Os;y_=1;var i,e;return i=WP(),e=qP(),Os.version=i.version,Os.renderToString=i.renderToString,Os.renderToStaticMarkup=i.renderToStaticMarkup,Os.renderToNodeStream=i.renderToNodeStream,Os.renderToStaticNodeStream=i.renderToStaticNodeStream,Os.renderToReadableStream=e.renderToReadableStream,Os}var ZP=$P();const GP=Yc(ZP);function KP(i){return ll({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184,24H72A32,32,0,0,0,40,56V184a32,32,0,0,0,32,32h8L65.6,235.2a8,8,0,1,0,12.8,9.6L100,216h56l21.6,28.8a8,8,0,1,0,12.8-9.6L176,216h8a32,32,0,0,0,32-32V56A32,32,0,0,0,184,24ZM56,120V80h64v40Zm80-40h64v40H136ZM72,40H184a16,16,0,0,1,16,16v8H56V56A16,16,0,0,1,72,40ZM184,200H72a16,16,0,0,1-16-16V136H200v48A16,16,0,0,1,184,200ZM96,172a12,12,0,1,1-12-12A12,12,0,0,1,96,172Zm88,0a12,12,0,1,1-12-12A12,12,0,0,1,184,172Z"},child:[]}]})(i)}function QP(){const[i,e]=de.useState([]),{mode:t}=th(),s=_E.divIcon({html:GP.renderToString(Ae.jsx("div",{className:"marker",children:Ae.jsx(KP,{size:30,className:"icon"})})),iconSize:[40,40],iconAnchor:[20,40]});de.useEffect(()=>{const c=Fv(tp(up,"staticMarkers"),zv("tags","array-contains",t));console.log("Map render mode: ",t),(async()=>{try{const T=(await Uv(c)).docs.map(x=>({id:x.id,...x.data()}));e(T)}catch(E){console.error("Error fetching trails:",E)}})()},[t]);const l=i.map(c=>c.position);return Ae.jsx(Ae.Fragment,{children:l.map((c,p)=>Ae.jsx(Hi.Fragment,{children:Ae.jsx(Q_,{icon:s,position:[c.latitude,c.longitude]},`marker ${p}`)},`group ${p}`))})}function XP(){const i=[45.9863,8.97],{mode:e}=th();return Ae.jsx("div",{className:"mainMap",children:Ae.jsxs(K_,{center:i,zoom:13,style:{height:"100vh",width:"100%"},zoomControl:!1,children:[Ae.jsx(Y_,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(e==="bike"||e==="walk")&&Ae.jsx(HP,{}),Ae.jsx(QP,{})]})})}function YP(){return Ae.jsx("div",{className:"mainPage",children:Ae.jsxs(tE,{children:[Ae.jsx(pE,{}),Ae.jsx(XP,{})]})})}function JP(){return Ae.jsx("div",{className:"page",id:"adminPage",children:Ae.jsxs("div",{className:"container",children:[Ae.jsx("div",{className:"content",children:Ae.jsx("h1",{id:"adminWelcomeText",children:"Welcome to the Batcave, Admin"})}),Ae.jsx("div",{className:"content",children:Ae.jsx("div",{className:"card",children:Ae.jsx("ul",{children:Ae.jsx("li",{children:Ae.jsx(Sd,{to:"/admin/uploadGpx",children:"Carica nuovo percorso"})})})})})]})})}var Hf={exports:{}},Wf,v_;function eC(){if(v_)return Wf;v_=1,Wf=function(){return i};function i(){}return Wf}var w_;function tC(){return w_||(w_=1,(function(i){let e=function(){this.xmlSource="",this.metadata={},this.waypoints=[],this.tracks=[],this.routes=[]};e.prototype.parse=function(t){let s=this,l=new window.DOMParser;this.xmlSource=l.parseFromString(t,"text/xml");let c=this.xmlSource.querySelector("metadata");if(c!=null){this.metadata.name=this.getElementValue(c,"name"),this.metadata.desc=this.getElementValue(c,"desc"),this.metadata.time=this.getElementValue(c,"time");let b={},$=c.querySelector("author");if($!=null){b.name=this.getElementValue($,"name"),b.email={};let Y=$.querySelector("email");Y!=null&&(b.email.id=Y.getAttribute("id"),b.email.domain=Y.getAttribute("domain"));let me={},pe=$.querySelector("link");pe!=null&&(me.href=pe.getAttribute("href"),me.text=this.getElementValue(pe,"text"),me.type=this.getElementValue(pe,"type")),b.link=me}this.metadata.author=b;let J={},re=this.queryDirectSelector(c,"link");re!=null&&(J.href=re.getAttribute("href"),J.text=this.getElementValue(re,"text"),J.type=this.getElementValue(re,"type"),this.metadata.link=J)}var p=[].slice.call(this.xmlSource.querySelectorAll("wpt"));for(let b in p){var E=p[b];let $={};$.name=s.getElementValue(E,"name"),$.sym=s.getElementValue(E,"sym"),$.lat=parseFloat(E.getAttribute("lat")),$.lon=parseFloat(E.getAttribute("lon"));let J=parseFloat(s.getElementValue(E,"ele"));$.ele=isNaN(J)?null:J,$.cmt=s.getElementValue(E,"cmt"),$.desc=s.getElementValue(E,"desc");let re=s.getElementValue(E,"time");$.time=re==null?null:new Date(re),s.waypoints.push($)}var T=[].slice.call(this.xmlSource.querySelectorAll("rte"));for(let b in T){let $=T[b],J={};J.name=s.getElementValue($,"name"),J.cmt=s.getElementValue($,"cmt"),J.desc=s.getElementValue($,"desc"),J.src=s.getElementValue($,"src"),J.number=s.getElementValue($,"number");let re=s.queryDirectSelector($,"type");J.type=re!=null?re.innerHTML:null;let Y={},me=$.querySelector("link");me!=null&&(Y.href=me.getAttribute("href"),Y.text=s.getElementValue(me,"text"),Y.type=s.getElementValue(me,"type")),J.link=Y;let pe=[];var x=[].slice.call($.querySelectorAll("rtept"));for(let xe in x){let Ne=x[xe],qe={};qe.lat=parseFloat(Ne.getAttribute("lat")),qe.lon=parseFloat(Ne.getAttribute("lon"));let Fe=parseFloat(s.getElementValue(Ne,"ele"));qe.ele=isNaN(Fe)?null:Fe;let H=s.getElementValue(Ne,"time");qe.time=H==null?null:new Date(H),pe.push(qe)}J.distance=s.calculDistance(pe),J.elevation=s.calcElevation(pe),J.slopes=s.calculSlope(pe,J.distance.cumul),J.points=pe,s.routes.push(J)}var A=[].slice.call(this.xmlSource.querySelectorAll("trk"));for(let b in A){let $=A[b],J={};J.name=s.getElementValue($,"name"),J.cmt=s.getElementValue($,"cmt"),J.desc=s.getElementValue($,"desc"),J.src=s.getElementValue($,"src"),J.number=s.getElementValue($,"number");let re=s.queryDirectSelector($,"type");J.type=re!=null?re.innerHTML:null;let Y={},me=$.querySelector("link");me!=null&&(Y.href=me.getAttribute("href"),Y.text=s.getElementValue(me,"text"),Y.type=s.getElementValue(me,"type")),J.link=Y;let pe=[],xe=[].slice.call($.querySelectorAll("trkpt"));for(let Ne in xe){var M=xe[Ne];let qe={};qe.lat=parseFloat(M.getAttribute("lat")),qe.lon=parseFloat(M.getAttribute("lon"));let Fe=parseFloat(s.getElementValue(M,"ele"));qe.ele=isNaN(Fe)?null:Fe;let H=s.getElementValue(M,"time");qe.time=H==null?null:new Date(H),pe.push(qe)}J.distance=s.calculDistance(pe),J.elevation=s.calcElevation(pe),J.slopes=s.calculSlope(pe,J.distance.cumul),J.points=pe,s.tracks.push(J)}},e.prototype.getElementValue=function(t,s){let l=t.querySelector(s);return l!=null?l.innerHTML!=null?l.innerHTML:l.childNodes[0].data:l},e.prototype.queryDirectSelector=function(t,s){let l=t.querySelectorAll(s),c=l[0];if(l.length>1){let p=t.childNodes;for(idx in p)elem=p[idx],elem.tagName===s&&(c=elem)}return c},e.prototype.calculDistance=function(t){let s={},l=0,c=[];for(var p=0;p<t.length-1;p++)l+=this.calcDistanceBetween(t[p],t[p+1]),c[p]=l;return c[t.length-1]=l,s.total=l,s.cumul=c,s},e.prototype.calcDistanceBetween=function(t,s){let l={};l.lat=t.lat,l.lon=t.lon;let c={};c.lat=s.lat,c.lon=s.lon;var p=Math.PI/180,E=l.lat*p,T=c.lat*p,x=Math.sin((c.lat-l.lat)*p/2),A=Math.sin((c.lon-l.lon)*p/2),M=x*x+Math.cos(E)*Math.cos(T)*A*A;return 6371e3*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))},e.prototype.calcElevation=function(t){for(var s=0,l=0,c={},p=0;p<t.length-1;p++){let M=t[p+1].ele,b=t[p].ele;if(M!==null&&b!==null){let $=parseFloat(M)-parseFloat(b);$<0?l+=$:$>0&&(s+=$)}}for(var E=[],T=0,x=(p=0,t.length);p<x;p++)if(t[p].ele!==null){var A=parseFloat(t[p].ele);E.push(A),T+=A}return c.max=Math.max.apply(null,E)||null,c.min=Math.min.apply(null,E)||null,c.pos=Math.abs(s)||null,c.neg=Math.abs(l)||null,c.avg=T/E.length||null,c},e.prototype.calculSlope=function(t,s){let l=[];for(var c=0;c<t.length-1;c++){let p=t[c],E=100*(t[c+1].ele-p.ele)/(s[c+1]-s[c]);l.push(E)}return l},e.prototype.toGeoJSON=function(){var t={type:"FeatureCollection",features:[],properties:{name:this.metadata.name,desc:this.metadata.desc,time:this.metadata.time,author:this.metadata.author,link:this.metadata.link}};for(idx in this.tracks){let c=this.tracks[idx];var s={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in s.properties.name=c.name,s.properties.cmt=c.cmt,s.properties.desc=c.desc,s.properties.src=c.src,s.properties.number=c.number,s.properties.link=c.link,s.properties.type=c.type,c.points){let p=c.points[idx];(l=[]).push(p.lon),l.push(p.lat),l.push(p.ele),s.geometry.coordinates.push(l)}t.features.push(s)}for(idx in this.routes){let c=this.routes[idx];s={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in s.properties.name=c.name,s.properties.cmt=c.cmt,s.properties.desc=c.desc,s.properties.src=c.src,s.properties.number=c.number,s.properties.link=c.link,s.properties.type=c.type,c.points){let p=c.points[idx];var l;(l=[]).push(p.lon),l.push(p.lat),l.push(p.ele),s.geometry.coordinates.push(l)}t.features.push(s)}for(idx in this.waypoints){let c=this.waypoints[idx];(s={type:"Feature",geometry:{type:"Point",coordinates:[]},properties:{}}).properties.name=c.name,s.properties.sym=c.sym,s.properties.cmt=c.cmt,s.properties.desc=c.desc,s.geometry.coordinates=[c.lon,c.lat,c.ele],t.features.push(s)}return t},eC()(),i.exports=e})(Hf)),Hf.exports}var nC=tC();const rC=Yc(nC),iC=[45.9863,8.97];function oC(){const[i,e]=de.useState({name:"",difficulty:"",lengthKm:0,tags:[],description:"",src:"",track:[]}),t=async c=>{try{await bP(tp(up,"trails"),c)}catch(p){console.error("Upload failed: ",p)}},s=async c=>{const p=new FormData(c.target),E=new rC,x=await c.target.querySelector('input[type="file"]').files[0].text();E.parse(x);const A=E.tracks[0].points.map(b=>new Po(b.lat,b.lon)),M={name:p.get("name"),description:p.get("description"),src:p.get("src"),lengthKm:parseFloat(p.get("length")),difficulty:p.get("difficulty"),tags:p.getAll("tags"),track:A};e(M)},l=({positions:c})=>{const p=kE();return de.useEffect(()=>{!c||c.length===0||p.fitBounds(c)},[c,p]),Ae.jsx(X_,{positions:c,weight:5,color:"red"},"preview")};return Ae.jsxs("div",{className:"page",id:"gpxUploadPage",children:[Ae.jsxs(K_,{center:iC,zoom:13,style:{height:"100vh",width:"100%"},zoomControl:!1,children:[Ae.jsx(Y_,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.track?.length>0&&Ae.jsx(l,{positions:i.track.map(c=>[c.latitude,c.longitude])})]}),Ae.jsxs("div",{className:"card",id:"uploadTools",children:[Ae.jsx("h1",{children:"Aggiungi percorso"}),Ae.jsxs("form",{onSubmit:c=>{c.preventDefault(),c.target.checkValidity()?s(c):c.target.reportValidity()},children:[Ae.jsx("input",{type:"file",accept:".gpx",required:!0}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("a",{children:"Nome percorso:"}),Ae.jsx("input",{required:!0,type:"text",name:"name"})]}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("a",{children:"Descrizione:"}),Ae.jsx("textarea",{id:"description",name:"description",style:{resize:"none",width:"205px",height:"100px"}})]}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("a",{children:"Fonte (URL):"}),Ae.jsx("input",{type:"url",name:"src",id:"src"})]}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("a",{children:"Lunghezza (km):"}),Ae.jsx("input",{required:!0,type:"number",name:"length",id:"length",step:"any",min:"0.01",inputMode:"decimal",pattern:"^[0-9]*[.]?[0-9]+$"})]}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("a",{children:"DifficoltÃ :"}),Ae.jsx("label",{children:Ae.jsxs("select",{name:"difficulty",required:!0,children:[Ae.jsx("option",{value:"",children:"--Seleziona--"}),Ae.jsx("option",{value:"easy",children:"Facile"}),Ae.jsx("option",{value:"moderate",children:"Media"}),Ae.jsx("option",{value:"hard",children:"Difficile"}),Ae.jsx("option",{value:"expert",children:"Esperto"})]})})]}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("a",{children:"ModalitÃ :"}),Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",name:"tags",value:"walk"}),"Walk"]}),Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",name:"tags",value:"bike"}),"Bike"]}),Ae.jsxs("label",{children:[Ae.jsx("input",{type:"checkbox",name:"tags",value:"swim"}),"Swim"]})]}),Ae.jsxs("div",{className:"buttonsRow",children:[Ae.jsx("button",{onClick:()=>console.log(i),type:"submit",children:"Applica"}),Ae.jsx("button",{onClick:()=>t(i),disabled:i.track?.length===0,children:"Pubblica"})]})]})]})]})}function sC(){const i=R_();return de.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("redirect");t&&i(t,{replace:!0})},[i]),Ae.jsxs(_w,{children:[Ae.jsx(Tc,{path:"/",element:Ae.jsx(YP,{})}),Ae.jsx(Tc,{path:"/admin",element:Ae.jsx(JP,{})}),Ae.jsx(Tc,{path:"/admin/uploadGpx",element:Ae.jsx(oC,{})})]})}eE.createRoot(document.getElementById("root")).render(Ae.jsx(de.StrictMode,{children:Ae.jsx(Bw,{basename:"/lakeLugano",children:Ae.jsx(sC,{})})}));
